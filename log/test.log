  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: Unhandled exception:
Expected C:/Development/Mother/lib/model_rss.rb to define ModelRSS (LoadError): 
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:426:in `load_missing_constant'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:80:in `const_missing'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:92:in `const_missing'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:437:in `load_missing_constant'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:80:in `const_missing'
	C:/Development/Mother/app/models/expectation.rb:3
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `polyglot_original_require'
	C:/Ruby/lib/ruby/gems/1.8/gems/polyglot-0.2.9/lib/polyglot.rb:70:in `require'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:158:in `require'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:265:in `require_or_load'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:425:in `load_missing_constant'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:80:in `const_missing'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:92:in `const_missing'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:437:in `load_missing_constant'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:96:in `const_missing'
	C:/Development/Mother/lib/watchful_eye.rb:43:in `inspection!'
	C:/Development/Mother/lib/watchful_eye.rb:28:in `start'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:64:in `call'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:64:in `loop'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:62:in `loop'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:26:in `call'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:26:in `initialize'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:23:in `new'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:23:in `initialize'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:61:in `new'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:61:in `loop'
	C:/Development/Mother/lib/watchful_eye.rb:26:in `start'
	C:/Development/Mother/lib/watchful_eye.rb:14:in `start'
	C:/Development/Mother/lib/watchful_eye.rb:20:in `instance_eval'
	C:/Development/Mother/lib/watchful_eye.rb:20:in `initialize'
	C:/Development/Mother/lib/watchful_eye.rb:13:in `new'
	C:/Development/Mother/lib/watchful_eye.rb:13:in `start'
	C:/Development/Mother/config/initializers/mother.rb:17
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:147:in `load_without_new_constant_marking'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:147:in `load'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:622:in `load_application_initializers'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:621:in `each'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:621:in `load_application_initializers'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:176:in `process'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `send'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `run'
	C:/Development/Mother/config/environment.rb:10
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
	./test_helper.rb:2
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
	C:/Development/Mother/test/unit/lib/town_crier_test.rb:1
	-e:1:in `load'
	-e:1
RobustThread: "#<Thread:0x62d55f4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x62d63dc run>"
RobustThread: "#<Thread:0x62d63dc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65daa38 run>"
RobustThread: "#<Thread:0x65daa38 run>" exited cleanly
RobustThread: exited cleanly
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65d1bcc run>"
RobustThread: "#<Thread:0x65d1bcc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65cbb78 run>"
RobustThread: "#<Thread:0x65cbb78 run>" exited cleanly
RobustThread: exited cleanly
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65d9a48 run>"
RobustThread: "#<Thread:0x65d9a48 run>" exited cleanly
RobustThread: exited cleanly
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65cb218 run>"
RobustThread: "#<Thread:0x65cb218 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b2bdc run>"
RobustThread: "#<Thread:0x65b2bdc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
RobustThread: waiting on "#<Thread:0x65ac0e8 run>"
RobustThread: "#<Thread:0x65ac0e8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: Unhandled exception:
undefined method `try_expire_all' for Expectation:Class (NoMethodError): 
	C:/Development/Mother/lib/watchful_eye.rb:43:in `inspection!'
	C:/Development/Mother/lib/watchful_eye.rb:28:in `start'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:64:in `call'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:64:in `loop'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:62:in `loop'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:26:in `call'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:26:in `initialize'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:23:in `new'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:23:in `initialize'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:61:in `new'
	C:/Ruby/lib/ruby/gems/1.8/gems/robustthread-0.5.2/lib/robustthread.rb:61:in `loop'
	C:/Development/Mother/lib/watchful_eye.rb:26:in `start'
	C:/Development/Mother/lib/watchful_eye.rb:14:in `start'
	C:/Development/Mother/lib/watchful_eye.rb:20:in `instance_eval'
	C:/Development/Mother/lib/watchful_eye.rb:20:in `initialize'
	C:/Development/Mother/lib/watchful_eye.rb:13:in `new'
	C:/Development/Mother/lib/watchful_eye.rb:13:in `start'
	C:/Development/Mother/config/initializers/mother.rb:17
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:147:in `load_without_new_constant_marking'
	C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:147:in `load'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:622:in `load_application_initializers'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:621:in `each'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:621:in `load_application_initializers'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:176:in `process'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `send'
	C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/initializer.rb:113:in `run'
	C:/Development/Mother/config/environment.rb:10
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
	C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
	C:\Program Files\JetBrains\RubyMine 2.0\rb\testing\runner\tunit_in_folder_runner.rb:41
	C:\Program Files\JetBrains\RubyMine 2.0\rb\testing\runner\tunit_in_folder_runner.rb:35:in `each'
	C:\Program Files\JetBrains\RubyMine 2.0\rb\testing\runner\tunit_in_folder_runner.rb:35
	-e:1:in `load'
	-e:1
RobustThread: "#<Thread:0x6607150 run>" exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"path_1", :key=>{"path"=>1}, :ns=>"mother_test.endpoints"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"status_1", :key=>{"status"=>1}, :ns=>"mother_test.endpoints"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"mothered_endpoint_id_1", :key=>{"mothered_endpoint_id"=>1}, :ns=>"mother_test.endpoint_errors"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"endpoint_path_1", :key=>{"endpoint_path"=>1}, :ns=>"mother_test.endpoint_errors"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"mothered_endpoint_id_1", :key=>{"mothered_endpoint_id"=>1}, :ns=>"mother_test.endpoint_events"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"endpoint_path_1", :key=>{"endpoint_path"=>1}, :ns=>"mother_test.endpoint_events"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"mothered_endpoint_id_1", :key=>{"mothered_endpoint_id"=>1}, :ns=>"mother_test.expectations"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"endpoint_path_1", :key=>{"endpoint_path"=>1}, :ns=>"mother_test.expectations"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"status_1", :key=>{"status"=>1}, :ns=>"mother_test.expectations"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"mothered_endpoint_id_1", :key=>{"mothered_endpoint_id"=>1}, :ns=>"mother_test.jobs"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"endpointPath_1", :key=>{"endpointPath"=>1}, :ns=>"mother_test.jobs"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"status_1", :key=>{"status"=>1}, :ns=>"mother_test.jobs"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"job_id_1", :key=>{"job_id"=>1}, :ns=>"mother_test.job_events"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"job_id_1", :key=>{"job_id"=>1}, :ns=>"mother_test.job_events"}])
  MONGODB db.system.indexes.insert([{:unique=>nil, :name=>"job_id_1", :key=>{"job_id"=>1}, :ns=>"mother_test.job_events"}])
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x63016e0 run>"
RobustThread: "#<Thread:0x63016e0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65aa644 run>"
RobustThread: "#<Thread:0x65aa644 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b6ac0 run>"
RobustThread: "#<Thread:0x65b6ac0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b9be4 run>"
RobustThread: "#<Thread:0x65b9be4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b8b40 run>"
RobustThread: "#<Thread:0x65b8b40 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b560c run>"
RobustThread: "#<Thread:0x65b560c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b4554 run>"
RobustThread: "#<Thread:0x65b4554 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b4554 run>"
RobustThread: "#<Thread:0x65b4554 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b5fa8 run>"
RobustThread: "#<Thread:0x65b5fa8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b6bb0 run>"
RobustThread: "#<Thread:0x65b6bb0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b560c run>"
RobustThread: "#<Thread:0x65b560c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b4554 run>"
RobustThread: "#<Thread:0x65b4554 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b53dc run>"
RobustThread: "#<Thread:0x65b53dc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b6354 run>"
RobustThread: "#<Thread:0x65b6354 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b4ef0 run>"
RobustThread: "#<Thread:0x65b4ef0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b3370 run>"
RobustThread: "#<Thread:0x65b3370 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b46f8 run>"
RobustThread: "#<Thread:0x65b46f8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b2830 run>"
RobustThread: "#<Thread:0x65b2830 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
RobustThread: waiting on "#<Thread:0x65aba1c run>"
RobustThread: "#<Thread:0x65aba1c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b1570 run>"
RobustThread: "#<Thread:0x65b1570 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b15ac run>"
RobustThread: "#<Thread:0x65b15ac run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b146c run>"
RobustThread: "#<Thread:0x65b146c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b18b8 run>"
RobustThread: "#<Thread:0x65b18b8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b21c8 run>"
RobustThread: "#<Thread:0x65b21c8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b13b8 run>"
RobustThread: "#<Thread:0x65b13b8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b17b4 run>"
RobustThread: "#<Thread:0x65b17b4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b105c run>"
RobustThread: "#<Thread:0x65b105c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b2628 run>"
RobustThread: "#<Thread:0x65b2628 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65f1814 run>"
RobustThread: "#<Thread:0x65f1814 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b1534 run>"
RobustThread: "#<Thread:0x65b1534 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b1494 run>"
RobustThread: "#<Thread:0x65b1494 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b1494 run>"
RobustThread: "#<Thread:0x65b1494 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65b24ac run>"
RobustThread: "#<Thread:0x65b24ac run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
RobustThread: waiting on "#<Thread:0x65ac0ac run>"
RobustThread: "#<Thread:0x65ac0ac run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: waiting on "#<Thread:0x65a66e8 run>"
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: "#<Thread:0x65a66e8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7818 run>"
RobustThread: "#<Thread:0x65a7818 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b44e66dd3b7ec221c000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Wed Jan 06 19:37:17 UTC 2010, "_id"=>4b44e66dd3b7ec221c000001, "path"=>"a/b/c", "created_at"=>Wed Jan 06 19:37:17 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-06 11:37:17) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a70e8 run>"
RobustThread: "#<Thread:0x65a70e8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b44e6f1d3b7ec1820000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Wed Jan 06 19:39:29 UTC 2010, "_id"=>4b44e6f1d3b7ec1820000001, "path"=>"a/b/c", "created_at"=>Wed Jan 06 19:39:29 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-06 11:39:30) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5fe0 run>"
RobustThread: "#<Thread:0x65a5fe0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b44e74ad3b7ec215c000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Wed Jan 06 19:40:58 UTC 2010, "_id"=>4b44e74ad3b7ec215c000001, "path"=>"a/b/c", "created_at"=>Wed Jan 06 19:40:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-06 11:40:58) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b44e74ad3b7ec215c000002}, {"status"=>:unknown, "updated_at"=>Wed Jan 06 19:40:58 UTC 2010, "_id"=>4b44e74ad3b7ec215c000002, "path"=>"c/d/e", "created_at"=>Wed Jan 06 19:40:58 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b44e74ad3b7ec215c000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Wed Jan 06 19:40:58 UTC 2010, "_id"=>4b44e74ad3b7ec215c000002, "path"=>"c/d/e", "created_at"=>Wed Jan 06 19:40:58 UTC 2010})
Completed in 55ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a2bec run>"
RobustThread: "#<Thread:0x65a2bec run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b44e794d3b7ec1f20000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Wed Jan 06 19:42:12 UTC 2010, "_id"=>4b44e794d3b7ec1f20000001, "path"=>"a/b/c", "created_at"=>Wed Jan 06 19:42:12 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-06 11:42:12) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b44e794d3b7ec1f20000002}, {"status"=>:unknown, "updated_at"=>Wed Jan 06 19:42:12 UTC 2010, "_id"=>4b44e794d3b7ec1f20000002, "path"=>"c/d/e", "created_at"=>Wed Jan 06 19:42:12 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b44e794d3b7ec1f20000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Wed Jan 06 19:42:12 UTC 2010, "_id"=>4b44e794d3b7ec1f20000002, "path"=>"c/d/e", "created_at"=>Wed Jan 06 19:42:12 UTC 2010})
Completed in 20ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a70e8 run>"
RobustThread: "#<Thread:0x65a70e8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b44e7b6d3b7ec1afc000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Wed Jan 06 19:42:46 UTC 2010, "_id"=>4b44e7b6d3b7ec1afc000001, "path"=>"a/b/c", "created_at"=>Wed Jan 06 19:42:46 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-06 11:42:47) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b44e7b7d3b7ec1afc000002}, {"status"=>:unknown, "updated_at"=>Wed Jan 06 19:42:47 UTC 2010, "_id"=>4b44e7b7d3b7ec1afc000002, "path"=>"c/d/e", "created_at"=>Wed Jan 06 19:42:47 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b44e7b7d3b7ec1afc000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Wed Jan 06 19:42:47 UTC 2010, "_id"=>4b44e7b7d3b7ec1afc000002, "path"=>"c/d/e", "created_at"=>Wed Jan 06 19:42:47 UTC 2010})
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5dc4 run>"
RobustThread: "#<Thread:0x65a5dc4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a1ddc run>"
RobustThread: "#<Thread:0x65a1ddc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6030 run>"
RobustThread: "#<Thread:0x65a6030 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a1850 run>"
RobustThread: "#<Thread:0x65a1850 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a65e4 run>"
RobustThread: "#<Thread:0x65a65e4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6ef4 run>"
RobustThread: "#<Thread:0x65a6ef4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a2e6c run>"
RobustThread: "#<Thread:0x65a2e6c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5fb8 run>"
RobustThread: "#<Thread:0x65a5fb8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6260 run>"
RobustThread: "#<Thread:0x65a6260 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x63d46d0 run>"
RobustThread: "#<Thread:0x63d46d0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother's Watchful Eye is watching on this thread:nil
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x648361c run>"
RobustThread: "#<Thread:0x648361c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6380a6c run>"
RobustThread: "#<Thread:0x6380a6c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a0298 run>"
RobustThread: "#<Thread:0x65a0298 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a4000 run>"
RobustThread: "#<Thread:0x65a4000 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a61fc run>"
RobustThread: "#<Thread:0x65a61fc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a3448 run>"
RobustThread: "#<Thread:0x65a3448 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a56e4 run>"
RobustThread: "#<Thread:0x65a56e4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6f6c run>"
RobustThread: "#<Thread:0x65a6f6c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a0234 run>"
RobustThread: "#<Thread:0x65a0234 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a02ac run>"
RobustThread: "#<Thread:0x65a02ac run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a4bf4 run>"
RobustThread: "#<Thread:0x65a4bf4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a3e48 run>"
RobustThread: "#<Thread:0x65a3e48 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a04dc run>"
RobustThread: "#<Thread:0x65a04dc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-06 16:48:26) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b452f5bd3b7ec2678000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 00:48:26 UTC 2010, "_id"=>4b452f5bd3b7ec2678000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 00:48:26 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a04dc run>"
RobustThread: "#<Thread:0x65a04dc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-06 16:55:07) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4530ecd3b7ec188c000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 00:55:07 UTC 2010, "_id"=>4b4530ecd3b7ec188c000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 00:55:07 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5d24 run>"
RobustThread: "#<Thread:0x65a5d24 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-06 17:03:57) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4532fdd3b7ec1588000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 01:03:57 UTC 2010, "_id"=>4b4532fdd3b7ec1588000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 01:03:57 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4532fed3b7ec1588000002}, {"updated_at"=>Thu Jan 07 01:03:58 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4532fed3b7ec1588000002, "_type"=>"EndpointEvent", "endpoint_id"=>4b4532fdd3b7ec1588000001, "created_at"=>Thu Jan 07 01:03:58 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4532fdd3b7ec1588000001, :status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5bbc run>"
RobustThread: "#<Thread:0x65a5bbc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 07:59:49) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4604f5d3b7ec23dc000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 15:59:49 UTC 2010, "_id"=>4b4604f5d3b7ec23dc000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 15:59:49 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4604f5d3b7ec23dc000002}, {"updated_at"=>Thu Jan 07 15:59:49 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4604f5d3b7ec23dc000002, "_type"=>"EndpointEvent", "endpoint_id"=>4b4604f5d3b7ec23dc000001, "created_at"=>Thu Jan 07 15:59:49 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4604f5d3b7ec23dc000001, :status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6bfc run>"
RobustThread: "#<Thread:0x65a6bfc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:00:49) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b460531d3b7ec17ec000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 16:00:49 UTC 2010, "_id"=>4b460531d3b7ec17ec000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:00:49 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b460531d3b7ec17ec000002}, {"updated_at"=>Thu Jan 07 16:00:49 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b460531d3b7ec17ec000002, "_type"=>"EndpointEvent", "endpoint_id"=>4b460531d3b7ec17ec000001, "created_at"=>Thu Jan 07 16:00:49 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b460531d3b7ec17ec000001, :status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a1008 run>"
RobustThread: "#<Thread:0x65a1008 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:02:02) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46057ad3b7ec2718000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 16:02:02 UTC 2010, "_id"=>4b46057ad3b7ec2718000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:02:02 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46057ad3b7ec2718000002}, {"updated_at"=>Thu Jan 07 16:02:02 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46057ad3b7ec2718000002, "_type"=>"EndpointEvent", "endpoint_id"=>4b46057ad3b7ec2718000001, "created_at"=>Thu Jan 07 16:02:02 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46057ad3b7ec2718000001, :status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a4e88 run>"
RobustThread: "#<Thread:0x65a4e88 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:08:55) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b460717d3b7ec19bc000001}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 16:08:55 UTC 2010, "_id"=>4b460717d3b7ec19bc000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:08:55 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b460717d3b7ec19bc000002}, {"updated_at"=>Thu Jan 07 16:08:55 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b460717d3b7ec19bc000002, "_type"=>"EndpointEvent", "endpoint_id"=>4b460717d3b7ec19bc000001, "created_at"=>Thu Jan 07 16:08:55 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b460717d3b7ec19bc000001, :status=>:pending}, {})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_event
Completed in 246ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6558 run>"
RobustThread: "#<Thread:0x65a6558 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46075cd3b7ec0234000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 16:10:04 UTC 2010, "_id"=>4b46075cd3b7ec0234000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:10:04 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46075ed3b7ec0234000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 16:10:06 UTC 2010, "_id"=>4b46075ed3b7ec0234000002, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:10:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:10:06) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46075ed3b7ec0234000003}, {"updated_at"=>Thu Jan 07 16:10:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46075ed3b7ec0234000003, "_type"=>"EndpointEvent", "endpoint_id"=>4b46075ed3b7ec0234000002, "created_at"=>Thu Jan 07 16:10:06 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46075ed3b7ec0234000002}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 14ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a0bf8 run>"
RobustThread: "#<Thread:0x65a0bf8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4607a6d3b7ec040c000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 16:11:18 UTC 2010, "_id"=>4b4607a6d3b7ec040c000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:11:18 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:11:18) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4607a6d3b7ec040c000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 16:11:18 UTC 2010, "_id"=>4b4607a6d3b7ec040c000002, "path"=>"d/e/f", "created_at"=>Thu Jan 07 16:11:18 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4607a6d3b7ec040c000003}, {"updated_at"=>Thu Jan 07 16:11:18 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b4607a6d3b7ec040c000003, "_type"=>"EndpointEvent", "endpoint_id"=>4b4607a6d3b7ec040c000002, "created_at"=>Thu Jan 07 16:11:18 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4607a6d3b7ec040c000002}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4607a7d3b7ec040c000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 16:11:19 UTC 2010, "_id"=>4b4607a7d3b7ec040c000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:11:19 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:11:19) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4607a7d3b7ec040c000005}, {"updated_at"=>Thu Jan 07 16:11:19 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4607a7d3b7ec040c000005, "_type"=>"EndpointEvent", "endpoint_id"=>4b4607a7d3b7ec040c000004, "created_at"=>Thu Jan 07 16:11:19 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4607a7d3b7ec040c000004}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 11ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x659792c run>"
RobustThread: "#<Thread:0x659792c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b460897d3b7ec27f4000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 16:15:19 UTC 2010, "_id"=>4b460897d3b7ec27f4000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:15:19 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:15:19) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b460897d3b7ec27f4000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 16:15:19 UTC 2010, "_id"=>4b460897d3b7ec27f4000002, "path"=>"d/e/f", "created_at"=>Thu Jan 07 16:15:19 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b460897d3b7ec27f4000003}, {"updated_at"=>Thu Jan 07 16:15:19 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b460897d3b7ec27f4000003, "_type"=>"EndpointEvent", "endpoint_id"=>4b460897d3b7ec27f4000002, "created_at"=>Thu Jan 07 16:15:19 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b460897d3b7ec27f4000002}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b460898d3b7ec27f4000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 16:15:20 UTC 2010, "_id"=>4b460898d3b7ec27f4000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 16:15:20 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 08:15:20) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b460898d3b7ec27f4000005}, {"updated_at"=>Thu Jan 07 16:15:20 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b460898d3b7ec27f4000005, "_type"=>"EndpointEvent", "endpoint_id"=>4b460898d3b7ec27f4000004, "created_at"=>Thu Jan 07 16:15:20 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b460898d3b7ec27f4000004}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 12ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6f44 run>"
RobustThread: "#<Thread:0x65a6f44 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6594 run>"
RobustThread: "#<Thread:0x65a6594 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46186dd3b7ec25d0000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:22:53 UTC 2010, "_id"=>4b46186dd3b7ec25d0000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:22:53 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7020 run>"
RobustThread: "#<Thread:0x65a7020 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461888d3b7ec1724000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:23:20 UTC 2010, "_id"=>4b461888d3b7ec1724000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:23:20 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a656c run>"
RobustThread: "#<Thread:0x65a656c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4618c1d3b7ec26c4000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:24:17 UTC 2010, "_id"=>4b4618c1d3b7ec26c4000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:24:17 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4618c1d3b7ec26c4000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6648 run>"
RobustThread: "#<Thread:0x65a6648 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4618f4d3b7ec1e10000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:25:07 UTC 2010, "_id"=>4b4618f4d3b7ec1e10000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:25:07 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4618f4d3b7ec1e10000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4618f4d3b7ec1e10000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65c6790 run>"
RobustThread: "#<Thread:0x65c6790 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461917d3b7ec1440000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:25:43 UTC 2010, "_id"=>4b461917d3b7ec1440000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:25:43 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461917d3b7ec1440000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461917d3b7ec1440000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a70fc run>"
RobustThread: "#<Thread:0x65a70fc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46195cd3b7ec27dc000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:26:52 UTC 2010, "_id"=>4b46195cd3b7ec27dc000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:26:52 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46195cd3b7ec27dc000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46195cd3b7ec27dc000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5ff4 run>"
RobustThread: "#<Thread:0x65a5ff4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461985d3b7ec23c8000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:27:32 UTC 2010, "_id"=>4b461985d3b7ec23c8000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:27:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461985d3b7ec23c8000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461985d3b7ec23c8000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:27:33) [POST]
  Parameters: {"start_time"=>Fri Jan 01 00:00:00 -0800 2010}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7174 run>"
RobustThread: "#<Thread:0x65a7174 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4619acd3b7ec2068000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:28:12 UTC 2010, "_id"=>4b4619acd3b7ec2068000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:28:12 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4619acd3b7ec2068000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4619acd3b7ec2068000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:28:12) [POST]
  Parameters: {"job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7110 run>"
RobustThread: "#<Thread:0x65a7110 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4619d6d3b7ec1384000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:28:54 UTC 2010, "_id"=>4b4619d6d3b7ec1384000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:28:54 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4619d6d3b7ec1384000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4619d6d3b7ec1384000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:28:54) [POST]
  Parameters: {"event"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a71ec run>"
RobustThread: "#<Thread:0x65a71ec run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461a04d3b7ec23a0000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:29:40 UTC 2010, "_id"=>4b461a04d3b7ec23a0000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:29:40 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461a04d3b7ec23a0000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461a04d3b7ec23a0000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:29:40) [POST]
  Parameters: {"job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a1b48 run>"
RobustThread: "#<Thread:0x65a1b48 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461a50d3b7ec1e5c000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:30:55 UTC 2010, "_id"=>4b461a50d3b7ec1e5c000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:30:55 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461a50d3b7ec1e5c000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461a50d3b7ec1e5c000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:30:56) [POST]
  Parameters: {"job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a660c run>"
RobustThread: "#<Thread:0x65a660c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461a7ed3b7ec1878000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:31:42 UTC 2010, "_id"=>4b461a7ed3b7ec1878000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:31:42 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461a7ed3b7ec1878000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461a7ed3b7ec1878000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:31:42) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461a7ed3b7ec1878000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:31:42 UTC 2010, "_id"=>4b461a7ed3b7ec1878000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461a7ed3b7ec1878000001, "created_at"=>Thu Jan 07 17:31:42 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461a7ed3b7ec1878000003}, {"job_id"=>4b461a7ed3b7ec1878000002, "updated_at"=>Thu Jan 07 17:31:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461a7ed3b7ec1878000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461a7ed3b7ec1878000001, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:31:42 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461a7ed3b7ec1878000001}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6aa8 run>"
RobustThread: "#<Thread:0x65a6aa8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461a9cd3b7ec2218000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:32:12 UTC 2010, "_id"=>4b461a9cd3b7ec2218000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:32:12 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461a9cd3b7ec2218000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461a9cd3b7ec2218000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:32:12) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461a9cd3b7ec2218000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:32:12 UTC 2010, "_id"=>4b461a9cd3b7ec2218000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461a9cd3b7ec2218000001, "created_at"=>Thu Jan 07 17:32:12 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461a9cd3b7ec2218000003}, {"job_id"=>4b461a9cd3b7ec2218000002, "updated_at"=>Thu Jan 07 17:32:12 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461a9cd3b7ec2218000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461a9cd3b7ec2218000001, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:32:12 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461a9cd3b7ec2218000001}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6abc run>"
RobustThread: "#<Thread:0x65a6abc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461ab7d3b7ec2360000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:32:38 UTC 2010, "_id"=>4b461ab7d3b7ec2360000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:32:38 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461ab7d3b7ec2360000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461ab7d3b7ec2360000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:32:39) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461ab7d3b7ec2360000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:32:39 UTC 2010, "_id"=>4b461ab7d3b7ec2360000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461ab7d3b7ec2360000001, "created_at"=>Thu Jan 07 17:32:39 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461ab7d3b7ec2360000003}, {"job_id"=>4b461ab7d3b7ec2360000002, "updated_at"=>Thu Jan 07 17:32:39 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461ab7d3b7ec2360000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461ab7d3b7ec2360000001, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:32:39 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461ab7d3b7ec2360000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461ab7d3b7ec2360000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461ab7d3b7ec2360000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6008 run>"
RobustThread: "#<Thread:0x65a6008 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461afad3b7ec02a4000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:33:46 UTC 2010, "_id"=>4b461afad3b7ec02a4000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:33:46 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461afad3b7ec02a4000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461afad3b7ec02a4000001}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:33:46) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461afad3b7ec02a4000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:33:46 UTC 2010, "_id"=>4b461afad3b7ec02a4000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461afad3b7ec02a4000001, "created_at"=>Thu Jan 07 17:33:46 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461afad3b7ec02a4000003}, {"job_id"=>4b461afad3b7ec02a4000002, "updated_at"=>Thu Jan 07 17:33:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461afad3b7ec02a4000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461afad3b7ec02a4000001, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:33:46 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b461afad3b7ec02a4000001, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 22ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b461afad3b7ec02a4000001}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b461afad3b7ec02a4000001}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461afad3b7ec02a4000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461afad3b7ec02a4000001}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5b6c run>"
RobustThread: "#<Thread:0x65a5b6c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461d5fd3b7ec2040000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:43:59 UTC 2010, "_id"=>4b461d5fd3b7ec2040000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:43:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 09:43:59) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461d5fd3b7ec2040000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:43:59 UTC 2010, "_id"=>4b461d5fd3b7ec2040000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461d5fd3b7ec2040000001, "created_at"=>Thu Jan 07 17:43:59 UTC 2010, "start_time"=>Thu Jan 07 17:43:59 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461d5fd3b7ec2040000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:43:59 UTC 2010, "_id"=>4b461d5fd3b7ec2040000003, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:43:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461d5fd3b7ec2040000003}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461d5fd3b7ec2040000003}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:43:59) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461d5fd3b7ec2040000004}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:43:59 UTC 2010, "_id"=>4b461d5fd3b7ec2040000004, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461d5fd3b7ec2040000003, "created_at"=>Thu Jan 07 17:43:59 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461d5fd3b7ec2040000005}, {"job_id"=>4b461d5fd3b7ec2040000004, "updated_at"=>Thu Jan 07 17:43:59 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461d5fd3b7ec2040000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461d5fd3b7ec2040000003, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:43:59 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461d5fd3b7ec2040000003}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b461d5fd3b7ec2040000003}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b461d5fd3b7ec2040000003}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461d5fd3b7ec2040000003}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461d5fd3b7ec2040000003}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a70d4 run>"
RobustThread: "#<Thread:0x65a70d4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461d8cd3b7ec2604000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:44:44 UTC 2010, "_id"=>4b461d8cd3b7ec2604000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:44:44 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 09:44:44) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461d8cd3b7ec2604000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:44:44 UTC 2010, "_id"=>4b461d8cd3b7ec2604000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461d8cd3b7ec2604000001, "created_at"=>Thu Jan 07 17:44:44 UTC 2010, "start_time"=>Thu Jan 07 17:44:44 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461d8cd3b7ec2604000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:44:44 UTC 2010, "_id"=>4b461d8cd3b7ec2604000003, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:44:44 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461d8cd3b7ec2604000003}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461d8cd3b7ec2604000003}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:44:44) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461d8dd3b7ec2604000004}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:44:45 UTC 2010, "_id"=>4b461d8dd3b7ec2604000004, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461d8cd3b7ec2604000003, "created_at"=>Thu Jan 07 17:44:45 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461d8dd3b7ec2604000005}, {"job_id"=>4b461d8dd3b7ec2604000004, "updated_at"=>Thu Jan 07 17:44:45 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461d8dd3b7ec2604000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461d8cd3b7ec2604000003, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:44:45 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461d8cd3b7ec2604000003}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b461d8cd3b7ec2604000003}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b461d8cd3b7ec2604000003}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461d8cd3b7ec2604000003}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461d8cd3b7ec2604000003}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a2a20 run>"
RobustThread: "#<Thread:0x65a2a20 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461dabd3b7ec2370000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:45:15 UTC 2010, "_id"=>4b461dabd3b7ec2370000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:45:15 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 09:45:16) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461dacd3b7ec2370000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:45:16 UTC 2010, "_id"=>4b461dacd3b7ec2370000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461dabd3b7ec2370000001, "created_at"=>Thu Jan 07 17:45:16 UTC 2010, "start_time"=>Thu Jan 07 17:45:16 UTC 2010})
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b461dacd3b7ec2370000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 17:45:16 UTC 2010, "_id"=>4b461dacd3b7ec2370000002, "endpoint_path"=>"a/b/c", "duration"=>-4742505.26666667, "endpoint_id"=>4b461dabd3b7ec2370000001, "created_at"=>Thu Jan 07 17:45:16 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 17:45:16 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461dacd3b7ec2370000003}, {"job_id"=>4b461dacd3b7ec2370000002, "updated_at"=>Thu Jan 07 17:45:16 UTC 2010, "_id"=>4b461dacd3b7ec2370000003, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b461dabd3b7ec2370000001, "duration"=>0.0, "created_at"=>Thu Jan 07 17:45:16 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461dabd3b7ec2370000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 65ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461dacd3b7ec2370000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:45:16 UTC 2010, "_id"=>4b461dacd3b7ec2370000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:45:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461dacd3b7ec2370000004}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461dacd3b7ec2370000004}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:45:16) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461dacd3b7ec2370000005}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:45:16 UTC 2010, "_id"=>4b461dacd3b7ec2370000005, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461dacd3b7ec2370000004, "created_at"=>Thu Jan 07 17:45:16 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461dacd3b7ec2370000006}, {"job_id"=>4b461dacd3b7ec2370000005, "updated_at"=>Thu Jan 07 17:45:16 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461dacd3b7ec2370000006, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461dacd3b7ec2370000004, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:45:16 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461dacd3b7ec2370000004}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b461dacd3b7ec2370000004}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b461dacd3b7ec2370000004}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461dacd3b7ec2370000004}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461dacd3b7ec2370000004}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7174 run>"
RobustThread: "#<Thread:0x65a7174 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461dd4d3b7ec0704000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:45:56 UTC 2010, "_id"=>4b461dd4d3b7ec0704000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:45:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 09:45:56) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461dd4d3b7ec0704000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:45:56 UTC 2010, "_id"=>4b461dd4d3b7ec0704000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461dd4d3b7ec0704000001, "created_at"=>Thu Jan 07 17:45:56 UTC 2010, "start_time"=>Thu Jan 07 17:45:56 UTC 2010})
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b461dd4d3b7ec0704000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 17:45:56 UTC 2010, "_id"=>4b461dd4d3b7ec0704000002, "endpoint_path"=>"a/b/c", "duration"=>-4742505.93333333, "endpoint_id"=>4b461dd4d3b7ec0704000001, "created_at"=>Thu Jan 07 17:45:56 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 17:45:56 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461dd4d3b7ec0704000003}, {"job_id"=>4b461dd4d3b7ec0704000002, "updated_at"=>Thu Jan 07 17:45:56 UTC 2010, "_id"=>4b461dd4d3b7ec0704000003, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b461dd4d3b7ec0704000001, "duration"=>0.0, "created_at"=>Thu Jan 07 17:45:56 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461dd4d3b7ec0704000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 25ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b461dd5d3b7ec0704000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 17:45:57 UTC 2010, "_id"=>4b461dd5d3b7ec0704000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 17:45:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461dd5d3b7ec0704000004}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461dd5d3b7ec0704000004}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 09:45:57) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b461dd5d3b7ec0704000005}, {"status"=>:pending, "updated_at"=>Thu Jan 07 17:45:57 UTC 2010, "_id"=>4b461dd5d3b7ec0704000005, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b461dd5d3b7ec0704000004, "created_at"=>Thu Jan 07 17:45:57 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b461dd5d3b7ec0704000006}, {"job_id"=>4b461dd5d3b7ec0704000005, "updated_at"=>Thu Jan 07 17:45:57 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b461dd5d3b7ec0704000006, "_type"=>"JobStartedEvent", "endpoint_id"=>4b461dd5d3b7ec0704000004, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 17:45:57 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b461dd5d3b7ec0704000004}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b461dd5d3b7ec0704000004}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b461dd5d3b7ec0704000004}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b461dd5d3b7ec0704000004}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b461dd5d3b7ec0704000004}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a56f8 run>"
RobustThread: "#<Thread:0x65a56f8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463941d3b7ec2708000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:42:56 UTC 2010, "_id"=>4b463941d3b7ec2708000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:42:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:42:57) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463941d3b7ec2708000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:42:57 UTC 2010, "_id"=>4b463941d3b7ec2708000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463941d3b7ec2708000001, "created_at"=>Thu Jan 07 19:42:57 UTC 2010, "start_time"=>Thu Jan 07 19:42:57 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463941d3b7ec2708000003}, {"job_id"=>4b463941d3b7ec2708000002, "updated_at"=>Thu Jan 07 19:42:57 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463941d3b7ec2708000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463941d3b7ec2708000001, "created_at"=>Thu Jan 07 19:42:57 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b463941d3b7ec2708000001, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463941d3b7ec2708000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:42:57 UTC 2010, "_id"=>4b463941d3b7ec2708000002, "endpoint_path"=>"a/b/c", "duration"=>-4742622.95, "endpoint_id"=>4b463941d3b7ec2708000001, "created_at"=>Thu Jan 07 19:42:57 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:42:57 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463941d3b7ec2708000004}, {"job_id"=>4b463941d3b7ec2708000002, "updated_at"=>Thu Jan 07 19:42:57 UTC 2010, "_id"=>4b463941d3b7ec2708000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463941d3b7ec2708000001, "duration"=>0.0, "created_at"=>Thu Jan 07 19:42:57 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b463941d3b7ec2708000001, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 56ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463945d3b7ec2708000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:43:01 UTC 2010, "_id"=>4b463945d3b7ec2708000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:43:01 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463945d3b7ec2708000006}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 19:43:01 UTC 2010, "_id"=>4b463945d3b7ec2708000006, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463945d3b7ec2708000005, "created_at"=>Thu Jan 07 19:43:01 UTC 2010, "start_time"=>Thu Jan 07 19:43:01 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463945d3b7ec2708000007}, {"name"=>"a job", "job_id"=>4b463945d3b7ec2708000006, "updated_at"=>Thu Jan 07 19:43:01 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463945d3b7ec2708000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463945d3b7ec2708000005, "created_at"=>Thu Jan 07 19:43:01 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b463945d3b7ec2708000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463949d3b7ec2708000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:43:05 UTC 2010, "_id"=>4b463949d3b7ec2708000008, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:43:05 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463949d3b7ec2708000008}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463949d3b7ec2708000008}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 11:43:05) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463949d3b7ec2708000009}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:43:05 UTC 2010, "_id"=>4b463949d3b7ec2708000009, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463949d3b7ec2708000008, "created_at"=>Thu Jan 07 19:43:05 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463949d3b7ec270800000a}, {"job_id"=>4b463949d3b7ec2708000009, "updated_at"=>Thu Jan 07 19:43:05 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463949d3b7ec270800000a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463949d3b7ec2708000008, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 19:43:05 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b463949d3b7ec2708000008, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463949d3b7ec2708000008}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463949d3b7ec2708000008}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463949d3b7ec2708000008}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463949d3b7ec2708000008}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a4b2c run>"
RobustThread: "#<Thread:0x65a4b2c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463aaed3b7ec21c8000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:49:02 UTC 2010, "_id"=>4b463aaed3b7ec21c8000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:49:02 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:49:02) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463aaed3b7ec21c8000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:49:02 UTC 2010, "_id"=>4b463aaed3b7ec21c8000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463aaed3b7ec21c8000001, "created_at"=>Thu Jan 07 19:49:02 UTC 2010, "start_time"=>Thu Jan 07 19:49:02 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463aaed3b7ec21c8000003}, {"job_id"=>4b463aaed3b7ec21c8000002, "updated_at"=>Thu Jan 07 19:49:02 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463aaed3b7ec21c8000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463aaed3b7ec21c8000001, "created_at"=>Thu Jan 07 19:49:02 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463aaed3b7ec21c8000001}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463aaed3b7ec21c8000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:49:02 UTC 2010, "_id"=>4b463aaed3b7ec21c8000002, "endpoint_path"=>"a/b/c", "duration"=>-4742629.03333333, "endpoint_id"=>4b463aaed3b7ec21c8000001, "created_at"=>Thu Jan 07 19:49:02 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:49:02 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463aaed3b7ec21c8000004}, {"job_id"=>4b463aaed3b7ec21c8000002, "updated_at"=>Thu Jan 07 19:49:02 UTC 2010, "_id"=>4b463aaed3b7ec21c8000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463aaed3b7ec21c8000001, "duration"=>0.0, "created_at"=>Thu Jan 07 19:49:02 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463aaed3b7ec21c8000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463ab1d3b7ec21c8000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "_id"=>4b463ab1d3b7ec21c8000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:49:05 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463ab1d3b7ec21c8000006}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "_id"=>4b463ab1d3b7ec21c8000006, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463ab1d3b7ec21c8000005, "created_at"=>Thu Jan 07 19:49:05 UTC 2010, "start_time"=>Thu Jan 07 19:49:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ab1d3b7ec21c8000007}, {"name"=>"a job", "job_id"=>4b463ab1d3b7ec21c8000006, "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463ab1d3b7ec21c8000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463ab1d3b7ec21c8000005, "created_at"=>Thu Jan 07 19:49:05 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ab1d3b7ec21c8000005}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:49:05) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463ab1d3b7ec21c8000006, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463ab1d3b7ec21c8000008}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "_id"=>4b463ab1d3b7ec21c8000008, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463ab1d3b7ec21c8000005, "created_at"=>Thu Jan 07 19:49:05 UTC 2010, "start_time"=>Thu Jan 07 19:49:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ab1d3b7ec21c8000009}, {"job_id"=>4b463ab1d3b7ec21c8000008, "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463ab1d3b7ec21c8000009, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463ab1d3b7ec21c8000005, "created_at"=>Thu Jan 07 19:49:05 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ab1d3b7ec21c8000005}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463ab1d3b7ec21c8000008}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "_id"=>4b463ab1d3b7ec21c8000008, "endpoint_path"=>"a/b/c", "duration"=>-4742629.08333333, "endpoint_id"=>4b463ab1d3b7ec21c8000005, "created_at"=>Thu Jan 07 19:49:05 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:49:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ab1d3b7ec21c800000a}, {"job_id"=>4b463ab1d3b7ec21c8000008, "updated_at"=>Thu Jan 07 19:49:05 UTC 2010, "_id"=>4b463ab1d3b7ec21c800000a, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463ab1d3b7ec21c8000005, "duration"=>0.0, "created_at"=>Thu Jan 07 19:49:05 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ab1d3b7ec21c8000005}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 40ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463ab1d3b7ec21c8000006&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463ab1d3b7ec21c8000006}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463ab5d3b7ec21c800000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:49:09 UTC 2010, "_id"=>4b463ab5d3b7ec21c800000b, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:49:09 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463ab5d3b7ec21c800000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463ab5d3b7ec21c800000b}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 11:49:09) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463ab5d3b7ec21c800000c}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:49:09 UTC 2010, "_id"=>4b463ab5d3b7ec21c800000c, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463ab5d3b7ec21c800000b, "created_at"=>Thu Jan 07 19:49:09 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ab5d3b7ec21c800000d}, {"job_id"=>4b463ab5d3b7ec21c800000c, "updated_at"=>Thu Jan 07 19:49:09 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463ab5d3b7ec21c800000d, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463ab5d3b7ec21c800000b, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 19:49:09 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ab5d3b7ec21c800000b}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463ab5d3b7ec21c800000b}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463ab5d3b7ec21c800000b}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463ab5d3b7ec21c800000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463ab5d3b7ec21c800000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6058 run>"
RobustThread: "#<Thread:0x65a6058 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463b19d3b7ec1d60000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:50:49 UTC 2010, "_id"=>4b463b19d3b7ec1d60000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:50:49 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:50:49) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463b19d3b7ec1d60000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:50:49 UTC 2010, "_id"=>4b463b19d3b7ec1d60000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463b19d3b7ec1d60000001, "created_at"=>Thu Jan 07 19:50:49 UTC 2010, "start_time"=>Thu Jan 07 19:50:49 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463b19d3b7ec1d60000003}, {"job_id"=>4b463b19d3b7ec1d60000002, "updated_at"=>Thu Jan 07 19:50:49 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463b19d3b7ec1d60000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463b19d3b7ec1d60000001, "created_at"=>Thu Jan 07 19:50:49 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463b19d3b7ec1d60000001}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463b19d3b7ec1d60000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:50:49 UTC 2010, "_id"=>4b463b19d3b7ec1d60000002, "endpoint_path"=>"a/b/c", "duration"=>-4742630.81666667, "endpoint_id"=>4b463b19d3b7ec1d60000001, "created_at"=>Thu Jan 07 19:50:49 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:50:49 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463b19d3b7ec1d60000004}, {"job_id"=>4b463b19d3b7ec1d60000002, "updated_at"=>Thu Jan 07 19:50:49 UTC 2010, "_id"=>4b463b19d3b7ec1d60000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463b19d3b7ec1d60000001, "duration"=>0.0, "created_at"=>Thu Jan 07 19:50:49 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463b19d3b7ec1d60000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 32ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463b1cd3b7ec1d60000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "_id"=>4b463b1cd3b7ec1d60000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:50:52 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463b1cd3b7ec1d60000006}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "_id"=>4b463b1cd3b7ec1d60000006, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463b1cd3b7ec1d60000005, "created_at"=>Thu Jan 07 19:50:52 UTC 2010, "start_time"=>Thu Jan 07 19:50:52 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463b1cd3b7ec1d60000007}, {"name"=>"a job", "job_id"=>4b463b1cd3b7ec1d60000006, "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463b1cd3b7ec1d60000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463b1cd3b7ec1d60000005, "created_at"=>Thu Jan 07 19:50:52 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463b1cd3b7ec1d60000005}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:50:52) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463b1cd3b7ec1d60000006, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463b1cd3b7ec1d60000008}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "_id"=>4b463b1cd3b7ec1d60000008, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463b1cd3b7ec1d60000005, "created_at"=>Thu Jan 07 19:50:52 UTC 2010, "start_time"=>Thu Jan 07 19:50:52 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463b1cd3b7ec1d60000009}, {"job_id"=>4b463b1cd3b7ec1d60000008, "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463b1cd3b7ec1d60000009, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463b1cd3b7ec1d60000005, "created_at"=>Thu Jan 07 19:50:52 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463b1cd3b7ec1d60000005}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463b1cd3b7ec1d60000008}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "_id"=>4b463b1cd3b7ec1d60000008, "endpoint_path"=>"a/b/c", "duration"=>-4742630.86666667, "endpoint_id"=>4b463b1cd3b7ec1d60000005, "created_at"=>Thu Jan 07 19:50:52 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:50:52 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463b1cd3b7ec1d6000000a}, {"job_id"=>4b463b1cd3b7ec1d60000008, "updated_at"=>Thu Jan 07 19:50:52 UTC 2010, "_id"=>4b463b1cd3b7ec1d6000000a, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463b1cd3b7ec1d60000005, "duration"=>0.0, "created_at"=>Thu Jan 07 19:50:52 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463b1cd3b7ec1d60000005}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463b1cd3b7ec1d60000006&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463b1cd3b7ec1d60000006}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463b20d3b7ec1d6000000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:50:56 UTC 2010, "_id"=>4b463b20d3b7ec1d6000000b, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:50:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463b20d3b7ec1d6000000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463b20d3b7ec1d6000000b}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 11:50:56) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463b20d3b7ec1d6000000c}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:50:56 UTC 2010, "_id"=>4b463b20d3b7ec1d6000000c, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463b20d3b7ec1d6000000b, "created_at"=>Thu Jan 07 19:50:56 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463b20d3b7ec1d6000000d}, {"job_id"=>4b463b20d3b7ec1d6000000c, "updated_at"=>Thu Jan 07 19:50:56 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463b20d3b7ec1d6000000d, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463b20d3b7ec1d6000000b, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 19:50:56 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463b20d3b7ec1d6000000b}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463b20d3b7ec1d6000000b}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463b20d3b7ec1d6000000b}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463b20d3b7ec1d6000000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463b20d3b7ec1d6000000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a0090 run>"
RobustThread: "#<Thread:0x65a0090 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463cced3b7ec2440000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:58:06 UTC 2010, "_id"=>4b463cced3b7ec2440000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:58:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:58:06) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463cced3b7ec2440000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:58:06 UTC 2010, "_id"=>4b463cced3b7ec2440000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463cced3b7ec2440000001, "created_at"=>Thu Jan 07 19:58:06 UTC 2010, "start_time"=>Thu Jan 07 19:58:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463cced3b7ec2440000003}, {"job_id"=>4b463cced3b7ec2440000002, "updated_at"=>Thu Jan 07 19:58:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463cced3b7ec2440000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463cced3b7ec2440000001, "created_at"=>Thu Jan 07 19:58:06 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463cced3b7ec2440000001}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463cced3b7ec2440000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:58:06 UTC 2010, "_id"=>4b463cced3b7ec2440000002, "endpoint_path"=>"a/b/c", "duration"=>-4742638.1, "endpoint_id"=>4b463cced3b7ec2440000001, "created_at"=>Thu Jan 07 19:58:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:58:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463cced3b7ec2440000004}, {"job_id"=>4b463cced3b7ec2440000002, "updated_at"=>Thu Jan 07 19:58:06 UTC 2010, "_id"=>4b463cced3b7ec2440000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463cced3b7ec2440000001, "duration"=>0.0, "created_at"=>Thu Jan 07 19:58:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463cced3b7ec2440000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 34ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463ccfd3b7ec2440000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec2440000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:58:07) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>"12345", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463ccfd3b7ec2440000006}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec2440000006, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463ccfd3b7ec2440000005, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "start_time"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ccfd3b7ec2440000007}, {"job_id"=>4b463ccfd3b7ec2440000006, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463ccfd3b7ec2440000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463ccfd3b7ec2440000005, "created_at"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ccfd3b7ec2440000005}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463ccfd3b7ec2440000006}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec2440000006, "endpoint_path"=>"a/b/c", "duration"=>-4742638.11666667, "endpoint_id"=>4b463ccfd3b7ec2440000005, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ccfd3b7ec2440000008}, {"job_id"=>4b463ccfd3b7ec2440000006, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec2440000008, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463ccfd3b7ec2440000005, "duration"=>0.0, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ccfd3b7ec2440000005}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 29ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=12345&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463ccfd3b7ec2440000009}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec2440000009, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463ccfd3b7ec244000000a}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec244000000a, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463ccfd3b7ec2440000009, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "start_time"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ccfd3b7ec244000000b}, {"name"=>"a job", "job_id"=>4b463ccfd3b7ec244000000a, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463ccfd3b7ec244000000b, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463ccfd3b7ec2440000009, "created_at"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ccfd3b7ec2440000009}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:58:07) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463ccfd3b7ec244000000a, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463ccfd3b7ec244000000c}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec244000000c, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463ccfd3b7ec2440000009, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "start_time"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ccfd3b7ec244000000d}, {"job_id"=>4b463ccfd3b7ec244000000c, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463ccfd3b7ec244000000d, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463ccfd3b7ec2440000009, "created_at"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ccfd3b7ec2440000009}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463ccfd3b7ec244000000c}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec244000000c, "endpoint_path"=>"a/b/c", "duration"=>-4742638.11666667, "endpoint_id"=>4b463ccfd3b7ec2440000009, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:58:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463ccfd3b7ec244000000e}, {"job_id"=>4b463ccfd3b7ec244000000c, "updated_at"=>Thu Jan 07 19:58:07 UTC 2010, "_id"=>4b463ccfd3b7ec244000000e, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463ccfd3b7ec2440000009, "duration"=>0.0, "created_at"=>Thu Jan 07 19:58:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463ccfd3b7ec2440000009}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 32ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463ccfd3b7ec244000000a&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463ccfd3b7ec244000000a}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463cd0d3b7ec244000000f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:58:08 UTC 2010, "_id"=>4b463cd0d3b7ec244000000f, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:58:08 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463cd0d3b7ec244000000f}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463cd0d3b7ec244000000f}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 11:58:08) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463cd0d3b7ec2440000010}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:58:08 UTC 2010, "_id"=>4b463cd0d3b7ec2440000010, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463cd0d3b7ec244000000f, "created_at"=>Thu Jan 07 19:58:08 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463cd0d3b7ec2440000011}, {"job_id"=>4b463cd0d3b7ec2440000010, "updated_at"=>Thu Jan 07 19:58:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463cd0d3b7ec2440000011, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463cd0d3b7ec244000000f, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 19:58:08 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463cd0d3b7ec244000000f}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463cd0d3b7ec244000000f}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463cd0d3b7ec244000000f}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463cd0d3b7ec244000000f}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463cd0d3b7ec244000000f}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6670 run>"
RobustThread: "#<Thread:0x65a6670 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d0cd3b7ec04e4000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:07 UTC 2010, "_id"=>4b463d0cd3b7ec04e4000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:07 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:59:08) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463d0cd3b7ec04e4000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:59:08 UTC 2010, "_id"=>4b463d0cd3b7ec04e4000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463d0cd3b7ec04e4000001, "created_at"=>Thu Jan 07 19:59:08 UTC 2010, "start_time"=>Thu Jan 07 19:59:08 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d0cd3b7ec04e4000003}, {"job_id"=>4b463d0cd3b7ec04e4000002, "updated_at"=>Thu Jan 07 19:59:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463d0cd3b7ec04e4000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463d0cd3b7ec04e4000001, "created_at"=>Thu Jan 07 19:59:08 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d0cd3b7ec04e4000001}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463d0cd3b7ec04e4000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:59:08 UTC 2010, "_id"=>4b463d0cd3b7ec04e4000002, "endpoint_path"=>"a/b/c", "duration"=>-4742639.13333333, "endpoint_id"=>4b463d0cd3b7ec04e4000001, "created_at"=>Thu Jan 07 19:59:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:59:08 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d0cd3b7ec04e4000004}, {"job_id"=>4b463d0cd3b7ec04e4000002, "updated_at"=>Thu Jan 07 19:59:08 UTC 2010, "_id"=>4b463d0cd3b7ec04e4000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463d0cd3b7ec04e4000001, "duration"=>0.0, "created_at"=>Thu Jan 07 19:59:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d0cd3b7ec04e4000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 33ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d0cd3b7ec04e4000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:08 UTC 2010, "_id"=>4b463d0cd3b7ec04e4000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:08 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:59:08) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>"12345", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d0cd3b7ec04e4000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:08 UTC 2010, "_id"=>4b463d0cd3b7ec04e4000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:08 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463d0dd3b7ec04e4000007}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "_id"=>4b463d0dd3b7ec04e4000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463d0cd3b7ec04e4000006, "created_at"=>Thu Jan 07 19:59:09 UTC 2010, "start_time"=>Thu Jan 07 19:59:09 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d0dd3b7ec04e4000008}, {"name"=>"a job", "job_id"=>4b463d0dd3b7ec04e4000007, "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463d0dd3b7ec04e4000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463d0cd3b7ec04e4000006, "created_at"=>Thu Jan 07 19:59:09 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d0cd3b7ec04e4000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:59:09) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463d0dd3b7ec04e4000007, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463d0dd3b7ec04e4000007}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463d0dd3b7ec04e4000007}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "_id"=>4b463d0dd3b7ec04e4000007, "endpoint_path"=>"a/b/c", "duration"=>-4742639.15, "endpoint_id"=>4b463d0cd3b7ec04e4000006, "created_at"=>Thu Jan 07 19:59:09 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:59:09 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b463d0dd3b7ec04e4000009}, {"job_id"=>4b463d0dd3b7ec04e4000007, "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "_id"=>4b463d0dd3b7ec04e4000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463d0cd3b7ec04e4000006, "duration"=>0.0, "created_at"=>Thu Jan 07 19:59:09 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d0cd3b7ec04e4000006}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 22ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463d0dd3b7ec04e4000007&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463d0dd3b7ec04e4000007}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d0dd3b7ec04e400000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "_id"=>4b463d0dd3b7ec04e400000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:09 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463d0dd3b7ec04e400000a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463d0dd3b7ec04e400000a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 11:59:09) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463d0dd3b7ec04e400000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "_id"=>4b463d0dd3b7ec04e400000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463d0dd3b7ec04e400000a, "created_at"=>Thu Jan 07 19:59:09 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d0dd3b7ec04e400000c}, {"job_id"=>4b463d0dd3b7ec04e400000b, "updated_at"=>Thu Jan 07 19:59:09 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463d0dd3b7ec04e400000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463d0dd3b7ec04e400000a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 19:59:09 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d0dd3b7ec04e400000a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463d0dd3b7ec04e400000a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463d0dd3b7ec04e400000a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463d0dd3b7ec04e400000a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463d0dd3b7ec04e400000a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a2ea8 run>"
RobustThread: "#<Thread:0x65a2ea8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d3ed3b7ec21cc000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:57 UTC 2010, "_id"=>4b463d3ed3b7ec21cc000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:59:58) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463d3ed3b7ec21cc000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:59:58 UTC 2010, "_id"=>4b463d3ed3b7ec21cc000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463d3ed3b7ec21cc000001, "created_at"=>Thu Jan 07 19:59:58 UTC 2010, "start_time"=>Thu Jan 07 19:59:58 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d3ed3b7ec21cc000003}, {"job_id"=>4b463d3ed3b7ec21cc000002, "updated_at"=>Thu Jan 07 19:59:58 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463d3ed3b7ec21cc000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463d3ed3b7ec21cc000001, "created_at"=>Thu Jan 07 19:59:58 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d3ed3b7ec21cc000001}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463d3ed3b7ec21cc000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 19:59:58 UTC 2010, "_id"=>4b463d3ed3b7ec21cc000002, "endpoint_path"=>"a/b/c", "duration"=>-4742639.96666667, "endpoint_id"=>4b463d3ed3b7ec21cc000001, "created_at"=>Thu Jan 07 19:59:58 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:59:58 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d3ed3b7ec21cc000004}, {"job_id"=>4b463d3ed3b7ec21cc000002, "updated_at"=>Thu Jan 07 19:59:58 UTC 2010, "_id"=>4b463d3ed3b7ec21cc000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463d3ed3b7ec21cc000001, "duration"=>0.0, "created_at"=>Thu Jan 07 19:59:58 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d3ed3b7ec21cc000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 43ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d3ed3b7ec21cc000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:58 UTC 2010, "_id"=>4b463d3ed3b7ec21cc000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:59:58) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463d3ed3b7ec21cc000006, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463d3ed3b7ec21cc000006}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463d3ed3b7ec21cc000006&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d3fd3b7ec21cc000007}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "_id"=>4b463d3fd3b7ec21cc000007, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:59 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463d3fd3b7ec21cc000008}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "_id"=>4b463d3fd3b7ec21cc000008, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463d3fd3b7ec21cc000007, "created_at"=>Thu Jan 07 19:59:59 UTC 2010, "start_time"=>Thu Jan 07 19:59:59 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d3fd3b7ec21cc000009}, {"name"=>"a job", "job_id"=>4b463d3fd3b7ec21cc000008, "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463d3fd3b7ec21cc000009, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463d3fd3b7ec21cc000007, "created_at"=>Thu Jan 07 19:59:59 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d3fd3b7ec21cc000007}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 11:59:59) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463d3fd3b7ec21cc000008, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463d3fd3b7ec21cc000008}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463d3fd3b7ec21cc000008}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "_id"=>4b463d3fd3b7ec21cc000008, "endpoint_path"=>"a/b/c", "duration"=>-4742639.98333333, "endpoint_id"=>4b463d3fd3b7ec21cc000007, "created_at"=>Thu Jan 07 19:59:59 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 19:59:59 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b463d3fd3b7ec21cc00000a}, {"job_id"=>4b463d3fd3b7ec21cc000008, "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "_id"=>4b463d3fd3b7ec21cc00000a, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463d3fd3b7ec21cc000007, "duration"=>0.0, "created_at"=>Thu Jan 07 19:59:59 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d3fd3b7ec21cc000007}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 25ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463d3fd3b7ec21cc000008&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463d3fd3b7ec21cc000008}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463d3fd3b7ec21cc00000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "_id"=>4b463d3fd3b7ec21cc00000b, "path"=>"a/b/c", "created_at"=>Thu Jan 07 19:59:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463d3fd3b7ec21cc00000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463d3fd3b7ec21cc00000b}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 11:59:59) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463d3fd3b7ec21cc00000c}, {"status"=>:pending, "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "_id"=>4b463d3fd3b7ec21cc00000c, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463d3fd3b7ec21cc00000b, "created_at"=>Thu Jan 07 19:59:59 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463d3fd3b7ec21cc00000d}, {"job_id"=>4b463d3fd3b7ec21cc00000c, "updated_at"=>Thu Jan 07 19:59:59 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463d3fd3b7ec21cc00000d, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463d3fd3b7ec21cc00000b, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 19:59:59 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463d3fd3b7ec21cc00000b}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463d3fd3b7ec21cc00000b}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463d3fd3b7ec21cc00000b}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463d3fd3b7ec21cc00000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463d3fd3b7ec21cc00000b}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6596504 run>"
RobustThread: "#<Thread:0x6596504 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0cd3b7ec0dd4000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:24 UTC 2010, "_id"=>4b463e0cd3b7ec0dd4000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:24 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 12:03:24) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463e0cd3b7ec0dd4000002}, {"status"=>:pending, "updated_at"=>Thu Jan 07 20:03:24 UTC 2010, "_id"=>4b463e0cd3b7ec0dd4000002, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463e0cd3b7ec0dd4000001, "created_at"=>Thu Jan 07 20:03:24 UTC 2010, "start_time"=>Thu Jan 07 20:03:24 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0cd3b7ec0dd4000003}, {"job_id"=>4b463e0cd3b7ec0dd4000002, "updated_at"=>Thu Jan 07 20:03:24 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463e0cd3b7ec0dd4000003, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463e0cd3b7ec0dd4000001, "created_at"=>Thu Jan 07 20:03:24 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0cd3b7ec0dd4000001}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463e0cd3b7ec0dd4000002}, {"status"=>:completed, "updated_at"=>Thu Jan 07 20:03:24 UTC 2010, "_id"=>4b463e0cd3b7ec0dd4000002, "endpoint_path"=>"a/b/c", "duration"=>-4742643.4, "endpoint_id"=>4b463e0cd3b7ec0dd4000001, "created_at"=>Thu Jan 07 20:03:24 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 20:03:24 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0cd3b7ec0dd4000004}, {"job_id"=>4b463e0cd3b7ec0dd4000002, "updated_at"=>Thu Jan 07 20:03:24 UTC 2010, "_id"=>4b463e0cd3b7ec0dd4000004, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463e0cd3b7ec0dd4000001, "duration"=>0.0, "created_at"=>Thu Jan 07 20:03:24 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0cd3b7ec0dd4000001}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 73ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0dd3b7ec0dd4000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:25 UTC 2010, "_id"=>4b463e0dd3b7ec0dd4000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:25 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 12:03:25) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463e0dd3b7ec0dd4000006}, {"status"=>:pending, "updated_at"=>Thu Jan 07 20:03:25 UTC 2010, "_id"=>4b463e0dd3b7ec0dd4000006, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463e0dd3b7ec0dd4000005, "created_at"=>Thu Jan 07 20:03:25 UTC 2010, "start_time"=>Thu Jan 07 20:03:25 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0dd3b7ec0dd4000007}, {"job_id"=>4b463e0dd3b7ec0dd4000006, "updated_at"=>Thu Jan 07 20:03:25 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463e0dd3b7ec0dd4000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463e0dd3b7ec0dd4000005, "created_at"=>Thu Jan 07 20:03:25 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0dd3b7ec0dd4000005}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b463e0dd3b7ec0dd4000006}, {"status"=>:failed, "updated_at"=>Thu Jan 07 20:03:25 UTC 2010, "_id"=>4b463e0dd3b7ec0dd4000006, "endpoint_path"=>"a/b/c", "duration"=>-4742643.41666667, "endpoint_id"=>4b463e0dd3b7ec0dd4000005, "created_at"=>Thu Jan 07 20:03:25 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 20:03:25 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0dd3b7ec0dd4000008}, {"job_id"=>4b463e0dd3b7ec0dd4000006, "updated_at"=>Thu Jan 07 20:03:25 UTC 2010, "_id"=>4b463e0dd3b7ec0dd4000008, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b463e0dd3b7ec0dd4000005, "duration"=>0.0, "created_at"=>Thu Jan 07 20:03:25 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0dd3b7ec0dd4000005}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 34ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0dd3b7ec0dd4000009}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:25 UTC 2010, "_id"=>4b463e0dd3b7ec0dd4000009, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:25 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 12:03:25) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463e0dd3b7ec0dd400000a, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463e0dd3b7ec0dd400000a}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463e0dd3b7ec0dd400000a&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0ed3b7ec0dd400000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd400000b, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463e0ed3b7ec0dd400000c}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd400000c, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463e0ed3b7ec0dd400000b, "created_at"=>Thu Jan 07 20:03:26 UTC 2010, "start_time"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0ed3b7ec0dd400000d}, {"name"=>"a job", "job_id"=>4b463e0ed3b7ec0dd400000c, "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463e0ed3b7ec0dd400000d, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463e0ed3b7ec0dd400000b, "created_at"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0ed3b7ec0dd400000b}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 12:03:26) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463e0ed3b7ec0dd400000c, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463e0ed3b7ec0dd400000c}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b463e0ed3b7ec0dd400000c}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd400000c, "endpoint_path"=>"a/b/c", "duration"=>-4742643.43333333, "endpoint_id"=>4b463e0ed3b7ec0dd400000b, "created_at"=>Thu Jan 07 20:03:26 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b463e0ed3b7ec0dd400000e}, {"job_id"=>4b463e0ed3b7ec0dd400000c, "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd400000e, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b463e0ed3b7ec0dd400000b, "duration"=>0.0, "created_at"=>Thu Jan 07 20:03:26 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0ed3b7ec0dd400000b}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b463e0ed3b7ec0dd400000c&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463e0ed3b7ec0dd400000c}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0ed3b7ec0dd400000f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd400000f, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 12:03:26) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463e0ed3b7ec0dd4000010, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463e0ed3b7ec0dd4000010}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b463e0ed3b7ec0dd4000010&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0ed3b7ec0dd4000011}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd4000011, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b463e0ed3b7ec0dd4000012}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd4000012, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463e0ed3b7ec0dd4000011, "created_at"=>Thu Jan 07 20:03:26 UTC 2010, "start_time"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0ed3b7ec0dd4000013}, {"name"=>"a job", "job_id"=>4b463e0ed3b7ec0dd4000012, "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463e0ed3b7ec0dd4000013, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463e0ed3b7ec0dd4000011, "created_at"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0ed3b7ec0dd4000011}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 12:03:26) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b463e0ed3b7ec0dd4000012, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b463e0ed3b7ec0dd4000012}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b463e0ed3b7ec0dd4000012}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd4000012, "endpoint_path"=>"a/b/c", "duration"=>-4742643.43333333, "endpoint_id"=>4b463e0ed3b7ec0dd4000011, "created_at"=>Thu Jan 07 20:03:26 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 20:03:26 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b463e0ed3b7ec0dd4000014}, {"job_id"=>4b463e0ed3b7ec0dd4000012, "updated_at"=>Thu Jan 07 20:03:26 UTC 2010, "_id"=>4b463e0ed3b7ec0dd4000014, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b463e0ed3b7ec0dd4000011, "duration"=>0.0, "created_at"=>Thu Jan 07 20:03:26 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0ed3b7ec0dd4000011}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b463e0ed3b7ec0dd4000012&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b463e0ed3b7ec0dd4000012}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b463e0fd3b7ec0dd4000015}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 20:03:27 UTC 2010, "_id"=>4b463e0fd3b7ec0dd4000015, "path"=>"a/b/c", "created_at"=>Thu Jan 07 20:03:27 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463e0fd3b7ec0dd4000015}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463e0fd3b7ec0dd4000015}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 12:03:27) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b463e0fd3b7ec0dd4000016}, {"status"=>:pending, "updated_at"=>Thu Jan 07 20:03:27 UTC 2010, "_id"=>4b463e0fd3b7ec0dd4000016, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b463e0fd3b7ec0dd4000015, "created_at"=>Thu Jan 07 20:03:27 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b463e0fd3b7ec0dd4000017}, {"job_id"=>4b463e0fd3b7ec0dd4000016, "updated_at"=>Thu Jan 07 20:03:27 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b463e0fd3b7ec0dd4000017, "_type"=>"JobStartedEvent", "endpoint_id"=>4b463e0fd3b7ec0dd4000015, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 20:03:27 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b463e0fd3b7ec0dd4000015}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b463e0fd3b7ec0dd4000015}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b463e0fd3b7ec0dd4000015}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b463e0fd3b7ec0dd4000015}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b463e0fd3b7ec0dd4000015}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6620 run>"
RobustThread: "#<Thread:0x65a6620 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6328 run>"
RobustThread: "#<Thread:0x65a6328 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6634 run>"
RobustThread: "#<Thread:0x65a6634 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6ff8 run>"
RobustThread: "#<Thread:0x65a6ff8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a5eb4 run>"
RobustThread: "#<Thread:0x65a5eb4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a719c run>"
RobustThread: "#<Thread:0x65a719c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6596518 run>"
RobustThread: "#<Thread:0x6596518 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x659a99c run>"
RobustThread: "#<Thread:0x659a99c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a41f4 run>"
RobustThread: "#<Thread:0x65a41f4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6598e44 run>"
RobustThread: "#<Thread:0x6598e44 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6596f18 run>"
RobustThread: "#<Thread:0x6596f18 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a417c run>"
RobustThread: "#<Thread:0x65a417c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a31b4 run>"
RobustThread: "#<Thread:0x65a31b4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b464ecdd3b7ec0454000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b464ecdd3b7ec0454000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b464ecdd3b7ec0454000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b464ecdd3b7ec0454000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464ecdd3b7ec0454000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ecdd3b7ec0454000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ecdd3b7ec0454000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b464ecfd3b7ec0454000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:55 UTC 2010, "_id"=>4b464ecfd3b7ec0454000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:55 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:14:55) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed0d3b7ec0454000007}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:56 UTC 2010, "_id"=>4b464ed0d3b7ec0454000007, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:14:56) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed0d3b7ec0454000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:56 UTC 2010, "_id"=>4b464ed0d3b7ec0454000008, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:14:56) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464ed0d3b7ec0454000009, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed1d3b7ec045400000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:57 UTC 2010, "_id"=>4b464ed1d3b7ec045400000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:57 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b464ed1d3b7ec045400000b}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:14:57 UTC 2010, "_id"=>4b464ed1d3b7ec045400000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464ed1d3b7ec045400000a, "created_at"=>Thu Jan 07 21:14:57 UTC 2010, "start_time"=>Thu Jan 07 21:14:57 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464ed1d3b7ec045400000c}, {"name"=>"a job", "job_id"=>4b464ed1d3b7ec045400000b, "updated_at"=>Thu Jan 07 21:14:57 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464ed1d3b7ec045400000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464ed1d3b7ec045400000a, "created_at"=>Thu Jan 07 21:14:57 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ed1d3b7ec045400000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:14:57) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464ed1d3b7ec045400000b, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b464ed1d3b7ec045400000d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:57 UTC 2010, "_id"=>4b464ed1d3b7ec045400000d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:14:57) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464ed1d3b7ec045400000e, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed2d3b7ec045400000f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:58 UTC 2010, "_id"=>4b464ed2d3b7ec045400000f, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:58 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b464ed2d3b7ec0454000010}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:14:58 UTC 2010, "_id"=>4b464ed2d3b7ec0454000010, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464ed2d3b7ec045400000f, "created_at"=>Thu Jan 07 21:14:58 UTC 2010, "start_time"=>Thu Jan 07 21:14:58 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464ed2d3b7ec0454000011}, {"name"=>"a job", "job_id"=>4b464ed2d3b7ec0454000010, "updated_at"=>Thu Jan 07 21:14:58 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464ed2d3b7ec0454000011, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464ed2d3b7ec045400000f, "created_at"=>Thu Jan 07 21:14:58 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ed2d3b7ec045400000f, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:14:58) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464ed2d3b7ec0454000010, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed2d3b7ec0454000012}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:58 UTC 2010, "_id"=>4b464ed2d3b7ec0454000012, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b464ed2d3b7ec0454000012}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b464ed2d3b7ec0454000012}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:14:58) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b464ecdd3b7ec0454000004}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed2d3b7ec0454000013}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:58 UTC 2010, "_id"=>4b464ed2d3b7ec0454000013, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:14:58) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed3d3b7ec0454000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:59 UTC 2010, "_id"=>4b464ed3d3b7ec0454000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:14:59) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ed3d3b7ec0454000015}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:14:59 UTC 2010, "_id"=>4b464ed3d3b7ec0454000015, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:14:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:14:59) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ed2d3b7ec045400000f}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b464ed2d3b7ec045400000f}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b464ed2d3b7ec045400000f}, {})
RobustThread: waiting on "#<Thread:0x6565ee0 run>"
RobustThread: "#<Thread:0x6565ee0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b464ef9d3b7ec0e24000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b464ef9d3b7ec0e24000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b464ef9d3b7ec0e24000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b464ef9d3b7ec0e24000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464ef9d3b7ec0e24000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ef9d3b7ec0e24000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ef9d3b7ec0e24000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ef9d3b7ec0e24000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:37 UTC 2010, "_id"=>4b464ef9d3b7ec0e24000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:37 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:15:37) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b464ef9d3b7ec0e24000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:15:37 UTC 2010, "_id"=>4b464ef9d3b7ec0e24000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464ef9d3b7ec0e24000006, "created_at"=>Thu Jan 07 21:15:37 UTC 2010, "start_time"=>Thu Jan 07 21:15:37 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464ef9d3b7ec0e24000008}, {"job_id"=>4b464ef9d3b7ec0e24000007, "updated_at"=>Thu Jan 07 21:15:37 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464ef9d3b7ec0e24000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464ef9d3b7ec0e24000006, "created_at"=>Thu Jan 07 21:15:37 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ef9d3b7ec0e24000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b464ef9d3b7ec0e24000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:15:37 UTC 2010, "_id"=>4b464ef9d3b7ec0e24000007, "endpoint_path"=>"a/b/c", "duration"=>-4742715.61666667, "endpoint_id"=>4b464ef9d3b7ec0e24000006, "created_at"=>Thu Jan 07 21:15:37 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:15:37 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464ef9d3b7ec0e24000009}, {"job_id"=>4b464ef9d3b7ec0e24000007, "updated_at"=>Thu Jan 07 21:15:37 UTC 2010, "_id"=>4b464ef9d3b7ec0e24000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b464ef9d3b7ec0e24000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:15:37 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464ef9d3b7ec0e24000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 41ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efad3b7ec0e2400000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:38 UTC 2010, "_id"=>4b464efad3b7ec0e2400000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:38 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:15:38) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b464efad3b7ec0e2400000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:15:38 UTC 2010, "_id"=>4b464efad3b7ec0e2400000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464efad3b7ec0e2400000a, "created_at"=>Thu Jan 07 21:15:38 UTC 2010, "start_time"=>Thu Jan 07 21:15:38 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464efad3b7ec0e2400000c}, {"job_id"=>4b464efad3b7ec0e2400000b, "updated_at"=>Thu Jan 07 21:15:38 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464efad3b7ec0e2400000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464efad3b7ec0e2400000a, "created_at"=>Thu Jan 07 21:15:38 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efad3b7ec0e2400000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b464efad3b7ec0e2400000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:15:38 UTC 2010, "_id"=>4b464efad3b7ec0e2400000b, "endpoint_path"=>"a/b/c", "duration"=>-4742715.63333333, "endpoint_id"=>4b464efad3b7ec0e2400000a, "created_at"=>Thu Jan 07 21:15:38 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:15:38 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464efad3b7ec0e2400000d}, {"job_id"=>4b464efad3b7ec0e2400000b, "updated_at"=>Thu Jan 07 21:15:38 UTC 2010, "_id"=>4b464efad3b7ec0e2400000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b464efad3b7ec0e2400000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:15:38 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efad3b7ec0e2400000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 41ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efbd3b7ec0e2400000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:39 UTC 2010, "_id"=>4b464efbd3b7ec0e2400000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:39 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:15:39) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464efbd3b7ec0e2400000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b464efbd3b7ec0e2400000f}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b464efbd3b7ec0e2400000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efbd3b7ec0e24000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:39 UTC 2010, "_id"=>4b464efbd3b7ec0e24000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:39 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b464efbd3b7ec0e24000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:15:39 UTC 2010, "_id"=>4b464efbd3b7ec0e24000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464efbd3b7ec0e24000010, "created_at"=>Thu Jan 07 21:15:39 UTC 2010, "start_time"=>Thu Jan 07 21:15:39 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464efbd3b7ec0e24000012}, {"name"=>"a job", "job_id"=>4b464efbd3b7ec0e24000011, "updated_at"=>Thu Jan 07 21:15:39 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464efbd3b7ec0e24000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464efbd3b7ec0e24000010, "created_at"=>Thu Jan 07 21:15:39 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efbd3b7ec0e24000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:15:39) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464efbd3b7ec0e24000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b464efbd3b7ec0e24000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b464efbd3b7ec0e24000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:15:39 UTC 2010, "_id"=>4b464efbd3b7ec0e24000011, "endpoint_path"=>"a/b/c", "duration"=>-4742715.65, "endpoint_id"=>4b464efbd3b7ec0e24000010, "created_at"=>Thu Jan 07 21:15:39 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:15:39 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b464efbd3b7ec0e24000013}, {"job_id"=>4b464efbd3b7ec0e24000011, "updated_at"=>Thu Jan 07 21:15:39 UTC 2010, "_id"=>4b464efbd3b7ec0e24000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b464efbd3b7ec0e24000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:15:39 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efbd3b7ec0e24000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b464efbd3b7ec0e24000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b464efbd3b7ec0e24000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b464efcd3b7ec0e24000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e24000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:15:40) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464efcd3b7ec0e24000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b464efcd3b7ec0e24000015}, {}).limit(-1)
Completed in 5ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b464efcd3b7ec0e24000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efcd3b7ec0e24000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e24000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b464efcd3b7ec0e24000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e24000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464efcd3b7ec0e24000016, "created_at"=>Thu Jan 07 21:15:40 UTC 2010, "start_time"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464efcd3b7ec0e24000018}, {"name"=>"a job", "job_id"=>4b464efcd3b7ec0e24000017, "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464efcd3b7ec0e24000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464efcd3b7ec0e24000016, "created_at"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efcd3b7ec0e24000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:15:40) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b464efcd3b7ec0e24000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b464efcd3b7ec0e24000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b464efcd3b7ec0e24000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e24000017, "endpoint_path"=>"a/b/c", "duration"=>-4742715.66666667, "endpoint_id"=>4b464efcd3b7ec0e24000016, "created_at"=>Thu Jan 07 21:15:40 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b464efcd3b7ec0e24000019}, {"job_id"=>4b464efcd3b7ec0e24000017, "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e24000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b464efcd3b7ec0e24000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:15:40 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efcd3b7ec0e24000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b464efcd3b7ec0e24000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b464efcd3b7ec0e24000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efcd3b7ec0e2400001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e2400001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b464efcd3b7ec0e2400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b464efcd3b7ec0e2400001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:15:40) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b464efcd3b7ec0e2400001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "_id"=>4b464efcd3b7ec0e2400001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b464efcd3b7ec0e2400001a, "created_at"=>Thu Jan 07 21:15:40 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464efcd3b7ec0e2400001c}, {"job_id"=>4b464efcd3b7ec0e2400001b, "updated_at"=>Thu Jan 07 21:15:40 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464efcd3b7ec0e2400001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b464efcd3b7ec0e2400001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:15:40 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efcd3b7ec0e2400001a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 29ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b464efcd3b7ec0e2400001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b464efcd3b7ec0e2400001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b464efcd3b7ec0e2400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b464efcd3b7ec0e2400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b464ef9d3b7ec0e24000004}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efcd3b7ec0e24000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b464efcd3b7ec0e24000016}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efdd3b7ec0e2400001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:41 UTC 2010, "_id"=>4b464efdd3b7ec0e2400001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:41 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:15:41) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b464efdd3b7ec0e2400001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:15:41 UTC 2010, "_id"=>4b464efdd3b7ec0e2400001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:15:41 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b464efdd3b7ec0e2400001f}, {"updated_at"=>Thu Jan 07 21:15:41 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b464efdd3b7ec0e2400001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b464efdd3b7ec0e2400001e, "created_at"=>Thu Jan 07 21:15:41 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efdd3b7ec0e2400001e, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efed3b7ec0e24000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:42 UTC 2010, "_id"=>4b464efed3b7ec0e24000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:42 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:15:42) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b464efed3b7ec0e24000021}, {"updated_at"=>Thu Jan 07 21:15:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b464efed3b7ec0e24000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b464efed3b7ec0e24000020, "created_at"=>Thu Jan 07 21:15:42 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efed3b7ec0e24000020, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 13ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464efed3b7ec0e24000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:15:42 UTC 2010, "_id"=>4b464efed3b7ec0e24000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:15:42 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:15:42) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b464efcd3b7ec0e24000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b464efcd3b7ec0e24000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b464efcd3b7ec0e24000016}, {})
RobustThread: waiting on "#<Thread:0x656033c run>"
RobustThread: "#<Thread:0x656033c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a1800 run>"
RobustThread: "#<Thread:0x65a1800 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b464ffed3b7ec1c14000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:19:57 UTC 2010, "_id"=>4b464ffed3b7ec1c14000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:19:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:19:58) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b464ffed3b7ec1c14000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:19:58 UTC 2010, "_id"=>4b464ffed3b7ec1c14000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:19:58 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b464ffed3b7ec1c14000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:19:58 UTC 2010, "_id"=>4b464ffed3b7ec1c14000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:19:58 UTC 2010})
Completed in 41ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465044d3b7ec24e0000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b465044d3b7ec24e0000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b465044d3b7ec24e0000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b465044d3b7ec24e0000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465044d3b7ec24e0000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465044d3b7ec24e0000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465044d3b7ec24e0000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465046d3b7ec24e0000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:10 UTC 2010, "_id"=>4b465046d3b7ec24e0000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:10 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:21:10) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465046d3b7ec24e0000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:21:10 UTC 2010, "_id"=>4b465046d3b7ec24e0000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465046d3b7ec24e0000006, "created_at"=>Thu Jan 07 21:21:10 UTC 2010, "start_time"=>Thu Jan 07 21:21:10 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465046d3b7ec24e0000008}, {"job_id"=>4b465046d3b7ec24e0000007, "updated_at"=>Thu Jan 07 21:21:10 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465046d3b7ec24e0000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465046d3b7ec24e0000006, "created_at"=>Thu Jan 07 21:21:10 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465046d3b7ec24e0000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465046d3b7ec24e0000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:21:10 UTC 2010, "_id"=>4b465046d3b7ec24e0000007, "endpoint_path"=>"a/b/c", "duration"=>-4742721.16666667, "endpoint_id"=>4b465046d3b7ec24e0000006, "created_at"=>Thu Jan 07 21:21:10 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:21:10 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465046d3b7ec24e0000009}, {"job_id"=>4b465046d3b7ec24e0000007, "updated_at"=>Thu Jan 07 21:21:10 UTC 2010, "_id"=>4b465046d3b7ec24e0000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465046d3b7ec24e0000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:21:10 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465046d3b7ec24e0000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 46ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b465047d3b7ec24e000000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:11 UTC 2010, "_id"=>4b465047d3b7ec24e000000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:11 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:21:11) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465047d3b7ec24e000000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:21:11 UTC 2010, "_id"=>4b465047d3b7ec24e000000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465047d3b7ec24e000000a, "created_at"=>Thu Jan 07 21:21:11 UTC 2010, "start_time"=>Thu Jan 07 21:21:11 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465047d3b7ec24e000000c}, {"job_id"=>4b465047d3b7ec24e000000b, "updated_at"=>Thu Jan 07 21:21:11 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465047d3b7ec24e000000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465047d3b7ec24e000000a, "created_at"=>Thu Jan 07 21:21:11 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465047d3b7ec24e000000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465047d3b7ec24e000000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:21:11 UTC 2010, "_id"=>4b465047d3b7ec24e000000b, "endpoint_path"=>"a/b/c", "duration"=>-4742721.18333333, "endpoint_id"=>4b465047d3b7ec24e000000a, "created_at"=>Thu Jan 07 21:21:11 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:21:11 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465047d3b7ec24e000000d}, {"job_id"=>4b465047d3b7ec24e000000b, "updated_at"=>Thu Jan 07 21:21:11 UTC 2010, "_id"=>4b465047d3b7ec24e000000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465047d3b7ec24e000000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:21:11 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465047d3b7ec24e000000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 38ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465047d3b7ec24e000000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:11 UTC 2010, "_id"=>4b465047d3b7ec24e000000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:11 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:21:11) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465047d3b7ec24e000000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465047d3b7ec24e000000f}, {}).limit(-1)
Completed in 5ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465047d3b7ec24e000000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465048d3b7ec24e0000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:12 UTC 2010, "_id"=>4b465048d3b7ec24e0000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:12 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465048d3b7ec24e0000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:21:12 UTC 2010, "_id"=>4b465048d3b7ec24e0000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465048d3b7ec24e0000010, "created_at"=>Thu Jan 07 21:21:12 UTC 2010, "start_time"=>Thu Jan 07 21:21:12 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465048d3b7ec24e0000012}, {"name"=>"a job", "job_id"=>4b465048d3b7ec24e0000011, "updated_at"=>Thu Jan 07 21:21:12 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465048d3b7ec24e0000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465048d3b7ec24e0000010, "created_at"=>Thu Jan 07 21:21:12 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465048d3b7ec24e0000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:21:12) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465048d3b7ec24e0000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465048d3b7ec24e0000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465048d3b7ec24e0000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:21:12 UTC 2010, "_id"=>4b465048d3b7ec24e0000011, "endpoint_path"=>"a/b/c", "duration"=>-4742721.2, "endpoint_id"=>4b465048d3b7ec24e0000010, "created_at"=>Thu Jan 07 21:21:12 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:21:12 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465048d3b7ec24e0000013}, {"job_id"=>4b465048d3b7ec24e0000011, "updated_at"=>Thu Jan 07 21:21:12 UTC 2010, "_id"=>4b465048d3b7ec24e0000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465048d3b7ec24e0000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:21:12 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465048d3b7ec24e0000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465048d3b7ec24e0000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465048d3b7ec24e0000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465048d3b7ec24e0000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:12 UTC 2010, "_id"=>4b465048d3b7ec24e0000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:12 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:21:12) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465048d3b7ec24e0000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465048d3b7ec24e0000015}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465048d3b7ec24e0000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465049d3b7ec24e0000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "_id"=>4b465049d3b7ec24e0000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:13 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465049d3b7ec24e0000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "_id"=>4b465049d3b7ec24e0000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465049d3b7ec24e0000016, "created_at"=>Thu Jan 07 21:21:13 UTC 2010, "start_time"=>Thu Jan 07 21:21:13 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465049d3b7ec24e0000018}, {"name"=>"a job", "job_id"=>4b465049d3b7ec24e0000017, "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465049d3b7ec24e0000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465049d3b7ec24e0000016, "created_at"=>Thu Jan 07 21:21:13 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465049d3b7ec24e0000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:21:13) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465049d3b7ec24e0000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465049d3b7ec24e0000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465049d3b7ec24e0000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "_id"=>4b465049d3b7ec24e0000017, "endpoint_path"=>"a/b/c", "duration"=>-4742721.21666667, "endpoint_id"=>4b465049d3b7ec24e0000016, "created_at"=>Thu Jan 07 21:21:13 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:21:13 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465049d3b7ec24e0000019}, {"job_id"=>4b465049d3b7ec24e0000017, "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "_id"=>4b465049d3b7ec24e0000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465049d3b7ec24e0000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:21:13 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465049d3b7ec24e0000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465049d3b7ec24e0000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465049d3b7ec24e0000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465049d3b7ec24e000001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "_id"=>4b465049d3b7ec24e000001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:13 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465049d3b7ec24e000001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465049d3b7ec24e000001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:21:13) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465049d3b7ec24e000001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "_id"=>4b465049d3b7ec24e000001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465049d3b7ec24e000001a, "created_at"=>Thu Jan 07 21:21:13 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465049d3b7ec24e000001c}, {"job_id"=>4b465049d3b7ec24e000001b, "updated_at"=>Thu Jan 07 21:21:13 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465049d3b7ec24e000001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465049d3b7ec24e000001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:21:13 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465049d3b7ec24e000001a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 26ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465049d3b7ec24e000001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465049d3b7ec24e000001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465049d3b7ec24e000001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465049d3b7ec24e000001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465044d3b7ec24e0000004}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46504ad3b7ec24e000001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:14 UTC 2010, "_id"=>4b46504ad3b7ec24e000001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:14 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:21:14) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46504ad3b7ec24e000001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:21:14 UTC 2010, "_id"=>4b46504ad3b7ec24e000001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:21:14 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46504ad3b7ec24e000001f}, {"updated_at"=>Thu Jan 07 21:21:14 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46504ad3b7ec24e000001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b46504ad3b7ec24e000001e, "created_at"=>Thu Jan 07 21:21:14 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46504ad3b7ec24e000001e, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46504ad3b7ec24e0000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:14 UTC 2010, "_id"=>4b46504ad3b7ec24e0000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:14 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:21:14) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46504ad3b7ec24e0000021}, {"updated_at"=>Thu Jan 07 21:21:14 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46504ad3b7ec24e0000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b46504ad3b7ec24e0000020, "created_at"=>Thu Jan 07 21:21:14 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46504ad3b7ec24e0000020, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 14ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46504ad3b7ec24e0000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:21:14 UTC 2010, "_id"=>4b46504ad3b7ec24e0000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:21:14 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:21:15) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46504bd3b7ec24e0000023}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:21:15 UTC 2010, "_id"=>4b46504bd3b7ec24e0000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:21:15 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46504bd3b7ec24e0000023}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:21:15 UTC 2010, "_id"=>4b46504bd3b7ec24e0000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:21:15 UTC 2010})
Completed in 54ms (View: 2 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465049d3b7ec24e0000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465049d3b7ec24e0000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465049d3b7ec24e0000016}, {})
RobustThread: waiting on "#<Thread:0x655f964 run>"
RobustThread: "#<Thread:0x655f964 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46507ed3b7ec20a4000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46507ed3b7ec20a4000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46507ed3b7ec20a4000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46507ed3b7ec20a4000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46507ed3b7ec20a4000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46507ed3b7ec20a4000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46507ed3b7ec20a4000004}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46507ed3b7ec20a4000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b465082d3b7ec20a4000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:10 UTC 2010, "_id"=>4b465082d3b7ec20a4000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:10 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:22:10) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465082d3b7ec20a4000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:22:10 UTC 2010, "_id"=>4b465082d3b7ec20a4000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465082d3b7ec20a4000006, "created_at"=>Thu Jan 07 21:22:10 UTC 2010, "start_time"=>Thu Jan 07 21:22:10 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465082d3b7ec20a4000008}, {"job_id"=>4b465082d3b7ec20a4000007, "updated_at"=>Thu Jan 07 21:22:10 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465082d3b7ec20a4000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465082d3b7ec20a4000006, "created_at"=>Thu Jan 07 21:22:10 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465082d3b7ec20a4000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465082d3b7ec20a4000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:22:10 UTC 2010, "_id"=>4b465082d3b7ec20a4000007, "endpoint_path"=>"a/b/c", "duration"=>-4742722.16666667, "endpoint_id"=>4b465082d3b7ec20a4000006, "created_at"=>Thu Jan 07 21:22:10 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:22:10 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465082d3b7ec20a4000009}, {"job_id"=>4b465082d3b7ec20a4000007, "updated_at"=>Thu Jan 07 21:22:10 UTC 2010, "_id"=>4b465082d3b7ec20a4000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465082d3b7ec20a4000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:22:10 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465082d3b7ec20a4000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 39ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b465088d3b7ec20a400000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:16 UTC 2010, "_id"=>4b465088d3b7ec20a400000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:22:16) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465088d3b7ec20a400000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:22:16 UTC 2010, "_id"=>4b465088d3b7ec20a400000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465088d3b7ec20a400000a, "created_at"=>Thu Jan 07 21:22:16 UTC 2010, "start_time"=>Thu Jan 07 21:22:16 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465088d3b7ec20a400000c}, {"job_id"=>4b465088d3b7ec20a400000b, "updated_at"=>Thu Jan 07 21:22:16 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465088d3b7ec20a400000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465088d3b7ec20a400000a, "created_at"=>Thu Jan 07 21:22:16 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465088d3b7ec20a400000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465088d3b7ec20a400000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:22:16 UTC 2010, "_id"=>4b465088d3b7ec20a400000b, "endpoint_path"=>"a/b/c", "duration"=>-4742722.26666667, "endpoint_id"=>4b465088d3b7ec20a400000a, "created_at"=>Thu Jan 07 21:22:16 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:22:16 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465088d3b7ec20a400000d}, {"job_id"=>4b465088d3b7ec20a400000b, "updated_at"=>Thu Jan 07 21:22:16 UTC 2010, "_id"=>4b465088d3b7ec20a400000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465088d3b7ec20a400000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:22:16 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465088d3b7ec20a400000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 39ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46508cd3b7ec20a400000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:20 UTC 2010, "_id"=>4b46508cd3b7ec20a400000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:20 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:22:20) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46508cd3b7ec20a400000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46508cd3b7ec20a400000f}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46508cd3b7ec20a400000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46508fd3b7ec20a4000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:23 UTC 2010, "_id"=>4b46508fd3b7ec20a4000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:23 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46508fd3b7ec20a4000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:22:23 UTC 2010, "_id"=>4b46508fd3b7ec20a4000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46508fd3b7ec20a4000010, "created_at"=>Thu Jan 07 21:22:23 UTC 2010, "start_time"=>Thu Jan 07 21:22:23 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46508fd3b7ec20a4000012}, {"name"=>"a job", "job_id"=>4b46508fd3b7ec20a4000011, "updated_at"=>Thu Jan 07 21:22:23 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46508fd3b7ec20a4000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46508fd3b7ec20a4000010, "created_at"=>Thu Jan 07 21:22:23 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46508fd3b7ec20a4000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:22:23) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46508fd3b7ec20a4000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46508fd3b7ec20a4000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46508fd3b7ec20a4000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:22:23 UTC 2010, "_id"=>4b46508fd3b7ec20a4000011, "endpoint_path"=>"a/b/c", "duration"=>-4742722.38333333, "endpoint_id"=>4b46508fd3b7ec20a4000010, "created_at"=>Thu Jan 07 21:22:23 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:22:23 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46508fd3b7ec20a4000013}, {"job_id"=>4b46508fd3b7ec20a4000011, "updated_at"=>Thu Jan 07 21:22:23 UTC 2010, "_id"=>4b46508fd3b7ec20a4000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46508fd3b7ec20a4000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:22:23 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46508fd3b7ec20a4000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 67ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46508fd3b7ec20a4000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46508fd3b7ec20a4000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465092d3b7ec20a4000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:26 UTC 2010, "_id"=>4b465092d3b7ec20a4000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:26 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:22:26) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465092d3b7ec20a4000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465092d3b7ec20a4000015}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465092d3b7ec20a4000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b465093d3b7ec20a4000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:27 UTC 2010, "_id"=>4b465093d3b7ec20a4000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:27 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465093d3b7ec20a4000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:22:27 UTC 2010, "_id"=>4b465093d3b7ec20a4000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465093d3b7ec20a4000016, "created_at"=>Thu Jan 07 21:22:27 UTC 2010, "start_time"=>Thu Jan 07 21:22:27 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465093d3b7ec20a4000018}, {"name"=>"a job", "job_id"=>4b465093d3b7ec20a4000017, "updated_at"=>Thu Jan 07 21:22:27 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465093d3b7ec20a4000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465093d3b7ec20a4000016, "created_at"=>Thu Jan 07 21:22:27 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465093d3b7ec20a4000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:22:27) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465093d3b7ec20a4000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465093d3b7ec20a4000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465093d3b7ec20a4000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:22:27 UTC 2010, "_id"=>4b465093d3b7ec20a4000017, "endpoint_path"=>"a/b/c", "duration"=>-4742722.45, "endpoint_id"=>4b465093d3b7ec20a4000016, "created_at"=>Thu Jan 07 21:22:27 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:22:27 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465093d3b7ec20a4000019}, {"job_id"=>4b465093d3b7ec20a4000017, "updated_at"=>Thu Jan 07 21:22:27 UTC 2010, "_id"=>4b465093d3b7ec20a4000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465093d3b7ec20a4000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:22:27 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465093d3b7ec20a4000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465093d3b7ec20a4000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465093d3b7ec20a4000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465095d3b7ec20a400001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:29 UTC 2010, "_id"=>4b465095d3b7ec20a400001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:29 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465095d3b7ec20a400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465095d3b7ec20a400001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:22:29) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465095d3b7ec20a400001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:22:29 UTC 2010, "_id"=>4b465095d3b7ec20a400001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465095d3b7ec20a400001a, "created_at"=>Thu Jan 07 21:22:29 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465095d3b7ec20a400001c}, {"job_id"=>4b465095d3b7ec20a400001b, "updated_at"=>Thu Jan 07 21:22:29 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465095d3b7ec20a400001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465095d3b7ec20a400001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:22:29 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465095d3b7ec20a400001a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465095d3b7ec20a400001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465095d3b7ec20a400001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465095d3b7ec20a400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465095d3b7ec20a400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465096d3b7ec20a400001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:30 UTC 2010, "_id"=>4b465096d3b7ec20a400001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:30 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:22:30) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465096d3b7ec20a400001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:22:30 UTC 2010, "_id"=>4b465096d3b7ec20a400001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:22:30 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465096d3b7ec20a400001f}, {"updated_at"=>Thu Jan 07 21:22:30 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b465096d3b7ec20a400001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b465096d3b7ec20a400001e, "created_at"=>Thu Jan 07 21:22:30 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465096d3b7ec20a400001e, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 20ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465098d3b7ec20a4000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:32 UTC 2010, "_id"=>4b465098d3b7ec20a4000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:22:32) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465098d3b7ec20a4000021}, {"updated_at"=>Thu Jan 07 21:22:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465098d3b7ec20a4000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b465098d3b7ec20a4000020, "created_at"=>Thu Jan 07 21:22:32 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465098d3b7ec20a4000020, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b465099d3b7ec20a4000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:22:33 UTC 2010, "_id"=>4b465099d3b7ec20a4000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:22:33 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:22:33) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:hello_there=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465093d3b7ec20a4000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465093d3b7ec20a4000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465093d3b7ec20a4000016}, {})
RobustThread: waiting on "#<Thread:0x6561930 run>"
RobustThread: "#<Thread:0x6561930 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4650ded3b7ec1aa8000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b4650ded3b7ec1aa8000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b4650ded3b7ec1aa8000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b4650ded3b7ec1aa8000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4650ded3b7ec1aa8000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650ded3b7ec1aa8000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650ded3b7ec1aa8000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650dfd3b7ec1aa8000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa8000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:23:43) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b4650dfd3b7ec1aa8000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa8000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4650dfd3b7ec1aa8000006, "created_at"=>Thu Jan 07 21:23:43 UTC 2010, "start_time"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650dfd3b7ec1aa8000008}, {"job_id"=>4b4650dfd3b7ec1aa8000007, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4650dfd3b7ec1aa8000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4650dfd3b7ec1aa8000006, "created_at"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650dfd3b7ec1aa8000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b4650dfd3b7ec1aa8000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa8000007, "endpoint_path"=>"a/b/c", "duration"=>-4742723.71666667, "endpoint_id"=>4b4650dfd3b7ec1aa8000006, "created_at"=>Thu Jan 07 21:23:43 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650dfd3b7ec1aa8000009}, {"job_id"=>4b4650dfd3b7ec1aa8000007, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa8000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b4650dfd3b7ec1aa8000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:23:43 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650dfd3b7ec1aa8000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 42ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650dfd3b7ec1aa800000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa800000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:23:43) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b4650dfd3b7ec1aa800000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa800000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4650dfd3b7ec1aa800000a, "created_at"=>Thu Jan 07 21:23:43 UTC 2010, "start_time"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650dfd3b7ec1aa800000c}, {"job_id"=>4b4650dfd3b7ec1aa800000b, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4650dfd3b7ec1aa800000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4650dfd3b7ec1aa800000a, "created_at"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650dfd3b7ec1aa800000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b4650dfd3b7ec1aa800000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa800000b, "endpoint_path"=>"a/b/c", "duration"=>-4742723.71666667, "endpoint_id"=>4b4650dfd3b7ec1aa800000a, "created_at"=>Thu Jan 07 21:23:43 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:23:43 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650dfd3b7ec1aa800000d}, {"job_id"=>4b4650dfd3b7ec1aa800000b, "updated_at"=>Thu Jan 07 21:23:43 UTC 2010, "_id"=>4b4650dfd3b7ec1aa800000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b4650dfd3b7ec1aa800000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:23:43 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650dfd3b7ec1aa800000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 40ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e0d3b7ec1aa800000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:44 UTC 2010, "_id"=>4b4650e0d3b7ec1aa800000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:44 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:23:44) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4650e0d3b7ec1aa800000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4650e0d3b7ec1aa800000f}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b4650e0d3b7ec1aa800000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e0d3b7ec1aa8000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:44 UTC 2010, "_id"=>4b4650e0d3b7ec1aa8000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:44 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b4650e0d3b7ec1aa8000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:23:44 UTC 2010, "_id"=>4b4650e0d3b7ec1aa8000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4650e0d3b7ec1aa8000010, "created_at"=>Thu Jan 07 21:23:44 UTC 2010, "start_time"=>Thu Jan 07 21:23:44 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650e0d3b7ec1aa8000012}, {"name"=>"a job", "job_id"=>4b4650e0d3b7ec1aa8000011, "updated_at"=>Thu Jan 07 21:23:44 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4650e0d3b7ec1aa8000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4650e0d3b7ec1aa8000010, "created_at"=>Thu Jan 07 21:23:44 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e0d3b7ec1aa8000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:23:44) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4650e0d3b7ec1aa8000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4650e0d3b7ec1aa8000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b4650e0d3b7ec1aa8000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:23:44 UTC 2010, "_id"=>4b4650e0d3b7ec1aa8000011, "endpoint_path"=>"a/b/c", "duration"=>-4742723.73333333, "endpoint_id"=>4b4650e0d3b7ec1aa8000010, "created_at"=>Thu Jan 07 21:23:44 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:23:44 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4650e0d3b7ec1aa8000013}, {"job_id"=>4b4650e0d3b7ec1aa8000011, "updated_at"=>Thu Jan 07 21:23:44 UTC 2010, "_id"=>4b4650e0d3b7ec1aa8000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b4650e0d3b7ec1aa8000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:23:44 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e0d3b7ec1aa8000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 26ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b4650e0d3b7ec1aa8000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b4650e0d3b7ec1aa8000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b4650e1d3b7ec1aa8000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:45 UTC 2010, "_id"=>4b4650e1d3b7ec1aa8000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:45 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:23:45) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4650e1d3b7ec1aa8000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4650e1d3b7ec1aa8000015}, {}).limit(-1)
Completed in 5ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b4650e1d3b7ec1aa8000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e1d3b7ec1aa8000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:45 UTC 2010, "_id"=>4b4650e1d3b7ec1aa8000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:45 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b4650e1d3b7ec1aa8000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:23:45 UTC 2010, "_id"=>4b4650e1d3b7ec1aa8000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4650e1d3b7ec1aa8000016, "created_at"=>Thu Jan 07 21:23:45 UTC 2010, "start_time"=>Thu Jan 07 21:23:45 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650e1d3b7ec1aa8000018}, {"name"=>"a job", "job_id"=>4b4650e1d3b7ec1aa8000017, "updated_at"=>Thu Jan 07 21:23:45 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4650e1d3b7ec1aa8000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4650e1d3b7ec1aa8000016, "created_at"=>Thu Jan 07 21:23:45 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:23:45) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4650e1d3b7ec1aa8000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4650e1d3b7ec1aa8000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b4650e1d3b7ec1aa8000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:23:45 UTC 2010, "_id"=>4b4650e1d3b7ec1aa8000017, "endpoint_path"=>"a/b/c", "duration"=>-4742723.75, "endpoint_id"=>4b4650e1d3b7ec1aa8000016, "created_at"=>Thu Jan 07 21:23:45 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:23:45 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4650e1d3b7ec1aa8000019}, {"job_id"=>4b4650e1d3b7ec1aa8000017, "updated_at"=>Thu Jan 07 21:23:45 UTC 2010, "_id"=>4b4650e1d3b7ec1aa8000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b4650e1d3b7ec1aa8000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:23:45 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b4650e1d3b7ec1aa8000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b4650e1d3b7ec1aa8000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e2d3b7ec1aa800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:46 UTC 2010, "_id"=>4b4650e2d3b7ec1aa800001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:46 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4650e2d3b7ec1aa800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4650e2d3b7ec1aa800001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:23:46) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b4650e2d3b7ec1aa800001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:23:46 UTC 2010, "_id"=>4b4650e2d3b7ec1aa800001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4650e2d3b7ec1aa800001a, "created_at"=>Thu Jan 07 21:23:46 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650e2d3b7ec1aa800001c}, {"job_id"=>4b4650e2d3b7ec1aa800001b, "updated_at"=>Thu Jan 07 21:23:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4650e2d3b7ec1aa800001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4650e2d3b7ec1aa800001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:23:46 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e2d3b7ec1aa800001a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b4650e2d3b7ec1aa800001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4650e2d3b7ec1aa800001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4650e2d3b7ec1aa800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4650e2d3b7ec1aa800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4650ded3b7ec1aa8000004}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e2d3b7ec1aa800001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:46 UTC 2010, "_id"=>4b4650e2d3b7ec1aa800001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:46 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:23:46) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4650e2d3b7ec1aa800001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:23:46 UTC 2010, "_id"=>4b4650e2d3b7ec1aa800001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:23:46 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4650e2d3b7ec1aa800001f}, {"updated_at"=>Thu Jan 07 21:23:46 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b4650e2d3b7ec1aa800001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b4650e2d3b7ec1aa800001e, "created_at"=>Thu Jan 07 21:23:46 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e2d3b7ec1aa800001e, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e3d3b7ec1aa8000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:47 UTC 2010, "_id"=>4b4650e3d3b7ec1aa8000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:47 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:23:47) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4650e3d3b7ec1aa8000021}, {"updated_at"=>Thu Jan 07 21:23:47 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4650e3d3b7ec1aa8000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b4650e3d3b7ec1aa8000020, "created_at"=>Thu Jan 07 21:23:47 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e3d3b7ec1aa8000020, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 15ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4650e3d3b7ec1aa8000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:23:47 UTC 2010, "_id"=>4b4650e3d3b7ec1aa8000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:23:47 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:23:47) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b4650e1d3b7ec1aa8000016}, {})
RobustThread: waiting on "#<Thread:0x6565238 run>"
RobustThread: "#<Thread:0x6565238 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465131d3b7ec274c000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b465131d3b7ec274c000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b465131d3b7ec274c000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b465131d3b7ec274c000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465131d3b7ec274c000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465131d3b7ec274c000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465131d3b7ec274c000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465132d3b7ec274c000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:25:06) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465132d3b7ec274c000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465132d3b7ec274c000006, "created_at"=>Thu Jan 07 21:25:06 UTC 2010, "start_time"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465132d3b7ec274c000008}, {"job_id"=>4b465132d3b7ec274c000007, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465132d3b7ec274c000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465132d3b7ec274c000006, "created_at"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465132d3b7ec274c000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465132d3b7ec274c000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c000007, "endpoint_path"=>"a/b/c", "duration"=>-4742725.1, "endpoint_id"=>4b465132d3b7ec274c000006, "created_at"=>Thu Jan 07 21:25:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465132d3b7ec274c000009}, {"job_id"=>4b465132d3b7ec274c000007, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465132d3b7ec274c000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:25:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465132d3b7ec274c000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 43ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465132d3b7ec274c00000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c00000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:25:06) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465132d3b7ec274c00000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c00000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465132d3b7ec274c00000a, "created_at"=>Thu Jan 07 21:25:06 UTC 2010, "start_time"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465132d3b7ec274c00000c}, {"job_id"=>4b465132d3b7ec274c00000b, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465132d3b7ec274c00000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465132d3b7ec274c00000a, "created_at"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465132d3b7ec274c00000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465132d3b7ec274c00000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c00000b, "endpoint_path"=>"a/b/c", "duration"=>-4742725.1, "endpoint_id"=>4b465132d3b7ec274c00000a, "created_at"=>Thu Jan 07 21:25:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465132d3b7ec274c00000d}, {"job_id"=>4b465132d3b7ec274c00000b, "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c00000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465132d3b7ec274c00000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:25:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465132d3b7ec274c00000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 40ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465132d3b7ec274c00000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:06 UTC 2010, "_id"=>4b465132d3b7ec274c00000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:25:06) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465132d3b7ec274c00000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465132d3b7ec274c00000f}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465132d3b7ec274c00000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465133d3b7ec274c000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:07 UTC 2010, "_id"=>4b465133d3b7ec274c000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:07 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465133d3b7ec274c000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:25:07 UTC 2010, "_id"=>4b465133d3b7ec274c000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465133d3b7ec274c000010, "created_at"=>Thu Jan 07 21:25:07 UTC 2010, "start_time"=>Thu Jan 07 21:25:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465133d3b7ec274c000012}, {"name"=>"a job", "job_id"=>4b465133d3b7ec274c000011, "updated_at"=>Thu Jan 07 21:25:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465133d3b7ec274c000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465133d3b7ec274c000010, "created_at"=>Thu Jan 07 21:25:07 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465133d3b7ec274c000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:25:07) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465133d3b7ec274c000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465133d3b7ec274c000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465133d3b7ec274c000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:25:07 UTC 2010, "_id"=>4b465133d3b7ec274c000011, "endpoint_path"=>"a/b/c", "duration"=>-4742725.11666667, "endpoint_id"=>4b465133d3b7ec274c000010, "created_at"=>Thu Jan 07 21:25:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:25:07 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465133d3b7ec274c000013}, {"job_id"=>4b465133d3b7ec274c000011, "updated_at"=>Thu Jan 07 21:25:07 UTC 2010, "_id"=>4b465133d3b7ec274c000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465133d3b7ec274c000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:25:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465133d3b7ec274c000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465133d3b7ec274c000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465133d3b7ec274c000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465133d3b7ec274c000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:07 UTC 2010, "_id"=>4b465133d3b7ec274c000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:07 UTC 2010})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:25:07) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465133d3b7ec274c000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465133d3b7ec274c000015}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465133d3b7ec274c000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465134d3b7ec274c000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "_id"=>4b465134d3b7ec274c000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:08 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465134d3b7ec274c000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "_id"=>4b465134d3b7ec274c000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465134d3b7ec274c000016, "created_at"=>Thu Jan 07 21:25:08 UTC 2010, "start_time"=>Thu Jan 07 21:25:08 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465134d3b7ec274c000018}, {"name"=>"a job", "job_id"=>4b465134d3b7ec274c000017, "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465134d3b7ec274c000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465134d3b7ec274c000016, "created_at"=>Thu Jan 07 21:25:08 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465134d3b7ec274c000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:25:08) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465134d3b7ec274c000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465134d3b7ec274c000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465134d3b7ec274c000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "_id"=>4b465134d3b7ec274c000017, "endpoint_path"=>"a/b/c", "duration"=>-4742725.13333333, "endpoint_id"=>4b465134d3b7ec274c000016, "created_at"=>Thu Jan 07 21:25:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:25:08 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465134d3b7ec274c000019}, {"job_id"=>4b465134d3b7ec274c000017, "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "_id"=>4b465134d3b7ec274c000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465134d3b7ec274c000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:25:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465134d3b7ec274c000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 49ms (View: 2 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465134d3b7ec274c000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465134d3b7ec274c000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465134d3b7ec274c00001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "_id"=>4b465134d3b7ec274c00001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:08 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465134d3b7ec274c00001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465134d3b7ec274c00001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:25:08) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465134d3b7ec274c00001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "_id"=>4b465134d3b7ec274c00001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465134d3b7ec274c00001a, "created_at"=>Thu Jan 07 21:25:08 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465134d3b7ec274c00001c}, {"job_id"=>4b465134d3b7ec274c00001b, "updated_at"=>Thu Jan 07 21:25:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465134d3b7ec274c00001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465134d3b7ec274c00001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:25:08 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465134d3b7ec274c00001a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465134d3b7ec274c00001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465134d3b7ec274c00001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465134d3b7ec274c00001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465134d3b7ec274c00001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465131d3b7ec274c000004}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465134d3b7ec274c000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465134d3b7ec274c000016}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465135d3b7ec274c00001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:09 UTC 2010, "_id"=>4b465135d3b7ec274c00001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:09 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:25:09) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465135d3b7ec274c00001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:25:09 UTC 2010, "_id"=>4b465135d3b7ec274c00001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:25:09 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465135d3b7ec274c00001f}, {"updated_at"=>Thu Jan 07 21:25:09 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b465135d3b7ec274c00001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b465135d3b7ec274c00001e, "created_at"=>Thu Jan 07 21:25:09 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465135d3b7ec274c00001e, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465135d3b7ec274c000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:09 UTC 2010, "_id"=>4b465135d3b7ec274c000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:09 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:25:09) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465135d3b7ec274c000021}, {"updated_at"=>Thu Jan 07 21:25:09 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465135d3b7ec274c000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b465135d3b7ec274c000020, "created_at"=>Thu Jan 07 21:25:09 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465135d3b7ec274c000020, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465136d3b7ec274c000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:25:10 UTC 2010, "_id"=>4b465136d3b7ec274c000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:25:10 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:25:10) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465134d3b7ec274c000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465134d3b7ec274c000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465134d3b7ec274c000016}, {})
RobustThread: waiting on "#<Thread:0x6561570 run>"
RobustThread: "#<Thread:0x6561570 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46526ad3b7ec1cd8000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46526ad3b7ec1cd8000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46526ad3b7ec1cd8000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46526ad3b7ec1cd8000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46526ad3b7ec1cd8000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ad3b7ec1cd8000004, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ad3b7ec1cd8000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526ad3b7ec1cd8000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:18 UTC 2010, "_id"=>4b46526ad3b7ec1cd8000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:18 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:30:18) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46526ad3b7ec1cd8000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:30:18 UTC 2010, "_id"=>4b46526ad3b7ec1cd8000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46526ad3b7ec1cd8000006, "created_at"=>Thu Jan 07 21:30:18 UTC 2010, "start_time"=>Thu Jan 07 21:30:18 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526ad3b7ec1cd8000008}, {"job_id"=>4b46526ad3b7ec1cd8000007, "updated_at"=>Thu Jan 07 21:30:18 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46526ad3b7ec1cd8000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46526ad3b7ec1cd8000006, "created_at"=>Thu Jan 07 21:30:18 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ad3b7ec1cd8000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46526ad3b7ec1cd8000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:30:18 UTC 2010, "_id"=>4b46526ad3b7ec1cd8000007, "endpoint_path"=>"a/b/c", "duration"=>-4742730.3, "endpoint_id"=>4b46526ad3b7ec1cd8000006, "created_at"=>Thu Jan 07 21:30:18 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:30:18 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526ad3b7ec1cd8000009}, {"job_id"=>4b46526ad3b7ec1cd8000007, "updated_at"=>Thu Jan 07 21:30:18 UTC 2010, "_id"=>4b46526ad3b7ec1cd8000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46526ad3b7ec1cd8000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:30:18 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ad3b7ec1cd8000006, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 39ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526bd3b7ec1cd800000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:19 UTC 2010, "_id"=>4b46526bd3b7ec1cd800000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:19 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:30:19) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46526bd3b7ec1cd800000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:30:19 UTC 2010, "_id"=>4b46526bd3b7ec1cd800000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46526bd3b7ec1cd800000a, "created_at"=>Thu Jan 07 21:30:19 UTC 2010, "start_time"=>Thu Jan 07 21:30:19 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526bd3b7ec1cd800000c}, {"job_id"=>4b46526bd3b7ec1cd800000b, "updated_at"=>Thu Jan 07 21:30:19 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46526bd3b7ec1cd800000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46526bd3b7ec1cd800000a, "created_at"=>Thu Jan 07 21:30:19 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526bd3b7ec1cd800000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46526bd3b7ec1cd800000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:30:19 UTC 2010, "_id"=>4b46526bd3b7ec1cd800000b, "endpoint_path"=>"a/b/c", "duration"=>-4742730.31666667, "endpoint_id"=>4b46526bd3b7ec1cd800000a, "created_at"=>Thu Jan 07 21:30:19 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:30:19 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526bd3b7ec1cd800000d}, {"job_id"=>4b46526bd3b7ec1cd800000b, "updated_at"=>Thu Jan 07 21:30:19 UTC 2010, "_id"=>4b46526bd3b7ec1cd800000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46526bd3b7ec1cd800000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:30:19 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526bd3b7ec1cd800000a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 59ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526cd3b7ec1cd800000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:20 UTC 2010, "_id"=>4b46526cd3b7ec1cd800000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:20 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:30:20) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46526cd3b7ec1cd800000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46526cd3b7ec1cd800000f}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46526cd3b7ec1cd800000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46526dd3b7ec1cd8000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:21 UTC 2010, "_id"=>4b46526dd3b7ec1cd8000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:21 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46526dd3b7ec1cd8000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:30:21 UTC 2010, "_id"=>4b46526dd3b7ec1cd8000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46526dd3b7ec1cd8000010, "created_at"=>Thu Jan 07 21:30:21 UTC 2010, "start_time"=>Thu Jan 07 21:30:21 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526dd3b7ec1cd8000012}, {"name"=>"a job", "job_id"=>4b46526dd3b7ec1cd8000011, "updated_at"=>Thu Jan 07 21:30:21 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46526dd3b7ec1cd8000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46526dd3b7ec1cd8000010, "created_at"=>Thu Jan 07 21:30:21 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526dd3b7ec1cd8000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:30:21) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46526dd3b7ec1cd8000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46526dd3b7ec1cd8000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46526dd3b7ec1cd8000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:30:21 UTC 2010, "_id"=>4b46526dd3b7ec1cd8000011, "endpoint_path"=>"a/b/c", "duration"=>-4742730.35, "endpoint_id"=>4b46526dd3b7ec1cd8000010, "created_at"=>Thu Jan 07 21:30:21 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:30:21 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46526dd3b7ec1cd8000013}, {"job_id"=>4b46526dd3b7ec1cd8000011, "updated_at"=>Thu Jan 07 21:30:21 UTC 2010, "_id"=>4b46526dd3b7ec1cd8000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46526dd3b7ec1cd8000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:30:21 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526dd3b7ec1cd8000010, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46526dd3b7ec1cd8000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46526dd3b7ec1cd8000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526dd3b7ec1cd8000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:21 UTC 2010, "_id"=>4b46526dd3b7ec1cd8000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:21 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:30:21) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46526dd3b7ec1cd8000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46526dd3b7ec1cd8000015}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46526dd3b7ec1cd8000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526ed3b7ec1cd8000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:22 UTC 2010, "_id"=>4b46526ed3b7ec1cd8000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:22 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46526ed3b7ec1cd8000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:30:22 UTC 2010, "_id"=>4b46526ed3b7ec1cd8000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46526ed3b7ec1cd8000016, "created_at"=>Thu Jan 07 21:30:22 UTC 2010, "start_time"=>Thu Jan 07 21:30:22 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526ed3b7ec1cd8000018}, {"name"=>"a job", "job_id"=>4b46526ed3b7ec1cd8000017, "updated_at"=>Thu Jan 07 21:30:22 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46526ed3b7ec1cd8000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46526ed3b7ec1cd8000016, "created_at"=>Thu Jan 07 21:30:22 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ed3b7ec1cd8000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:30:22) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46526ed3b7ec1cd8000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46526ed3b7ec1cd8000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46526ed3b7ec1cd8000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:30:22 UTC 2010, "_id"=>4b46526ed3b7ec1cd8000017, "endpoint_path"=>"a/b/c", "duration"=>-4742730.36666667, "endpoint_id"=>4b46526ed3b7ec1cd8000016, "created_at"=>Thu Jan 07 21:30:22 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:30:22 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46526ed3b7ec1cd8000019}, {"job_id"=>4b46526ed3b7ec1cd8000017, "updated_at"=>Thu Jan 07 21:30:22 UTC 2010, "_id"=>4b46526ed3b7ec1cd8000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46526ed3b7ec1cd8000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:30:22 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ed3b7ec1cd8000016, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46526ed3b7ec1cd8000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46526ed3b7ec1cd8000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526fd3b7ec1cd800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:23 UTC 2010, "_id"=>4b46526fd3b7ec1cd800001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:23 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46526fd3b7ec1cd800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46526fd3b7ec1cd800001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:30:23) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46526fd3b7ec1cd800001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:30:23 UTC 2010, "_id"=>4b46526fd3b7ec1cd800001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46526fd3b7ec1cd800001a, "created_at"=>Thu Jan 07 21:30:23 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526fd3b7ec1cd800001c}, {"job_id"=>4b46526fd3b7ec1cd800001b, "updated_at"=>Thu Jan 07 21:30:23 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46526fd3b7ec1cd800001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46526fd3b7ec1cd800001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:30:23 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526fd3b7ec1cd800001a, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 24ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46526fd3b7ec1cd800001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46526fd3b7ec1cd800001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46526fd3b7ec1cd800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46526fd3b7ec1cd800001a}, "fields"=>nil}, {}).limit(-1)
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:_id=>4b46526ed3b7ec1cd8000016}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46526ad3b7ec1cd8000004}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46526fd3b7ec1cd800001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:23 UTC 2010, "_id"=>4b46526fd3b7ec1cd800001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:23 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:30:23) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46526fd3b7ec1cd800001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:30:23 UTC 2010, "_id"=>4b46526fd3b7ec1cd800001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:30:23 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46526fd3b7ec1cd800001f}, {"updated_at"=>Thu Jan 07 21:30:23 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46526fd3b7ec1cd800001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b46526fd3b7ec1cd800001e, "created_at"=>Thu Jan 07 21:30:23 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526fd3b7ec1cd800001e, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 24ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465270d3b7ec1cd8000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:24 UTC 2010, "_id"=>4b465270d3b7ec1cd8000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:24 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:30:24) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465270d3b7ec1cd8000021}, {"updated_at"=>Thu Jan 07 21:30:24 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465270d3b7ec1cd8000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b465270d3b7ec1cd8000020, "created_at"=>Thu Jan 07 21:30:24 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465270d3b7ec1cd8000020, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 15ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465270d3b7ec1cd8000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:30:24 UTC 2010, "_id"=>4b465270d3b7ec1cd8000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:30:24 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:30:24) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465270d3b7ec1cd8000023}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:30:24 UTC 2010, "_id"=>4b465270d3b7ec1cd8000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:30:24 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465270d3b7ec1cd8000023}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:30:24 UTC 2010, "_id"=>4b465270d3b7ec1cd8000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:30:24 UTC 2010})
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ed3b7ec1cd8000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46526ed3b7ec1cd8000016}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46526ed3b7ec1cd8000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46526ed3b7ec1cd8000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46526ed3b7ec1cd8000016}, {})
RobustThread: waiting on "#<Thread:0x65c0f0c run>"
RobustThread: "#<Thread:0x65c0f0c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a9c08 run>"
RobustThread: "#<Thread:0x65a9c08 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4652c6d3b7ec22a8000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:31:50 UTC 2010, "_id"=>4b4652c6d3b7ec22a8000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:31:50 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:31:50) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4652c6d3b7ec22a8000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:31:50 UTC 2010, "_id"=>4b4652c6d3b7ec22a8000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:31:50 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4652c6d3b7ec22a8000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:31:50 UTC 2010, "_id"=>4b4652c6d3b7ec22a8000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:31:50 UTC 2010})
Completed in 20ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a9c08 run>"
RobustThread: "#<Thread:0x65a9c08 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4652dfd3b7ec20f4000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:32:15 UTC 2010, "_id"=>4b4652dfd3b7ec20f4000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:32:15 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:32:15) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4652dfd3b7ec20f4000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:32:15 UTC 2010, "_id"=>4b4652dfd3b7ec20f4000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:32:15 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4652dfd3b7ec20f4000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:32:15 UTC 2010, "_id"=>4b4652dfd3b7ec20f4000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:32:15 UTC 2010})
Completed in 22ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a4e60 run>"
RobustThread: "#<Thread:0x65a4e60 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4653d9d3b7ec0a4c000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:36:25 UTC 2010, "_id"=>4b4653d9d3b7ec0a4c000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:36:25 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:36:25) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4653d9d3b7ec0a4c000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:36:25 UTC 2010, "_id"=>4b4653d9d3b7ec0a4c000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:36:25 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4653d9d3b7ec0a4c000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:36:25 UTC 2010, "_id"=>4b4653d9d3b7ec0a4c000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:36:25 UTC 2010})
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7160 run>"
RobustThread: "#<Thread:0x65a7160 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4653f4d3b7ec0674000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:36:52 UTC 2010, "_id"=>4b4653f4d3b7ec0674000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:36:52 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:36:52) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4653f4d3b7ec0674000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:36:52 UTC 2010, "_id"=>4b4653f4d3b7ec0674000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:36:52 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4653f4d3b7ec0674000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:36:52 UTC 2010, "_id"=>4b4653f4d3b7ec0674000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:36:52 UTC 2010})
Completed in 23ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a7174 run>"
RobustThread: "#<Thread:0x65a7174 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465458d3b7ec2790000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:38:32 UTC 2010, "_id"=>4b465458d3b7ec2790000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:38:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:38:32) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465458d3b7ec2790000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:38:32 UTC 2010, "_id"=>4b465458d3b7ec2790000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:38:32 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465458d3b7ec2790000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:38:32 UTC 2010, "_id"=>4b465458d3b7ec2790000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:38:32 UTC 2010})
Completed in 22ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a9c08 run>"
RobustThread: "#<Thread:0x65a9c08 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4654dfd3b7ec2234000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:40:47 UTC 2010, "_id"=>4b4654dfd3b7ec2234000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:40:47 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:40:47) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4654dfd3b7ec2234000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:40:47 UTC 2010, "_id"=>4b4654dfd3b7ec2234000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:40:47 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4654dfd3b7ec2234000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:40:47 UTC 2010, "_id"=>4b4654dfd3b7ec2234000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:40:47 UTC 2010})
Completed in 18ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a70fc run>"
RobustThread: "#<Thread:0x65a70fc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4654f8d3b7ec06a8000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:41:12 UTC 2010, "_id"=>4b4654f8d3b7ec06a8000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:41:12 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:41:12) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4654f8d3b7ec06a8000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:41:12 UTC 2010, "_id"=>4b4654f8d3b7ec06a8000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:41:12 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4654f8d3b7ec06a8000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:41:12 UTC 2010, "_id"=>4b4654f8d3b7ec06a8000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:41:12 UTC 2010})
Completed in 19ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x640a9d8 run>"
RobustThread: "#<Thread:0x640a9d8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46559fd3b7ec2680000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:43:58 UTC 2010, "_id"=>4b46559fd3b7ec2680000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:43:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:43:59) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46559fd3b7ec2680000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:43:59 UTC 2010, "_id"=>4b46559fd3b7ec2680000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:43:59 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46559fd3b7ec2680000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:43:59 UTC 2010, "_id"=>4b46559fd3b7ec2680000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:43:59 UTC 2010})
Completed in 28ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a71ec run>"
RobustThread: "#<Thread:0x65a71ec run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4655fcd3b7ec20ec000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:45:32 UTC 2010, "_id"=>4b4655fcd3b7ec20ec000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:45:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:45:32) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4655fcd3b7ec20ec000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:45:32 UTC 2010, "_id"=>4b4655fcd3b7ec20ec000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:45:32 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4655fcd3b7ec20ec000002}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:45:32 UTC 2010, "_id"=>4b4655fcd3b7ec20ec000002, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:45:32 UTC 2010})
Completed in 21ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465625d3b7ec27e8000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b465625d3b7ec27e8000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b465625d3b7ec27e8000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b465625d3b7ec27e8000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465625d3b7ec27e8000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465625d3b7ec27e8000004}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465625d3b7ec27e8000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465625d3b7ec27e8000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:13 UTC 2010, "_id"=>4b465625d3b7ec27e8000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:13 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:46:13) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465625d3b7ec27e8000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:46:13 UTC 2010, "_id"=>4b465625d3b7ec27e8000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465625d3b7ec27e8000006, "created_at"=>Thu Jan 07 21:46:13 UTC 2010, "start_time"=>Thu Jan 07 21:46:13 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465625d3b7ec27e8000008}, {"job_id"=>4b465625d3b7ec27e8000007, "updated_at"=>Thu Jan 07 21:46:13 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465625d3b7ec27e8000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465625d3b7ec27e8000006, "created_at"=>Thu Jan 07 21:46:13 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465625d3b7ec27e8000006}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465625d3b7ec27e8000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:46:13 UTC 2010, "_id"=>4b465625d3b7ec27e8000007, "endpoint_path"=>"a/b/c", "duration"=>-4742746.21666667, "endpoint_id"=>4b465625d3b7ec27e8000006, "created_at"=>Thu Jan 07 21:46:13 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:46:13 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465625d3b7ec27e8000009}, {"job_id"=>4b465625d3b7ec27e8000007, "updated_at"=>Thu Jan 07 21:46:13 UTC 2010, "_id"=>4b465625d3b7ec27e8000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465625d3b7ec27e8000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:46:13 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465625d3b7ec27e8000006}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 41ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465626d3b7ec27e800000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e800000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:46:14) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465626d3b7ec27e800000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e800000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465626d3b7ec27e800000a, "created_at"=>Thu Jan 07 21:46:14 UTC 2010, "start_time"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465626d3b7ec27e800000c}, {"job_id"=>4b465626d3b7ec27e800000b, "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465626d3b7ec27e800000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465626d3b7ec27e800000a, "created_at"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465626d3b7ec27e800000a}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465626d3b7ec27e800000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e800000b, "endpoint_path"=>"a/b/c", "duration"=>-4742746.23333333, "endpoint_id"=>4b465626d3b7ec27e800000a, "created_at"=>Thu Jan 07 21:46:14 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465626d3b7ec27e800000d}, {"job_id"=>4b465626d3b7ec27e800000b, "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e800000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465626d3b7ec27e800000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:46:14 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465626d3b7ec27e800000a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 38ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465626d3b7ec27e800000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e800000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:46:14) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465626d3b7ec27e800000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465626d3b7ec27e800000f}, {}).limit(-1)
Completed in 5ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465626d3b7ec27e800000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465626d3b7ec27e8000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e8000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465626d3b7ec27e8000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:46:14 UTC 2010, "_id"=>4b465626d3b7ec27e8000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465626d3b7ec27e8000010, "created_at"=>Thu Jan 07 21:46:14 UTC 2010, "start_time"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465627d3b7ec27e8000012}, {"name"=>"a job", "job_id"=>4b465626d3b7ec27e8000011, "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465627d3b7ec27e8000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465626d3b7ec27e8000010, "created_at"=>Thu Jan 07 21:46:15 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465626d3b7ec27e8000010}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:46:15) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465626d3b7ec27e8000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465626d3b7ec27e8000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465626d3b7ec27e8000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465626d3b7ec27e8000011, "endpoint_path"=>"a/b/c", "duration"=>-4742746.23333333, "endpoint_id"=>4b465626d3b7ec27e8000010, "created_at"=>Thu Jan 07 21:46:14 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:46:14 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465627d3b7ec27e8000013}, {"job_id"=>4b465626d3b7ec27e8000011, "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465627d3b7ec27e8000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465626d3b7ec27e8000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:46:15 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465626d3b7ec27e8000010}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 29ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465626d3b7ec27e8000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465626d3b7ec27e8000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465627d3b7ec27e8000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465627d3b7ec27e8000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:15 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:46:15) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465627d3b7ec27e8000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465627d3b7ec27e8000015}, {}).limit(-1)
Completed in 92ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465627d3b7ec27e8000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465627d3b7ec27e8000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465627d3b7ec27e8000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:15 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465627d3b7ec27e8000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465627d3b7ec27e8000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465627d3b7ec27e8000016, "created_at"=>Thu Jan 07 21:46:15 UTC 2010, "start_time"=>Thu Jan 07 21:46:15 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465627d3b7ec27e8000018}, {"name"=>"a job", "job_id"=>4b465627d3b7ec27e8000017, "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465627d3b7ec27e8000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465627d3b7ec27e8000016, "created_at"=>Thu Jan 07 21:46:15 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465627d3b7ec27e8000016}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:46:15) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465627d3b7ec27e8000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465627d3b7ec27e8000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465627d3b7ec27e8000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465627d3b7ec27e8000017, "endpoint_path"=>"a/b/c", "duration"=>-4742746.25, "endpoint_id"=>4b465627d3b7ec27e8000016, "created_at"=>Thu Jan 07 21:46:15 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:46:15 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465627d3b7ec27e8000019}, {"job_id"=>4b465627d3b7ec27e8000017, "updated_at"=>Thu Jan 07 21:46:15 UTC 2010, "_id"=>4b465627d3b7ec27e8000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465627d3b7ec27e8000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:46:15 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465627d3b7ec27e8000016}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b465627d3b7ec27e8000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465627d3b7ec27e8000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465628d3b7ec27e800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "_id"=>4b465628d3b7ec27e800001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465628d3b7ec27e800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465628d3b7ec27e800001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:46:16) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465628d3b7ec27e800001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "_id"=>4b465628d3b7ec27e800001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465628d3b7ec27e800001a, "created_at"=>Thu Jan 07 21:46:16 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465628d3b7ec27e800001c}, {"job_id"=>4b465628d3b7ec27e800001b, "updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465628d3b7ec27e800001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465628d3b7ec27e800001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465628d3b7ec27e800001a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 25ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465628d3b7ec27e800001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465628d3b7ec27e800001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b465628d3b7ec27e800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b465628d3b7ec27e800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:_id=>4b465627d3b7ec27e8000016}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465625d3b7ec27e8000004}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465628d3b7ec27e800001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "_id"=>4b465628d3b7ec27e800001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:46:16) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465628d3b7ec27e800001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "_id"=>4b465628d3b7ec27e800001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465628d3b7ec27e800001f}, {"updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b465628d3b7ec27e800001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b465628d3b7ec27e800001e, "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465628d3b7ec27e800001e}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465628d3b7ec27e8000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "_id"=>4b465628d3b7ec27e8000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:46:16) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465628d3b7ec27e8000021}, {"updated_at"=>Thu Jan 07 21:46:16 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465628d3b7ec27e8000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b465628d3b7ec27e8000020, "created_at"=>Thu Jan 07 21:46:16 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465628d3b7ec27e8000020}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465629d3b7ec27e8000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:46:17 UTC 2010, "_id"=>4b465629d3b7ec27e8000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:46:17 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:46:17) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465629d3b7ec27e8000023}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:46:17 UTC 2010, "_id"=>4b465629d3b7ec27e8000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:46:17 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465629d3b7ec27e8000023}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:46:17 UTC 2010, "_id"=>4b465629d3b7ec27e8000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:46:17 UTC 2010})
Completed in 26ms (View: 2 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465627d3b7ec27e8000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465627d3b7ec27e8000016}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465627d3b7ec27e8000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b465627d3b7ec27e8000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b465627d3b7ec27e8000016}, {})
RobustThread: waiting on "#<Thread:0x65629d4 run>"
RobustThread: "#<Thread:0x65629d4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b465667d3b7ec1258000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b465667d3b7ec1258000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b465667d3b7ec1258000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b465667d3b7ec1258000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465667d3b7ec1258000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465667d3b7ec1258000004}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b465667d3b7ec1258000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465668d3b7ec1258000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec1258000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:47:20) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465668d3b7ec1258000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec1258000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465668d3b7ec1258000006, "created_at"=>Thu Jan 07 21:47:20 UTC 2010, "start_time"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465668d3b7ec1258000008}, {"job_id"=>4b465668d3b7ec1258000007, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465668d3b7ec1258000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465668d3b7ec1258000006, "created_at"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465668d3b7ec1258000006}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465668d3b7ec1258000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec1258000007, "endpoint_path"=>"a/b/c", "duration"=>-4742747.33333333, "endpoint_id"=>4b465668d3b7ec1258000006, "created_at"=>Thu Jan 07 21:47:20 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465668d3b7ec1258000009}, {"job_id"=>4b465668d3b7ec1258000007, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec1258000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465668d3b7ec1258000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:20 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465668d3b7ec1258000006}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 40ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465668d3b7ec125800000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec125800000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:47:20) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b465668d3b7ec125800000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec125800000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465668d3b7ec125800000a, "created_at"=>Thu Jan 07 21:47:20 UTC 2010, "start_time"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465668d3b7ec125800000c}, {"job_id"=>4b465668d3b7ec125800000b, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465668d3b7ec125800000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465668d3b7ec125800000a, "created_at"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465668d3b7ec125800000a}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b465668d3b7ec125800000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec125800000b, "endpoint_path"=>"a/b/c", "duration"=>-4742747.33333333, "endpoint_id"=>4b465668d3b7ec125800000a, "created_at"=>Thu Jan 07 21:47:20 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:20 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465668d3b7ec125800000d}, {"job_id"=>4b465668d3b7ec125800000b, "updated_at"=>Thu Jan 07 21:47:20 UTC 2010, "_id"=>4b465668d3b7ec125800000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b465668d3b7ec125800000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:20 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465668d3b7ec125800000a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 38ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465669d3b7ec125800000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:21 UTC 2010, "_id"=>4b465669d3b7ec125800000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:21 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:47:21) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465669d3b7ec125800000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465669d3b7ec125800000f}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465669d3b7ec125800000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b465669d3b7ec1258000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:21 UTC 2010, "_id"=>4b465669d3b7ec1258000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:21 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b465669d3b7ec1258000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:21 UTC 2010, "_id"=>4b465669d3b7ec1258000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b465669d3b7ec1258000010, "created_at"=>Thu Jan 07 21:47:21 UTC 2010, "start_time"=>Thu Jan 07 21:47:21 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b465669d3b7ec1258000012}, {"name"=>"a job", "job_id"=>4b465669d3b7ec1258000011, "updated_at"=>Thu Jan 07 21:47:21 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b465669d3b7ec1258000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b465669d3b7ec1258000010, "created_at"=>Thu Jan 07 21:47:21 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465669d3b7ec1258000010}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:47:21) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b465669d3b7ec1258000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b465669d3b7ec1258000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b465669d3b7ec1258000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:21 UTC 2010, "_id"=>4b465669d3b7ec1258000011, "endpoint_path"=>"a/b/c", "duration"=>-4742747.35, "endpoint_id"=>4b465669d3b7ec1258000010, "created_at"=>Thu Jan 07 21:47:21 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:21 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b465669d3b7ec1258000013}, {"job_id"=>4b465669d3b7ec1258000011, "updated_at"=>Thu Jan 07 21:47:21 UTC 2010, "_id"=>4b465669d3b7ec1258000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b465669d3b7ec1258000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:21 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b465669d3b7ec1258000010}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b465669d3b7ec1258000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b465669d3b7ec1258000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46566ad3b7ec1258000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:22 UTC 2010, "_id"=>4b46566ad3b7ec1258000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:22 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:47:22) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46566ad3b7ec1258000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46566ad3b7ec1258000015}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46566ad3b7ec1258000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46566ad3b7ec1258000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:22 UTC 2010, "_id"=>4b46566ad3b7ec1258000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:22 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46566ad3b7ec1258000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:22 UTC 2010, "_id"=>4b46566ad3b7ec1258000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46566ad3b7ec1258000016, "created_at"=>Thu Jan 07 21:47:22 UTC 2010, "start_time"=>Thu Jan 07 21:47:22 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46566ad3b7ec1258000018}, {"name"=>"a job", "job_id"=>4b46566ad3b7ec1258000017, "updated_at"=>Thu Jan 07 21:47:22 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46566ad3b7ec1258000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46566ad3b7ec1258000016, "created_at"=>Thu Jan 07 21:47:22 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46566ad3b7ec1258000016}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:47:22) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46566ad3b7ec1258000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46566ad3b7ec1258000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46566ad3b7ec1258000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:22 UTC 2010, "_id"=>4b46566ad3b7ec1258000017, "endpoint_path"=>"a/b/c", "duration"=>-4742747.36666667, "endpoint_id"=>4b46566ad3b7ec1258000016, "created_at"=>Thu Jan 07 21:47:22 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:22 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46566ad3b7ec1258000019}, {"job_id"=>4b46566ad3b7ec1258000017, "updated_at"=>Thu Jan 07 21:47:22 UTC 2010, "_id"=>4b46566ad3b7ec1258000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46566ad3b7ec1258000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:22 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46566ad3b7ec1258000016}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46566ad3b7ec1258000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46566ad3b7ec1258000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46566bd3b7ec125800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:23 UTC 2010, "_id"=>4b46566bd3b7ec125800001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:23 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46566bd3b7ec125800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46566bd3b7ec125800001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:47:23) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46566bd3b7ec125800001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:47:23 UTC 2010, "_id"=>4b46566bd3b7ec125800001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46566bd3b7ec125800001a, "created_at"=>Thu Jan 07 21:47:23 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46566bd3b7ec125800001c}, {"job_id"=>4b46566bd3b7ec125800001b, "updated_at"=>Thu Jan 07 21:47:23 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46566bd3b7ec125800001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46566bd3b7ec125800001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:47:23 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46566bd3b7ec125800001a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46566bd3b7ec125800001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46566bd3b7ec125800001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46566bd3b7ec125800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46566bd3b7ec125800001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:_id=>4b46566ad3b7ec1258000016}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46566bd3b7ec125800001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:23 UTC 2010, "_id"=>4b46566bd3b7ec125800001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:23 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:47:23) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46566bd3b7ec125800001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:47:23 UTC 2010, "_id"=>4b46566bd3b7ec125800001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:47:23 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46566bd3b7ec125800001f}, {"updated_at"=>Thu Jan 07 21:47:23 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46566bd3b7ec125800001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b46566bd3b7ec125800001e, "created_at"=>Thu Jan 07 21:47:23 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46566bd3b7ec125800001e}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 20ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46566cd3b7ec1258000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:24 UTC 2010, "_id"=>4b46566cd3b7ec1258000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:24 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:47:24) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46566cd3b7ec1258000021}, {"updated_at"=>Thu Jan 07 21:47:24 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46566cd3b7ec1258000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b46566cd3b7ec1258000020, "created_at"=>Thu Jan 07 21:47:24 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46566cd3b7ec1258000020}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 13ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46566cd3b7ec1258000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:24 UTC 2010, "_id"=>4b46566cd3b7ec1258000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:24 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:47:24) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46566cd3b7ec1258000023}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:47:24 UTC 2010, "_id"=>4b46566cd3b7ec1258000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:47:24 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46566cd3b7ec1258000023}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:47:24 UTC 2010, "_id"=>4b46566cd3b7ec1258000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:47:24 UTC 2010})
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46566ad3b7ec1258000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46566ad3b7ec1258000016}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46566ad3b7ec1258000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46566ad3b7ec1258000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46566ad3b7ec1258000016}, {})
RobustThread: waiting on "#<Thread:0x655c5fc run>"
RobustThread: "#<Thread:0x655c5fc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46568ad3b7ec02bc000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46568ad3b7ec02bc000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46568ad3b7ec02bc000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46568ad3b7ec02bc000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46568ad3b7ec02bc000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568ad3b7ec02bc000004}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46568ad3b7ec02bc000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568ad3b7ec02bc000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:47:54) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46568ad3b7ec02bc000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46568ad3b7ec02bc000006, "created_at"=>Thu Jan 07 21:47:54 UTC 2010, "start_time"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568ad3b7ec02bc000008}, {"job_id"=>4b46568ad3b7ec02bc000007, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46568ad3b7ec02bc000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46568ad3b7ec02bc000006, "created_at"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568ad3b7ec02bc000006}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46568ad3b7ec02bc000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc000007, "endpoint_path"=>"a/b/c", "duration"=>-4742747.9, "endpoint_id"=>4b46568ad3b7ec02bc000006, "created_at"=>Thu Jan 07 21:47:54 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568ad3b7ec02bc000009}, {"job_id"=>4b46568ad3b7ec02bc000007, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46568ad3b7ec02bc000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:54 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568ad3b7ec02bc000006}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 44ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568ad3b7ec02bc00000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc00000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:47:54) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46568ad3b7ec02bc00000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc00000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46568ad3b7ec02bc00000a, "created_at"=>Thu Jan 07 21:47:54 UTC 2010, "start_time"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568ad3b7ec02bc00000c}, {"job_id"=>4b46568ad3b7ec02bc00000b, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46568ad3b7ec02bc00000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46568ad3b7ec02bc00000a, "created_at"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568ad3b7ec02bc00000a}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46568ad3b7ec02bc00000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc00000b, "endpoint_path"=>"a/b/c", "duration"=>-4742747.9, "endpoint_id"=>4b46568ad3b7ec02bc00000a, "created_at"=>Thu Jan 07 21:47:54 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:54 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568ad3b7ec02bc00000d}, {"job_id"=>4b46568ad3b7ec02bc00000b, "updated_at"=>Thu Jan 07 21:47:54 UTC 2010, "_id"=>4b46568ad3b7ec02bc00000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46568ad3b7ec02bc00000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:54 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568ad3b7ec02bc00000a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 38ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568bd3b7ec02bc00000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:55 UTC 2010, "_id"=>4b46568bd3b7ec02bc00000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:55 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:47:55) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46568bd3b7ec02bc00000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46568bd3b7ec02bc00000f}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46568bd3b7ec02bc00000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568bd3b7ec02bc000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:55 UTC 2010, "_id"=>4b46568bd3b7ec02bc000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:55 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46568bd3b7ec02bc000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:55 UTC 2010, "_id"=>4b46568bd3b7ec02bc000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46568bd3b7ec02bc000010, "created_at"=>Thu Jan 07 21:47:55 UTC 2010, "start_time"=>Thu Jan 07 21:47:55 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568bd3b7ec02bc000012}, {"name"=>"a job", "job_id"=>4b46568bd3b7ec02bc000011, "updated_at"=>Thu Jan 07 21:47:55 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46568bd3b7ec02bc000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46568bd3b7ec02bc000010, "created_at"=>Thu Jan 07 21:47:55 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568bd3b7ec02bc000010}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:47:55) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46568bd3b7ec02bc000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46568bd3b7ec02bc000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46568bd3b7ec02bc000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:55 UTC 2010, "_id"=>4b46568bd3b7ec02bc000011, "endpoint_path"=>"a/b/c", "duration"=>-4742747.91666667, "endpoint_id"=>4b46568bd3b7ec02bc000010, "created_at"=>Thu Jan 07 21:47:55 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:55 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46568bd3b7ec02bc000013}, {"job_id"=>4b46568bd3b7ec02bc000011, "updated_at"=>Thu Jan 07 21:47:55 UTC 2010, "_id"=>4b46568bd3b7ec02bc000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46568bd3b7ec02bc000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:55 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568bd3b7ec02bc000010}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 31ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46568bd3b7ec02bc000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46568bd3b7ec02bc000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568cd3b7ec02bc000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:56 UTC 2010, "_id"=>4b46568cd3b7ec02bc000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:47:56) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46568cd3b7ec02bc000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46568cd3b7ec02bc000015}, {}).limit(-1)
Completed in 100ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46568cd3b7ec02bc000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46568cd3b7ec02bc000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:56 UTC 2010, "_id"=>4b46568cd3b7ec02bc000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:56 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46568cd3b7ec02bc000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:56 UTC 2010, "_id"=>4b46568cd3b7ec02bc000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46568cd3b7ec02bc000016, "created_at"=>Thu Jan 07 21:47:56 UTC 2010, "start_time"=>Thu Jan 07 21:47:56 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568cd3b7ec02bc000018}, {"name"=>"a job", "job_id"=>4b46568cd3b7ec02bc000017, "updated_at"=>Thu Jan 07 21:47:56 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46568cd3b7ec02bc000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46568cd3b7ec02bc000016, "created_at"=>Thu Jan 07 21:47:56 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568cd3b7ec02bc000016}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:47:56) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46568cd3b7ec02bc000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46568cd3b7ec02bc000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46568cd3b7ec02bc000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:47:56 UTC 2010, "_id"=>4b46568cd3b7ec02bc000017, "endpoint_path"=>"a/b/c", "duration"=>-4742747.93333333, "endpoint_id"=>4b46568cd3b7ec02bc000016, "created_at"=>Thu Jan 07 21:47:56 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:47:56 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46568cd3b7ec02bc000019}, {"job_id"=>4b46568cd3b7ec02bc000017, "updated_at"=>Thu Jan 07 21:47:56 UTC 2010, "_id"=>4b46568cd3b7ec02bc000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46568cd3b7ec02bc000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:47:56 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568cd3b7ec02bc000016}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 26ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46568cd3b7ec02bc000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46568cd3b7ec02bc000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568dd3b7ec02bc00001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:57 UTC 2010, "_id"=>4b46568dd3b7ec02bc00001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46568dd3b7ec02bc00001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46568dd3b7ec02bc00001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:47:57) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46568dd3b7ec02bc00001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:47:57 UTC 2010, "_id"=>4b46568dd3b7ec02bc00001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b46568dd3b7ec02bc00001a, "created_at"=>Thu Jan 07 21:47:57 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568dd3b7ec02bc00001c}, {"job_id"=>4b46568dd3b7ec02bc00001b, "updated_at"=>Thu Jan 07 21:47:57 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46568dd3b7ec02bc00001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46568dd3b7ec02bc00001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:47:57 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568dd3b7ec02bc00001a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46568dd3b7ec02bc00001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46568dd3b7ec02bc00001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46568dd3b7ec02bc00001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46568dd3b7ec02bc00001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:_id=>4b46568cd3b7ec02bc000016}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568dd3b7ec02bc00001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:57 UTC 2010, "_id"=>4b46568dd3b7ec02bc00001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:47:57) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46568dd3b7ec02bc00001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:47:57 UTC 2010, "_id"=>4b46568dd3b7ec02bc00001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:47:57 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46568dd3b7ec02bc00001f}, {"updated_at"=>Thu Jan 07 21:47:57 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46568dd3b7ec02bc00001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b46568dd3b7ec02bc00001e, "created_at"=>Thu Jan 07 21:47:57 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568dd3b7ec02bc00001e}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568ed3b7ec02bc000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:58 UTC 2010, "_id"=>4b46568ed3b7ec02bc000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:47:58) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46568ed3b7ec02bc000021}, {"updated_at"=>Thu Jan 07 21:47:58 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46568ed3b7ec02bc000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b46568ed3b7ec02bc000020, "created_at"=>Thu Jan 07 21:47:58 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46568ed3b7ec02bc000020}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 13ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46568ad3b7ec02bc000004}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46568ed3b7ec02bc000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:47:58 UTC 2010, "_id"=>4b46568ed3b7ec02bc000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:47:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:47:58) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46568ed3b7ec02bc000023}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:47:58 UTC 2010, "_id"=>4b46568ed3b7ec02bc000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:47:58 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46568ed3b7ec02bc000023}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:47:58 UTC 2010, "_id"=>4b46568ed3b7ec02bc000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:47:58 UTC 2010})
Completed in 29ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46568cd3b7ec02bc000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46568cd3b7ec02bc000016}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46568cd3b7ec02bc000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46568cd3b7ec02bc000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46568cd3b7ec02bc000016}, {})
RobustThread: waiting on "#<Thread:0x65937f0 run>"
RobustThread: "#<Thread:0x65937f0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65972b0 run>"
RobustThread: "#<Thread:0x65972b0 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4656e9d3b7ec0374000004}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b4656e9d3b7ec0374000004, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b4656e9d3b7ec0374000005}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b4656e9d3b7ec0374000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4656e9d3b7ec0374000004, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656e9d3b7ec0374000004}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4656e9d3b7ec0374000004}, {})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ead3b7ec0374000006}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec0374000006, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:49:30) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b4656ead3b7ec0374000007}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec0374000007, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4656ead3b7ec0374000006, "created_at"=>Thu Jan 07 21:49:30 UTC 2010, "start_time"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ead3b7ec0374000008}, {"job_id"=>4b4656ead3b7ec0374000007, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4656ead3b7ec0374000008, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4656ead3b7ec0374000006, "created_at"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ead3b7ec0374000006}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b4656ead3b7ec0374000007}, {"status"=>:completed, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec0374000007, "endpoint_path"=>"a/b/c", "duration"=>-4742749.5, "endpoint_id"=>4b4656ead3b7ec0374000006, "created_at"=>Thu Jan 07 21:49:30 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ead3b7ec0374000009}, {"job_id"=>4b4656ead3b7ec0374000007, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec0374000009, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b4656ead3b7ec0374000006, "duration"=>0.0, "created_at"=>Thu Jan 07 21:49:30 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ead3b7ec0374000006}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 42ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ead3b7ec037400000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec037400000a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:49:30) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b4656ead3b7ec037400000b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec037400000b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4656ead3b7ec037400000a, "created_at"=>Thu Jan 07 21:49:30 UTC 2010, "start_time"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ead3b7ec037400000c}, {"job_id"=>4b4656ead3b7ec037400000b, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4656ead3b7ec037400000c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4656ead3b7ec037400000a, "created_at"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ead3b7ec037400000a}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b4656ead3b7ec037400000b}, {"status"=>:failed, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec037400000b, "endpoint_path"=>"a/b/c", "duration"=>-4742749.5, "endpoint_id"=>4b4656ead3b7ec037400000a, "created_at"=>Thu Jan 07 21:49:30 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:49:30 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ead3b7ec037400000d}, {"job_id"=>4b4656ead3b7ec037400000b, "updated_at"=>Thu Jan 07 21:49:30 UTC 2010, "_id"=>4b4656ead3b7ec037400000d, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b4656ead3b7ec037400000a, "duration"=>0.0, "created_at"=>Thu Jan 07 21:49:30 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ead3b7ec037400000a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 40ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ebd3b7ec037400000e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "_id"=>4b4656ebd3b7ec037400000e, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:31 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:49:31) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4656ebd3b7ec037400000f, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4656ebd3b7ec037400000f}, {}).limit(-1)
Completed in 5ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b4656ebd3b7ec037400000f&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ebd3b7ec0374000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "_id"=>4b4656ebd3b7ec0374000010, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:31 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b4656ebd3b7ec0374000011}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "_id"=>4b4656ebd3b7ec0374000011, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4656ebd3b7ec0374000010, "created_at"=>Thu Jan 07 21:49:31 UTC 2010, "start_time"=>Thu Jan 07 21:49:31 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ebd3b7ec0374000012}, {"name"=>"a job", "job_id"=>4b4656ebd3b7ec0374000011, "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4656ebd3b7ec0374000012, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4656ebd3b7ec0374000010, "created_at"=>Thu Jan 07 21:49:31 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ebd3b7ec0374000010}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 13:49:31) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4656ebd3b7ec0374000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4656ebd3b7ec0374000011}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b4656ebd3b7ec0374000011}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "_id"=>4b4656ebd3b7ec0374000011, "endpoint_path"=>"a/b/c", "duration"=>-4742749.51666667, "endpoint_id"=>4b4656ebd3b7ec0374000010, "created_at"=>Thu Jan 07 21:49:31 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:49:31 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4656ebd3b7ec0374000013}, {"job_id"=>4b4656ebd3b7ec0374000011, "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "_id"=>4b4656ebd3b7ec0374000013, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b4656ebd3b7ec0374000010, "duration"=>0.0, "created_at"=>Thu Jan 07 21:49:31 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ebd3b7ec0374000010}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 26ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b4656ebd3b7ec0374000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b4656ebd3b7ec0374000011}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ebd3b7ec0374000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:31 UTC 2010, "_id"=>4b4656ebd3b7ec0374000014, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:31 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:49:31) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4656ebd3b7ec0374000015, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4656ebd3b7ec0374000015}, {}).limit(-1)
Completed in 5ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b4656ebd3b7ec0374000015&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ecd3b7ec0374000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec0374000016, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b4656ecd3b7ec0374000017}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec0374000017, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4656ecd3b7ec0374000016, "created_at"=>Thu Jan 07 21:49:32 UTC 2010, "start_time"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ecd3b7ec0374000018}, {"name"=>"a job", "job_id"=>4b4656ecd3b7ec0374000017, "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4656ecd3b7ec0374000018, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4656ecd3b7ec0374000016, "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ecd3b7ec0374000016}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 13:49:32) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b4656ecd3b7ec0374000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b4656ecd3b7ec0374000017}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b4656ecd3b7ec0374000017}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec0374000017, "endpoint_path"=>"a/b/c", "duration"=>-4742749.53333333, "endpoint_id"=>4b4656ecd3b7ec0374000016, "created_at"=>Thu Jan 07 21:49:32 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4656ecd3b7ec0374000019}, {"job_id"=>4b4656ecd3b7ec0374000017, "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec0374000019, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b4656ecd3b7ec0374000016, "duration"=>0.0, "created_at"=>Thu Jan 07 21:49:32 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ecd3b7ec0374000016}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b4656ecd3b7ec0374000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b4656ecd3b7ec0374000017}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ecd3b7ec037400001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec037400001a, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4656ecd3b7ec037400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4656ecd3b7ec037400001a}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 13:49:32) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b4656ecd3b7ec037400001b}, {"status"=>:pending, "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec037400001b, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b4656ecd3b7ec037400001a, "created_at"=>Thu Jan 07 21:49:32 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ecd3b7ec037400001c}, {"job_id"=>4b4656ecd3b7ec037400001b, "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4656ecd3b7ec037400001c, "_type"=>"JobStartedEvent", "endpoint_id"=>4b4656ecd3b7ec037400001a, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ecd3b7ec037400001a}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 22ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b4656ecd3b7ec037400001a}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4656ecd3b7ec037400001a}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b4656ecd3b7ec037400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b4656ecd3b7ec037400001a}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4656e9d3b7ec0374000004}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656ecd3b7ec037400001d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec037400001d, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:49:32) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4656ecd3b7ec037400001e}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "_id"=>4b4656ecd3b7ec037400001e, "path"=>"d/e/f", "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4656ecd3b7ec037400001f}, {"updated_at"=>Thu Jan 07 21:49:32 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b4656ecd3b7ec037400001f, "_type"=>"EndpointEvent", "endpoint_id"=>4b4656ecd3b7ec037400001e, "created_at"=>Thu Jan 07 21:49:32 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656ecd3b7ec037400001e}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656edd3b7ec0374000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:33 UTC 2010, "_id"=>4b4656edd3b7ec0374000020, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:33 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 13:49:33) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4656edd3b7ec0374000021}, {"updated_at"=>Thu Jan 07 21:49:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4656edd3b7ec0374000021, "_type"=>"EndpointEvent", "endpoint_id"=>4b4656edd3b7ec0374000020, "created_at"=>Thu Jan 07 21:49:33 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b4656edd3b7ec0374000020}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 15ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4656edd3b7ec0374000022}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 21:49:33 UTC 2010, "_id"=>4b4656edd3b7ec0374000022, "path"=>"a/b/c", "created_at"=>Thu Jan 07 21:49:33 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 13:49:33) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4656edd3b7ec0374000023}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 21:49:33 UTC 2010, "_id"=>4b4656edd3b7ec0374000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:49:33 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4656edd3b7ec0374000023}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 21:49:33 UTC 2010, "_id"=>4b4656edd3b7ec0374000023, "path"=>"c/d/e", "created_at"=>Thu Jan 07 21:49:33 UTC 2010})
Completed in 25ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4656ecd3b7ec0374000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4656ecd3b7ec0374000016}, {})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4656ecd3b7ec0374000016}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b4656ecd3b7ec0374000016}, {})
  MONGODB mother_test.jobs.find({:endpoint_id=>4b4656ecd3b7ec0374000016}, {})
RobustThread: waiting on "#<Thread:0x6562df8 run>"
RobustThread: "#<Thread:0x6562df8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a2d40 run>"
RobustThread: "#<Thread:0x65a2d40 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"1/2/3"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467076d3b7ec0984000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:38:30 UTC 2010, "_id"=>4b467076d3b7ec0984000001, "path"=>"1/2/3", "created_at"=>Thu Jan 07 23:38:30 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"4/5/6"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467076d3b7ec0984000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:38:30 UTC 2010, "_id"=>4b467076d3b7ec0984000002, "path"=>"4/5/6", "created_at"=>Thu Jan 07 23:38:30 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"6/7/8"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467077d3b7ec0984000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:38:31 UTC 2010, "_id"=>4b467077d3b7ec0984000003, "path"=>"6/7/8", "created_at"=>Thu Jan 07 23:38:31 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 15:38:31) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467078d3b7ec0984000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:38:32 UTC 2010, "_id"=>4b467078d3b7ec0984000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:38:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 15:38:32) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467078d3b7ec0984000005}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:38:32 UTC 2010, "_id"=>4b467078d3b7ec0984000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:38:32 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467078d3b7ec0984000005}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 23:38:32 UTC 2010, "_id"=>4b467078d3b7ec0984000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:38:32 UTC 2010})
Completed in 32ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a589c run>"
RobustThread: "#<Thread:0x65a589c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"1/2/3"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4670fbd3b7ec02bc000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:40:43 UTC 2010, "_id"=>4b4670fbd3b7ec02bc000001, "path"=>"1/2/3", "created_at"=>Thu Jan 07 23:40:43 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"4/5/6"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4670fbd3b7ec02bc000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:40:43 UTC 2010, "_id"=>4b4670fbd3b7ec02bc000002, "path"=>"4/5/6", "created_at"=>Thu Jan 07 23:40:43 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"6/7/8"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4670fcd3b7ec02bc000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:40:44 UTC 2010, "_id"=>4b4670fcd3b7ec02bc000003, "path"=>"6/7/8", "created_at"=>Thu Jan 07 23:40:44 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 15:40:44) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4670fcd3b7ec02bc000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:40:44 UTC 2010, "_id"=>4b4670fcd3b7ec02bc000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:40:44 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 15:40:44) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4670fcd3b7ec02bc000005}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:40:44 UTC 2010, "_id"=>4b4670fcd3b7ec02bc000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:40:44 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4670fcd3b7ec02bc000005}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 23:40:44 UTC 2010, "_id"=>4b4670fcd3b7ec02bc000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:40:44 UTC 2010})
Completed in 16ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a6ddc run>"
RobustThread: "#<Thread:0x65a6ddc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"1/2/3"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46712dd3b7ec1064000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:41:33 UTC 2010, "_id"=>4b46712dd3b7ec1064000001, "path"=>"1/2/3", "created_at"=>Thu Jan 07 23:41:33 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"4/5/6"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46712dd3b7ec1064000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:41:33 UTC 2010, "_id"=>4b46712dd3b7ec1064000002, "path"=>"4/5/6", "created_at"=>Thu Jan 07 23:41:33 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"6/7/8"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46712ed3b7ec1064000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:41:34 UTC 2010, "_id"=>4b46712ed3b7ec1064000003, "path"=>"6/7/8", "created_at"=>Thu Jan 07 23:41:34 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 15:41:34) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 75ms (View: 62 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46712ed3b7ec1064000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:41:34 UTC 2010, "_id"=>4b46712ed3b7ec1064000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:41:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 15:41:34) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46712ed3b7ec1064000005}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:41:34 UTC 2010, "_id"=>4b46712ed3b7ec1064000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:41:34 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46712ed3b7ec1064000005}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 23:41:34 UTC 2010, "_id"=>4b46712ed3b7ec1064000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:41:34 UTC 2010})
Completed in 14ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a237c run>"
RobustThread: "#<Thread:0x65a237c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"1/2/3"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467192d3b7ec193c000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:14 UTC 2010, "_id"=>4b467192d3b7ec193c000001, "path"=>"1/2/3", "created_at"=>Thu Jan 07 23:43:14 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"4/5/6"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467193d3b7ec193c000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:15 UTC 2010, "_id"=>4b467193d3b7ec193c000002, "path"=>"4/5/6", "created_at"=>Thu Jan 07 23:43:15 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"6/7/8"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467193d3b7ec193c000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:15 UTC 2010, "_id"=>4b467193d3b7ec193c000003, "path"=>"6/7/8", "created_at"=>Thu Jan 07 23:43:15 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 15:43:15) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 68ms (View: 61 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467194d3b7ec193c000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:16 UTC 2010, "_id"=>4b467194d3b7ec193c000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:43:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 15:43:16) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467194d3b7ec193c000005}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:43:16 UTC 2010, "_id"=>4b467194d3b7ec193c000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:43:16 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467194d3b7ec193c000005}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 23:43:16 UTC 2010, "_id"=>4b467194d3b7ec193c000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:43:16 UTC 2010})
Completed in 19ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a4e10 run>"
RobustThread: "#<Thread:0x65a4e10 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"1/2/3"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4671bad3b7ec1c34000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:54 UTC 2010, "_id"=>4b4671bad3b7ec1c34000001, "path"=>"1/2/3", "created_at"=>Thu Jan 07 23:43:54 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"4/5/6"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4671bad3b7ec1c34000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:54 UTC 2010, "_id"=>4b4671bad3b7ec1c34000002, "path"=>"4/5/6", "created_at"=>Thu Jan 07 23:43:54 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"6/7/8"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4671bbd3b7ec1c34000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:55 UTC 2010, "_id"=>4b4671bbd3b7ec1c34000003, "path"=>"6/7/8", "created_at"=>Thu Jan 07 23:43:55 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 15:43:55) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 72ms (View: 63 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4671bcd3b7ec1c34000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:43:56 UTC 2010, "_id"=>4b4671bcd3b7ec1c34000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:43:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 15:43:56) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4671bcd3b7ec1c34000005}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:43:56 UTC 2010, "_id"=>4b4671bcd3b7ec1c34000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:43:56 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4671bcd3b7ec1c34000005}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Thu Jan 07 23:43:56 UTC 2010, "_id"=>4b4671bcd3b7ec1c34000005, "path"=>"c/d/e", "created_at"=>Thu Jan 07 23:43:56 UTC 2010})
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a444c run>"
RobustThread: "#<Thread:0x65a444c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467283d3b7ec1c28000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:47:15 UTC 2010, "_id"=>4b467283d3b7ec1c28000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:47:15 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:47:15) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467283d3b7ec1c28000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:47:15 UTC 2010, "_id"=>4b467283d3b7ec1c28000002, "path"=>"d/e/f", "created_at"=>Thu Jan 07 23:47:15 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467283d3b7ec1c28000003}, {"updated_at"=>Thu Jan 07 23:47:15 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467283d3b7ec1c28000003, "_type"=>"EndpointEvent", "endpoint_id"=>4b467283d3b7ec1c28000002, "created_at"=>Thu Jan 07 23:47:15 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467283d3b7ec1c28000002}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 15ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467284d3b7ec1c28000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:47:16 UTC 2010, "_id"=>4b467284d3b7ec1c28000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:47:16 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:47:16) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467284d3b7ec1c28000005}, {"updated_at"=>Thu Jan 07 23:47:16 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467284d3b7ec1c28000005, "_type"=>"EndpointEvent", "endpoint_id"=>4b467284d3b7ec1c28000004, "created_at"=>Thu Jan 07 23:47:16 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467284d3b7ec1c28000004}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 14ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: waiting on "#<Thread:0x65a4438 run>"
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: "#<Thread:0x65a4438 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65a444c run>"
RobustThread: "#<Thread:0x65a444c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467325d3b7ec1f08000001}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:49:57 UTC 2010, "_id"=>4b467325d3b7ec1f08000001, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:49:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:49:57) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467325d3b7ec1f08000002}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:49:57 UTC 2010, "_id"=>4b467325d3b7ec1f08000002, "path"=>"d/e/f", "created_at"=>Thu Jan 07 23:49:57 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467325d3b7ec1f08000003}, {"updated_at"=>Thu Jan 07 23:49:57 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467325d3b7ec1f08000003, "_type"=>"EndpointEvent", "endpoint_id"=>4b467325d3b7ec1f08000002, "created_at"=>Thu Jan 07 23:49:57 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467325d3b7ec1f08000002}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467325d3b7ec1f08000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:49:57 UTC 2010, "_id"=>4b467325d3b7ec1f08000004, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:49:57 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:49:57) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467325d3b7ec1f08000005}, {"updated_at"=>Thu Jan 07 23:49:57 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467325d3b7ec1f08000005, "_type"=>"EndpointEvent", "endpoint_id"=>4b467325d3b7ec1f08000004, "created_at"=>Thu Jan 07 23:49:57 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467325d3b7ec1f08000004}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 13ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: waiting on "#<Thread:0x65a30c4 run>"
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: "#<Thread:0x65a30c4 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: waiting on "#<Thread:0x659c56c run>"
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: "#<Thread:0x659c56c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
RobustThread: waiting on "#<Thread:0x6593fac run>"
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: "#<Thread:0x6593fac run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x659486c run>"
RobustThread: "#<Thread:0x659486c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46743ad3b7ec2078000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:54:34 UTC 2010, "_id"=>4b46743ad3b7ec2078000002, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:54:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:54:34) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46743ad3b7ec2078000003}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:54:34 UTC 2010, "_id"=>4b46743ad3b7ec2078000003, "path"=>"d/e/f", "created_at"=>Thu Jan 07 23:54:34 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46743ad3b7ec2078000004}, {"updated_at"=>Thu Jan 07 23:54:34 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46743ad3b7ec2078000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b46743ad3b7ec2078000003, "created_at"=>Thu Jan 07 23:54:34 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46743ad3b7ec2078000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 17ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467441d3b7ec2078000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:54:41 UTC 2010, "_id"=>4b467441d3b7ec2078000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:54:41 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:54:41) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467441d3b7ec2078000006}, {"updated_at"=>Thu Jan 07 23:54:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467441d3b7ec2078000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b467441d3b7ec2078000005, "created_at"=>Thu Jan 07 23:54:41 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467441d3b7ec2078000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 10ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b467441d3b7ec2078000007}, {"name"=>"Event 1", "updated_at"=>Thu Jan 07 23:54:41 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b467441d3b7ec2078000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b467430d3b7ec2078000001, "created_at"=>Thu Jan 07 23:54:41 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 15:54:41) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65925bc run>"
RobustThread: "#<Thread:0x65925bc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4674efd3b7ec1d54000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:57:35 UTC 2010, "_id"=>4b4674efd3b7ec1d54000002, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:57:35 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:57:35) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4674efd3b7ec1d54000003}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:57:35 UTC 2010, "_id"=>4b4674efd3b7ec1d54000003, "path"=>"d/e/f", "created_at"=>Thu Jan 07 23:57:35 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4674efd3b7ec1d54000004}, {"updated_at"=>Thu Jan 07 23:57:35 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b4674efd3b7ec1d54000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b4674efd3b7ec1d54000003, "created_at"=>Thu Jan 07 23:57:35 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4674efd3b7ec1d54000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4674f0d3b7ec1d54000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:57:36 UTC 2010, "_id"=>4b4674f0d3b7ec1d54000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:57:36 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:57:36) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4674f0d3b7ec1d54000006}, {"updated_at"=>Thu Jan 07 23:57:36 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4674f0d3b7ec1d54000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b4674f0d3b7ec1d54000005, "created_at"=>Thu Jan 07 23:57:36 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4674f0d3b7ec1d54000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 11ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b4674f0d3b7ec1d54000007}, {"name"=>"Event 1", "updated_at"=>Thu Jan 07 23:57:36 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b4674f0d3b7ec1d54000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b4674ecd3b7ec1d54000001, "created_at"=>Thu Jan 07 23:57:36 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#1 (for 0.0.0.0 at 2010-01-07 15:57:36) [PUT]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65940d8 run>"
RobustThread: "#<Thread:0x65940d8 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46753ed3b7ec274c000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:58:54 UTC 2010, "_id"=>4b46753ed3b7ec274c000002, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:58:54 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:58:54) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46753ed3b7ec274c000003}, {"status"=>:unknown, "updated_at"=>Thu Jan 07 23:58:54 UTC 2010, "_id"=>4b46753ed3b7ec274c000003, "path"=>"d/e/f", "created_at"=>Thu Jan 07 23:58:54 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46753ed3b7ec274c000004}, {"updated_at"=>Thu Jan 07 23:58:54 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46753ed3b7ec274c000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b46753ed3b7ec274c000003, "created_at"=>Thu Jan 07 23:58:54 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46753ed3b7ec274c000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 17ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46753fd3b7ec274c000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Thu Jan 07 23:58:55 UTC 2010, "_id"=>4b46753fd3b7ec274c000005, "path"=>"a/b/c", "created_at"=>Thu Jan 07 23:58:55 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 15:58:55) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46753fd3b7ec274c000006}, {"updated_at"=>Thu Jan 07 23:58:55 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46753fd3b7ec274c000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b46753fd3b7ec274c000005, "created_at"=>Thu Jan 07 23:58:55 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46753fd3b7ec274c000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 12ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46753fd3b7ec274c000007}, {"name"=>"Event 1", "updated_at"=>Thu Jan 07 23:58:55 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46753fd3b7ec274c000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b46753bd3b7ec274c000001, "created_at"=>Thu Jan 07 23:58:55 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 15:58:55) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6591acc run>"
RobustThread: "#<Thread:0x6591acc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4676d5d3b7ec1ce0000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:05:41 UTC 2010, "_id"=>4b4676d5d3b7ec1ce0000002, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:05:41 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:05:41) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4676d5d3b7ec1ce0000003}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:05:41 UTC 2010, "_id"=>4b4676d5d3b7ec1ce0000003, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:05:41 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b4676d5d3b7ec1ce0000004}, {"updated_at"=>Fri Jan 08 00:05:41 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b4676d5d3b7ec1ce0000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b4676d5d3b7ec1ce0000003, "created_at"=>Fri Jan 08 00:05:41 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4676d5d3b7ec1ce0000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 15ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4676d6d3b7ec1ce0000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:05:42 UTC 2010, "_id"=>4b4676d6d3b7ec1ce0000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:05:42 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:05:42) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b4676d6d3b7ec1ce0000006}, {"updated_at"=>Fri Jan 08 00:05:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b4676d6d3b7ec1ce0000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b4676d6d3b7ec1ce0000005, "created_at"=>Fri Jan 08 00:05:42 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b4676d6d3b7ec1ce0000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 10ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b4676d6d3b7ec1ce0000007}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:05:42 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b4676d6d3b7ec1ce0000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b4676d3d3b7ec1ce0000001, "created_at"=>Fri Jan 08 00:05:42 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:05:42) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x658b21c run>"
RobustThread: "#<Thread:0x658b21c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467749d3b7ec1f28000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:07:37 UTC 2010, "_id"=>4b467749d3b7ec1f28000002, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:07:37 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:07:37) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467749d3b7ec1f28000003}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:07:37 UTC 2010, "_id"=>4b467749d3b7ec1f28000003, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:07:37 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467749d3b7ec1f28000004}, {"updated_at"=>Fri Jan 08 00:07:37 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467749d3b7ec1f28000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b467749d3b7ec1f28000003, "created_at"=>Fri Jan 08 00:07:37 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467749d3b7ec1f28000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 15ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46774ad3b7ec1f28000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:07:38 UTC 2010, "_id"=>4b46774ad3b7ec1f28000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:07:38 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:07:38) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46774ad3b7ec1f28000006}, {"updated_at"=>Fri Jan 08 00:07:38 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46774ad3b7ec1f28000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b46774ad3b7ec1f28000005, "created_at"=>Fri Jan 08 00:07:38 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46774ad3b7ec1f28000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 11ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46774ad3b7ec1f28000007}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:07:38 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46774ad3b7ec1f28000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b467747d3b7ec1f28000001, "created_at"=>Fri Jan 08 00:07:38 UTC 2010})
  MONGODB mother_test.endpoint_events.find({}, {})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:07:38) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother's Watchful Eye is watching on this thread:nil
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x65c5c28 run>"
RobustThread: "#<Thread:0x65c5c28 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/1..3"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4677aed3b7ec1724000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:09:18 UTC 2010, "_id"=>4b4677aed3b7ec1724000002, "path"=>"a/b/1..3", "created_at"=>Fri Jan 08 00:09:18 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 16:09:18) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b4677afd3b7ec1724000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:09:19 UTC 2010, "_id"=>4b4677afd3b7ec1724000003, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:09:19 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 16:09:19) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4677afd3b7ec1724000004}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:09:19 UTC 2010, "_id"=>4b4677afd3b7ec1724000004, "path"=>"c/d/e", "created_at"=>Fri Jan 08 00:09:19 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b4677afd3b7ec1724000004}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 00:09:19 UTC 2010, "_id"=>4b4677afd3b7ec1724000004, "path"=>"c/d/e", "created_at"=>Fri Jan 08 00:09:19 UTC 2010})
Completed in 19ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x659fb68 run>"
RobustThread: "#<Thread:0x659fb68 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467821d3b7ec2110000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:11:13 UTC 2010, "_id"=>4b467821d3b7ec2110000002, "path"=>"a/b/1", "created_at"=>Fri Jan 08 00:11:13 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467822d3b7ec2110000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:11:14 UTC 2010, "_id"=>4b467822d3b7ec2110000003, "path"=>"a/b/2", "created_at"=>Fri Jan 08 00:11:14 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467822d3b7ec2110000004}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:11:14 UTC 2010, "_id"=>4b467822d3b7ec2110000004, "path"=>"a/b/3", "created_at"=>Fri Jan 08 00:11:14 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 16:11:14) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 70ms (View: 62 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467823d3b7ec2110000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:11:15 UTC 2010, "_id"=>4b467823d3b7ec2110000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:11:15 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 16:11:15) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467823d3b7ec2110000006}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:11:15 UTC 2010, "_id"=>4b467823d3b7ec2110000006, "path"=>"c/d/e", "created_at"=>Fri Jan 08 00:11:15 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467823d3b7ec2110000006}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 00:11:15 UTC 2010, "_id"=>4b467823d3b7ec2110000006, "path"=>"c/d/e", "created_at"=>Fri Jan 08 00:11:15 UTC 2010})
Completed in 17ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6591a2c run>"
RobustThread: "#<Thread:0x6591a2c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467844d3b7ec279c000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "_id"=>4b467844d3b7ec279c000002, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:11:48) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467844d3b7ec279c000003}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "_id"=>4b467844d3b7ec279c000003, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467844d3b7ec279c000004}, {"updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467844d3b7ec279c000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b467844d3b7ec279c000003, "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467844d3b7ec279c000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467844d3b7ec279c000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "_id"=>4b467844d3b7ec279c000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:11:48) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467844d3b7ec279c000006}, {"updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467844d3b7ec279c000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b467844d3b7ec279c000005, "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467844d3b7ec279c000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 12ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b467844d3b7ec279c000007}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b467844d3b7ec279c000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b467841d3b7ec279c000001, "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467844d3b7ec279c000008}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b467844d3b7ec279c000008, "_type"=>"EndpointEvent", "endpoint_id"=>4b467841d3b7ec279c000001, "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467844d3b7ec279c000009}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 00:11:48 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b467844d3b7ec279c000009, "_type"=>"EndpointEvent", "endpoint_id"=>4b467841d3b7ec279c000001, "created_at"=>Fri Jan 08 00:11:48 UTC 2010})
  MONGODB mother_test.endpoint_events.find({}, {})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:11:48) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6591a2c run>"
RobustThread: "#<Thread:0x6591a2c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467c0fd3b7ec2580000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:27:59 UTC 2010, "_id"=>4b467c0fd3b7ec2580000002, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:27:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:27:59) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467c0fd3b7ec2580000003}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:27:59 UTC 2010, "_id"=>4b467c0fd3b7ec2580000003, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:27:59 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467c0fd3b7ec2580000004}, {"updated_at"=>Fri Jan 08 00:27:59 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467c0fd3b7ec2580000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c0fd3b7ec2580000003, "created_at"=>Fri Jan 08 00:27:59 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467c0fd3b7ec2580000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467c13d3b7ec2580000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:28:03 UTC 2010, "_id"=>4b467c13d3b7ec2580000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:28:03 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:28:03) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467c13d3b7ec2580000006}, {"updated_at"=>Fri Jan 08 00:28:03 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467c13d3b7ec2580000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c13d3b7ec2580000005, "created_at"=>Fri Jan 08 00:28:03 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467c13d3b7ec2580000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 11ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b467c13d3b7ec2580000007}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:28:03 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b467c13d3b7ec2580000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c09d3b7ec2580000001, "created_at"=>Fri Jan 08 00:28:03 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467c13d3b7ec2580000008}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 00:28:03 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b467c13d3b7ec2580000008, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c09d3b7ec2580000001, "created_at"=>Fri Jan 08 00:28:03 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467c13d3b7ec2580000009}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 00:28:03 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b467c13d3b7ec2580000009, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c09d3b7ec2580000001, "created_at"=>Fri Jan 08 00:28:03 UTC 2010})
  MONGODB mother_test.endpoint_events.find({}, {})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:28:03) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6592c4c run>"
RobustThread: "#<Thread:0x6592c4c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467c8ed3b7ec1f14000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:30:06 UTC 2010, "_id"=>4b467c8ed3b7ec1f14000002, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:30:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:30:07) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467c8fd3b7ec1f14000003}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:30:07 UTC 2010, "_id"=>4b467c8fd3b7ec1f14000003, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:30:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467c8fd3b7ec1f14000004}, {"updated_at"=>Fri Jan 08 00:30:07 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467c8fd3b7ec1f14000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c8fd3b7ec1f14000003, "created_at"=>Fri Jan 08 00:30:07 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467c8fd3b7ec1f14000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467c92d3b7ec1f14000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:30:10 UTC 2010, "_id"=>4b467c92d3b7ec1f14000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:30:10 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:30:10) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467c93d3b7ec1f14000006}, {"updated_at"=>Fri Jan 08 00:30:11 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467c93d3b7ec1f14000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c92d3b7ec1f14000005, "created_at"=>Fri Jan 08 00:30:11 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467c92d3b7ec1f14000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 11ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b467c93d3b7ec1f14000007}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:30:11 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b467c93d3b7ec1f14000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c88d3b7ec1f14000001, "created_at"=>Fri Jan 08 00:30:11 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467c93d3b7ec1f14000008}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 00:30:11 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b467c93d3b7ec1f14000008, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c88d3b7ec1f14000001, "created_at"=>Fri Jan 08 00:30:11 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467c93d3b7ec1f14000009}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 00:30:11 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b467c93d3b7ec1f14000009, "_type"=>"EndpointEvent", "endpoint_id"=>4b467c88d3b7ec1f14000001, "created_at"=>Fri Jan 08 00:30:11 UTC 2010})
  MONGODB mother_test.endpoint_events.find({}, {})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:30:11) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6580efc run>"
RobustThread: "#<Thread:0x6580efc run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467d17d3b7ec1fb4000002}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:32:23 UTC 2010, "_id"=>4b467d17d3b7ec1fb4000002, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:32:23 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:32:23) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b467d17d3b7ec1fb4000003}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:32:23 UTC 2010, "_id"=>4b467d17d3b7ec1fb4000003, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:32:23 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467d17d3b7ec1fb4000004}, {"updated_at"=>Fri Jan 08 00:32:23 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b467d17d3b7ec1fb4000004, "_type"=>"EndpointEvent", "endpoint_id"=>4b467d17d3b7ec1fb4000003, "created_at"=>Fri Jan 08 00:32:23 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467d17d3b7ec1fb4000003, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467d1bd3b7ec1fb4000005}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:32:27 UTC 2010, "_id"=>4b467d1bd3b7ec1fb4000005, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:32:27 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:32:27) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467d1bd3b7ec1fb4000006}, {"updated_at"=>Fri Jan 08 00:32:27 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467d1bd3b7ec1fb4000006, "_type"=>"EndpointEvent", "endpoint_id"=>4b467d1bd3b7ec1fb4000005, "created_at"=>Fri Jan 08 00:32:27 UTC 2010})
  MONGODB mother_test.expectations.find({:endpoint_id=>4b467d1bd3b7ec1fb4000005, :status=>:pending}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 12ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b467d1bd3b7ec1fb4000007}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:32:27 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b467d1bd3b7ec1fb4000007, "_type"=>"EndpointEvent", "endpoint_id"=>4b467d11d3b7ec1fb4000001, "created_at"=>Fri Jan 08 00:32:27 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467d1bd3b7ec1fb4000008}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 00:32:27 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b467d1bd3b7ec1fb4000008, "_type"=>"EndpointEvent", "endpoint_id"=>4b467d11d3b7ec1fb4000001, "created_at"=>Fri Jan 08 00:32:27 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467d1bd3b7ec1fb4000009}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 00:32:27 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b467d1bd3b7ec1fb4000009, "_type"=>"EndpointEvent", "endpoint_id"=>4b467d11d3b7ec1fb4000001, "created_at"=>Fri Jan 08 00:32:27 UTC 2010})
  MONGODB mother_test.endpoint_events.find({}, {})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:32:27) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 69ms (View: 64 | 200 OK [http://test.host/endpoints//endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x657974c run>"
RobustThread: "#<Thread:0x657974c run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5cd3b7ec25d8000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:04 UTC 2010, "_id"=>4b467f5cd3b7ec25d8000003, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:04 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:42:05) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b467f5dd3b7ec25d8000004}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d8000004, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b467f5cd3b7ec25d8000003, "created_at"=>Fri Jan 08 00:42:05 UTC 2010, "start_time"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5dd3b7ec25d8000005}, {"job_id"=>4b467f5dd3b7ec25d8000004, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f5dd3b7ec25d8000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f5cd3b7ec25d8000003, "created_at"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5cd3b7ec25d8000003}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b467f5dd3b7ec25d8000004}, {"status"=>:completed, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d8000004, "endpoint_path"=>"a/b/c", "duration"=>-4742922.08333333, "endpoint_id"=>4b467f5cd3b7ec25d8000003, "created_at"=>Fri Jan 08 00:42:05 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5dd3b7ec25d8000006}, {"job_id"=>4b467f5dd3b7ec25d8000004, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d8000006, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b467f5cd3b7ec25d8000003, "duration"=>0.0, "created_at"=>Fri Jan 08 00:42:05 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5cd3b7ec25d8000003}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 35ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5dd3b7ec25d8000007}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d8000007, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:42:05) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b467f5dd3b7ec25d8000008}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d8000008, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b467f5dd3b7ec25d8000007, "created_at"=>Fri Jan 08 00:42:05 UTC 2010, "start_time"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5dd3b7ec25d8000009}, {"job_id"=>4b467f5dd3b7ec25d8000008, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f5dd3b7ec25d8000009, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f5dd3b7ec25d8000007, "created_at"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5dd3b7ec25d8000007}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b467f5dd3b7ec25d8000008}, {"status"=>:failed, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d8000008, "endpoint_path"=>"a/b/c", "duration"=>-4742922.08333333, "endpoint_id"=>4b467f5dd3b7ec25d8000007, "created_at"=>Fri Jan 08 00:42:05 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5dd3b7ec25d800000a}, {"job_id"=>4b467f5dd3b7ec25d8000008, "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d800000a, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b467f5dd3b7ec25d8000007, "duration"=>0.0, "created_at"=>Fri Jan 08 00:42:05 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5dd3b7ec25d8000007}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 32ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5dd3b7ec25d800000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:05 UTC 2010, "_id"=>4b467f5dd3b7ec25d800000b, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:05 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:42:05) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f5dd3b7ec25d800000c, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f5dd3b7ec25d800000c}, {}).limit(-1)
Completed in 7ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b467f5dd3b7ec25d800000c&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5ed3b7ec25d800000d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:06 UTC 2010, "_id"=>4b467f5ed3b7ec25d800000d, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:06 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f5ed3b7ec25d800000e}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:42:06 UTC 2010, "_id"=>4b467f5ed3b7ec25d800000e, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b467f5ed3b7ec25d800000d, "created_at"=>Fri Jan 08 00:42:06 UTC 2010, "start_time"=>Fri Jan 08 00:42:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5ed3b7ec25d800000f}, {"name"=>"a job", "job_id"=>4b467f5ed3b7ec25d800000e, "updated_at"=>Fri Jan 08 00:42:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f5ed3b7ec25d800000f, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f5ed3b7ec25d800000d, "created_at"=>Fri Jan 08 00:42:06 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5ed3b7ec25d800000d}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:42:06) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f5ed3b7ec25d800000e, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f5ed3b7ec25d800000e}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b467f5ed3b7ec25d800000e}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:42:06 UTC 2010, "_id"=>4b467f5ed3b7ec25d800000e, "endpoint_path"=>"a/b/c", "duration"=>-4742922.1, "endpoint_id"=>4b467f5ed3b7ec25d800000d, "created_at"=>Fri Jan 08 00:42:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:42:06 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467f5ed3b7ec25d8000010}, {"job_id"=>4b467f5ed3b7ec25d800000e, "updated_at"=>Fri Jan 08 00:42:06 UTC 2010, "_id"=>4b467f5ed3b7ec25d8000010, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b467f5ed3b7ec25d800000d, "duration"=>0.0, "created_at"=>Fri Jan 08 00:42:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5ed3b7ec25d800000d}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 26ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b467f5ed3b7ec25d800000e&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b467f5ed3b7ec25d800000e}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5ed3b7ec25d8000011}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:06 UTC 2010, "_id"=>4b467f5ed3b7ec25d8000011, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:42:06) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f5ed3b7ec25d8000012, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f5ed3b7ec25d8000012}, {}).limit(-1)
Completed in 3ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b467f5ed3b7ec25d8000012&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5fd3b7ec25d8000013}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d8000013, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f5fd3b7ec25d8000014}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d8000014, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b467f5fd3b7ec25d8000013, "created_at"=>Fri Jan 08 00:42:07 UTC 2010, "start_time"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5fd3b7ec25d8000015}, {"name"=>"a job", "job_id"=>4b467f5fd3b7ec25d8000014, "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f5fd3b7ec25d8000015, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f5fd3b7ec25d8000013, "created_at"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5fd3b7ec25d8000013}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:42:07) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f5fd3b7ec25d8000014, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f5fd3b7ec25d8000014}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b467f5fd3b7ec25d8000014}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d8000014, "endpoint_path"=>"a/b/c", "duration"=>-4742922.11666667, "endpoint_id"=>4b467f5fd3b7ec25d8000013, "created_at"=>Fri Jan 08 00:42:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467f5fd3b7ec25d8000016}, {"job_id"=>4b467f5fd3b7ec25d8000014, "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d8000016, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b467f5fd3b7ec25d8000013, "duration"=>0.0, "created_at"=>Fri Jan 08 00:42:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5fd3b7ec25d8000013}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b467f5fd3b7ec25d8000014&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b467f5fd3b7ec25d8000014}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5fd3b7ec25d8000017}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d8000017, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b467f5fd3b7ec25d8000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b467f5fd3b7ec25d8000017}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 16:42:07) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b467f5fd3b7ec25d8000018}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d8000018, "endpoint_path"=>"a/b/c", "duration"=>0.0, "endpoint_id"=>4b467f5fd3b7ec25d8000017, "created_at"=>Fri Jan 08 00:42:07 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f5fd3b7ec25d8000019}, {"job_id"=>4b467f5fd3b7ec25d8000018, "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f5fd3b7ec25d8000019, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f5fd3b7ec25d8000017, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f5fd3b7ec25d8000017}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 25ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b467f5fd3b7ec25d8000017}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b467f5fd3b7ec25d8000017}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b467f5fd3b7ec25d8000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b467f5fd3b7ec25d8000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f5fd3b7ec25d800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:42:07 UTC 2010, "_id"=>4b467f5fd3b7ec25d800001a, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:42:07 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6579288 run>"
RobustThread: "#<Thread:0x6579288 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9ad3b7ec2450000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:06 UTC 2010, "_id"=>4b467f9ad3b7ec2450000003, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:06 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:43:06) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b467f9ad3b7ec2450000004}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:43:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9ad3b7ec2450000004, "duration"=>0.0, "endpoint_id"=>4b467f9ad3b7ec2450000003, "created_at"=>Fri Jan 08 00:43:06 UTC 2010, "start_time"=>Fri Jan 08 00:43:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9ad3b7ec2450000005}, {"job_id"=>4b467f9ad3b7ec2450000004, "updated_at"=>Fri Jan 08 00:43:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9ad3b7ec2450000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f9ad3b7ec2450000003, "created_at"=>Fri Jan 08 00:43:06 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9ad3b7ec2450000003}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b467f9ad3b7ec2450000004}, {"status"=>:completed, "updated_at"=>Fri Jan 08 00:43:06 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9ad3b7ec2450000004, "duration"=>-4742923.1, "endpoint_id"=>4b467f9ad3b7ec2450000003, "created_at"=>Fri Jan 08 00:43:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:43:06 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9ad3b7ec2450000006}, {"job_id"=>4b467f9ad3b7ec2450000004, "updated_at"=>Fri Jan 08 00:43:06 UTC 2010, "_id"=>4b467f9ad3b7ec2450000006, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b467f9ad3b7ec2450000003, "duration"=>0.0, "created_at"=>Fri Jan 08 00:43:06 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9ad3b7ec2450000003}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 32ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9bd3b7ec2450000007}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:07 UTC 2010, "_id"=>4b467f9bd3b7ec2450000007, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:07 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:43:07) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b467f9bd3b7ec2450000008}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:43:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9bd3b7ec2450000008, "duration"=>0.0, "endpoint_id"=>4b467f9bd3b7ec2450000007, "created_at"=>Fri Jan 08 00:43:07 UTC 2010, "start_time"=>Fri Jan 08 00:43:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9bd3b7ec2450000009}, {"job_id"=>4b467f9bd3b7ec2450000008, "updated_at"=>Fri Jan 08 00:43:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9bd3b7ec2450000009, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f9bd3b7ec2450000007, "created_at"=>Fri Jan 08 00:43:07 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9bd3b7ec2450000007}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b467f9bd3b7ec2450000008}, {"status"=>:failed, "updated_at"=>Fri Jan 08 00:43:07 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9bd3b7ec2450000008, "duration"=>-4742923.11666667, "endpoint_id"=>4b467f9bd3b7ec2450000007, "created_at"=>Fri Jan 08 00:43:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:43:07 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9bd3b7ec245000000a}, {"job_id"=>4b467f9bd3b7ec2450000008, "updated_at"=>Fri Jan 08 00:43:07 UTC 2010, "_id"=>4b467f9bd3b7ec245000000a, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b467f9bd3b7ec2450000007, "duration"=>0.0, "created_at"=>Fri Jan 08 00:43:07 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9bd3b7ec2450000007}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 38ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9bd3b7ec245000000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:07 UTC 2010, "_id"=>4b467f9bd3b7ec245000000b, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:07 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:43:07) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f9bd3b7ec245000000c, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f9bd3b7ec245000000c}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b467f9bd3b7ec245000000c&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9cd3b7ec245000000d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "_id"=>4b467f9cd3b7ec245000000d, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f9cd3b7ec245000000e}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9cd3b7ec245000000e, "duration"=>0.0, "endpoint_id"=>4b467f9cd3b7ec245000000d, "created_at"=>Fri Jan 08 00:43:08 UTC 2010, "start_time"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9cd3b7ec245000000f}, {"name"=>"a job", "job_id"=>4b467f9cd3b7ec245000000e, "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9cd3b7ec245000000f, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f9cd3b7ec245000000d, "created_at"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9cd3b7ec245000000d}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:43:08) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f9cd3b7ec245000000e, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f9cd3b7ec245000000e}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b467f9cd3b7ec245000000e}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9cd3b7ec245000000e, "duration"=>-4742923.13333333, "endpoint_id"=>4b467f9cd3b7ec245000000d, "created_at"=>Fri Jan 08 00:43:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467f9cd3b7ec2450000010}, {"job_id"=>4b467f9cd3b7ec245000000e, "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "_id"=>4b467f9cd3b7ec2450000010, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b467f9cd3b7ec245000000d, "duration"=>0.0, "created_at"=>Fri Jan 08 00:43:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9cd3b7ec245000000d}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 22ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b467f9cd3b7ec245000000e&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b467f9cd3b7ec245000000e}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9cd3b7ec2450000011}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "_id"=>4b467f9cd3b7ec2450000011, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:43:08) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f9cd3b7ec2450000012, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f9cd3b7ec2450000012}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b467f9cd3b7ec2450000012&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9cd3b7ec2450000013}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "_id"=>4b467f9cd3b7ec2450000013, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f9cd3b7ec2450000014}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9cd3b7ec2450000014, "duration"=>0.0, "endpoint_id"=>4b467f9cd3b7ec2450000013, "created_at"=>Fri Jan 08 00:43:08 UTC 2010, "start_time"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9cd3b7ec2450000015}, {"name"=>"a job", "job_id"=>4b467f9cd3b7ec2450000014, "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9cd3b7ec2450000015, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f9cd3b7ec2450000013, "created_at"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9cd3b7ec2450000013}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:43:08) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b467f9cd3b7ec2450000014, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b467f9cd3b7ec2450000014}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b467f9cd3b7ec2450000014}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9cd3b7ec2450000014, "duration"=>-4742923.13333333, "endpoint_id"=>4b467f9cd3b7ec2450000013, "created_at"=>Fri Jan 08 00:43:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:43:08 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b467f9dd3b7ec2450000016}, {"job_id"=>4b467f9cd3b7ec2450000014, "updated_at"=>Fri Jan 08 00:43:08 UTC 2010, "_id"=>4b467f9dd3b7ec2450000016, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b467f9cd3b7ec2450000013, "duration"=>0.0, "created_at"=>Fri Jan 08 00:43:08 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9cd3b7ec2450000013}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 24ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b467f9cd3b7ec2450000014&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b467f9cd3b7ec2450000014}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9dd3b7ec2450000017}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "_id"=>4b467f9dd3b7ec2450000017, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:09 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b467f9dd3b7ec2450000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b467f9dd3b7ec2450000017}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 16:43:09) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b467f9dd3b7ec2450000018}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9dd3b7ec2450000018, "duration"=>0.0, "endpoint_id"=>4b467f9dd3b7ec2450000017, "created_at"=>Fri Jan 08 00:43:09 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b467f9dd3b7ec2450000019}, {"job_id"=>4b467f9dd3b7ec2450000018, "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b467f9dd3b7ec2450000019, "_type"=>"JobStartedEvent", "endpoint_id"=>4b467f9dd3b7ec2450000017, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 00:43:09 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b467f9dd3b7ec2450000017}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b467f9dd3b7ec2450000017}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b467f9dd3b7ec2450000017}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b467f9dd3b7ec2450000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b467f9dd3b7ec2450000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b467f9dd3b7ec245000001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "_id"=>4b467f9dd3b7ec245000001a, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:43:09 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f9dd3b7ec245000001b}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b467f9dd3b7ec245000001b, "duration"=>0.0, "endpoint_id"=>4b467f98d3b7ec2450000002, "created_at"=>Fri Jan 08 00:43:09 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f9dd3b7ec245000001c}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b467f9dd3b7ec245000001c, "duration"=>0.0, "endpoint_id"=>4b467f98d3b7ec2450000002, "created_at"=>Fri Jan 08 00:43:09 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b467f9dd3b7ec245000001d}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 00:43:09 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b467f9dd3b7ec245000001d, "duration"=>0.0, "endpoint_id"=>4b467f98d3b7ec2450000002, "created_at"=>Fri Jan 08 00:43:09 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 16:43:09) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
RobustThread: waiting on "#<Thread:0x6576600 run>"
RobustThread: "#<Thread:0x6576600 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468034d3b7ec13b8000003}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:40 UTC 2010, "_id"=>4b468034d3b7ec13b8000003, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:40 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:45:41) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b468035d3b7ec13b8000004}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468035d3b7ec13b8000004, "duration"=>0.0, "endpoint_id"=>4b468034d3b7ec13b8000003, "created_at"=>Fri Jan 08 00:45:41 UTC 2010, "start_time"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468035d3b7ec13b8000005}, {"job_id"=>4b468035d3b7ec13b8000004, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468035d3b7ec13b8000005, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468034d3b7ec13b8000003, "created_at"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468034d3b7ec13b8000003}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b468035d3b7ec13b8000004}, {"status"=>:completed, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468035d3b7ec13b8000004, "duration"=>-4742925.68333333, "endpoint_id"=>4b468034d3b7ec13b8000003, "created_at"=>Fri Jan 08 00:45:41 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468035d3b7ec13b8000006}, {"job_id"=>4b468035d3b7ec13b8000004, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "_id"=>4b468035d3b7ec13b8000006, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b468034d3b7ec13b8000003, "duration"=>0.0, "created_at"=>Fri Jan 08 00:45:41 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468034d3b7ec13b8000003}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 35ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468035d3b7ec13b8000007}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "_id"=>4b468035d3b7ec13b8000007, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:45:41) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b468035d3b7ec13b8000008}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468035d3b7ec13b8000008, "duration"=>0.0, "endpoint_id"=>4b468035d3b7ec13b8000007, "created_at"=>Fri Jan 08 00:45:41 UTC 2010, "start_time"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468035d3b7ec13b8000009}, {"job_id"=>4b468035d3b7ec13b8000008, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468035d3b7ec13b8000009, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468035d3b7ec13b8000007, "created_at"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468035d3b7ec13b8000007}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b468035d3b7ec13b8000008}, {"status"=>:failed, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468035d3b7ec13b8000008, "duration"=>-4742925.68333333, "endpoint_id"=>4b468035d3b7ec13b8000007, "created_at"=>Fri Jan 08 00:45:41 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468035d3b7ec13b800000a}, {"job_id"=>4b468035d3b7ec13b8000008, "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "_id"=>4b468035d3b7ec13b800000a, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b468035d3b7ec13b8000007, "duration"=>0.0, "created_at"=>Fri Jan 08 00:45:41 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468035d3b7ec13b8000007}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 31ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468035d3b7ec13b800000b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:41 UTC 2010, "_id"=>4b468035d3b7ec13b800000b, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:41 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:45:41) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b468035d3b7ec13b800000c, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b468035d3b7ec13b800000c}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b468035d3b7ec13b800000c&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468036d3b7ec13b800000d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:42 UTC 2010, "_id"=>4b468036d3b7ec13b800000d, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:42 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b468036d3b7ec13b800000e}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:45:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468036d3b7ec13b800000e, "duration"=>0.0, "endpoint_id"=>4b468036d3b7ec13b800000d, "created_at"=>Fri Jan 08 00:45:42 UTC 2010, "start_time"=>Fri Jan 08 00:45:42 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468036d3b7ec13b800000f}, {"name"=>"a job", "job_id"=>4b468036d3b7ec13b800000e, "updated_at"=>Fri Jan 08 00:45:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468036d3b7ec13b800000f, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468036d3b7ec13b800000d, "created_at"=>Fri Jan 08 00:45:42 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468036d3b7ec13b800000d}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:45:42) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b468036d3b7ec13b800000e, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b468036d3b7ec13b800000e}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b468036d3b7ec13b800000e}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:45:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468036d3b7ec13b800000e, "duration"=>-4742925.7, "endpoint_id"=>4b468036d3b7ec13b800000d, "created_at"=>Fri Jan 08 00:45:42 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:45:42 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b468036d3b7ec13b8000010}, {"job_id"=>4b468036d3b7ec13b800000e, "updated_at"=>Fri Jan 08 00:45:42 UTC 2010, "_id"=>4b468036d3b7ec13b8000010, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b468036d3b7ec13b800000d, "duration"=>0.0, "created_at"=>Fri Jan 08 00:45:42 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468036d3b7ec13b800000d}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 22ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b468036d3b7ec13b800000e&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b468036d3b7ec13b800000e}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468036d3b7ec13b8000011}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:42 UTC 2010, "_id"=>4b468036d3b7ec13b8000011, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:42 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:45:42) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b468036d3b7ec13b8000012, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b468036d3b7ec13b8000012}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b468036d3b7ec13b8000012&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468037d3b7ec13b8000013}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "_id"=>4b468037d3b7ec13b8000013, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:43 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b468037d3b7ec13b8000014}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468037d3b7ec13b8000014, "duration"=>0.0, "endpoint_id"=>4b468037d3b7ec13b8000013, "created_at"=>Fri Jan 08 00:45:43 UTC 2010, "start_time"=>Fri Jan 08 00:45:43 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468037d3b7ec13b8000015}, {"name"=>"a job", "job_id"=>4b468037d3b7ec13b8000014, "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468037d3b7ec13b8000015, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468037d3b7ec13b8000013, "created_at"=>Fri Jan 08 00:45:43 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468037d3b7ec13b8000013}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:45:43) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b468037d3b7ec13b8000014, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b468037d3b7ec13b8000014}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b468037d3b7ec13b8000014}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468037d3b7ec13b8000014, "duration"=>-4742925.71666667, "endpoint_id"=>4b468037d3b7ec13b8000013, "created_at"=>Fri Jan 08 00:45:43 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:45:43 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b468037d3b7ec13b8000016}, {"job_id"=>4b468037d3b7ec13b8000014, "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "_id"=>4b468037d3b7ec13b8000016, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b468037d3b7ec13b8000013, "duration"=>0.0, "created_at"=>Fri Jan 08 00:45:43 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468037d3b7ec13b8000013}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 24ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b468037d3b7ec13b8000014&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b468037d3b7ec13b8000014}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468037d3b7ec13b8000017}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "_id"=>4b468037d3b7ec13b8000017, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:43 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b468037d3b7ec13b8000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b468037d3b7ec13b8000017}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 16:45:43) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b468037d3b7ec13b8000018}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468037d3b7ec13b8000018, "duration"=>0.0, "endpoint_id"=>4b468037d3b7ec13b8000017, "created_at"=>Fri Jan 08 00:45:43 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468037d3b7ec13b8000019}, {"job_id"=>4b468037d3b7ec13b8000018, "updated_at"=>Fri Jan 08 00:45:43 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468037d3b7ec13b8000019, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468037d3b7ec13b8000017, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 00:45:43 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468037d3b7ec13b8000017}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 16ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b468037d3b7ec13b8000017}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b468037d3b7ec13b8000017}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b468037d3b7ec13b8000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b468037d3b7ec13b8000017}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468038d3b7ec13b800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:45:44 UTC 2010, "_id"=>4b468038d3b7ec13b800001a, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:45:44 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b468038d3b7ec13b800001b}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 00:45:44 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b468038d3b7ec13b800001b, "duration"=>0.0, "endpoint_id"=>4b468032d3b7ec13b8000002, "created_at"=>Fri Jan 08 00:45:44 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b468038d3b7ec13b800001c}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 00:45:44 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b468038d3b7ec13b800001c, "duration"=>0.0, "endpoint_id"=>4b468032d3b7ec13b8000002, "created_at"=>Fri Jan 08 00:45:44 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b468038d3b7ec13b800001d}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 00:45:44 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b468038d3b7ec13b800001d, "duration"=>0.0, "endpoint_id"=>4b468032d3b7ec13b8000002, "created_at"=>Fri Jan 08 00:45:44 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 16:45:44) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 65ms (View: 60 | 200 OK [http://test.host/endpoints//jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
Mother is watching...
Mother is checking for expired expectations
Mother's Watchful Eye is watching on this thread:nil
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b468077d3b7ec0448000006}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b468077d3b7ec0448000006, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b468077d3b7ec0448000007}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b468077d3b7ec0448000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468077d3b7ec0448000006, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468077d3b7ec0448000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.expectations.find({:endpoint_id=>4b468077d3b7ec0448000006}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b468077d3b7ec0448000006}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468078d3b7ec0448000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:48 UTC 2010, "_id"=>4b468078d3b7ec0448000008, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:48 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:46:48) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b468078d3b7ec0448000009}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:46:48 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468078d3b7ec0448000009, "duration"=>0.0, "endpoint_id"=>4b468078d3b7ec0448000008, "created_at"=>Fri Jan 08 00:46:48 UTC 2010, "start_time"=>Fri Jan 08 00:46:48 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468078d3b7ec044800000a}, {"job_id"=>4b468078d3b7ec0448000009, "updated_at"=>Fri Jan 08 00:46:48 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468078d3b7ec044800000a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468078d3b7ec0448000008, "created_at"=>Fri Jan 08 00:46:48 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468078d3b7ec0448000008}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b468078d3b7ec0448000009}, {"status"=>:completed, "updated_at"=>Fri Jan 08 00:46:48 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468078d3b7ec0448000009, "duration"=>-4742926.8, "endpoint_id"=>4b468078d3b7ec0448000008, "created_at"=>Fri Jan 08 00:46:48 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:46:48 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468078d3b7ec044800000b}, {"job_id"=>4b468078d3b7ec0448000009, "updated_at"=>Fri Jan 08 00:46:48 UTC 2010, "_id"=>4b468078d3b7ec044800000b, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b468078d3b7ec0448000008, "duration"=>0.0, "created_at"=>Fri Jan 08 00:46:48 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468078d3b7ec0448000008}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 41ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468079d3b7ec044800000c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:49 UTC 2010, "_id"=>4b468079d3b7ec044800000c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:49 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:46:49) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b468079d3b7ec044800000d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:46:49 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468079d3b7ec044800000d, "duration"=>0.0, "endpoint_id"=>4b468079d3b7ec044800000c, "created_at"=>Fri Jan 08 00:46:49 UTC 2010, "start_time"=>Fri Jan 08 00:46:49 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468079d3b7ec044800000e}, {"job_id"=>4b468079d3b7ec044800000d, "updated_at"=>Fri Jan 08 00:46:49 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468079d3b7ec044800000e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b468079d3b7ec044800000c, "created_at"=>Fri Jan 08 00:46:49 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468079d3b7ec044800000c}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b468079d3b7ec044800000d}, {"status"=>:failed, "updated_at"=>Fri Jan 08 00:46:49 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b468079d3b7ec044800000d, "duration"=>-4742926.81666667, "endpoint_id"=>4b468079d3b7ec044800000c, "created_at"=>Fri Jan 08 00:46:49 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:46:49 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b468079d3b7ec044800000f}, {"job_id"=>4b468079d3b7ec044800000d, "updated_at"=>Fri Jan 08 00:46:49 UTC 2010, "_id"=>4b468079d3b7ec044800000f, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b468079d3b7ec044800000c, "duration"=>0.0, "created_at"=>Fri Jan 08 00:46:49 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b468079d3b7ec044800000c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 39ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b468079d3b7ec0448000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:49 UTC 2010, "_id"=>4b468079d3b7ec0448000010, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:49 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:46:49) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b468079d3b7ec0448000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b468079d3b7ec0448000011}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b468079d3b7ec0448000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46807ad3b7ec0448000012}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:50 UTC 2010, "_id"=>4b46807ad3b7ec0448000012, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:50 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46807ad3b7ec0448000013}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:46:50 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807ad3b7ec0448000013, "duration"=>0.0, "endpoint_id"=>4b46807ad3b7ec0448000012, "created_at"=>Fri Jan 08 00:46:50 UTC 2010, "start_time"=>Fri Jan 08 00:46:50 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46807ad3b7ec0448000014}, {"name"=>"a job", "job_id"=>4b46807ad3b7ec0448000013, "updated_at"=>Fri Jan 08 00:46:50 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807ad3b7ec0448000014, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46807ad3b7ec0448000012, "created_at"=>Fri Jan 08 00:46:50 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807ad3b7ec0448000012}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 16:46:50) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46807ad3b7ec0448000013, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46807ad3b7ec0448000013}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46807ad3b7ec0448000013}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:46:50 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807ad3b7ec0448000013, "duration"=>-4742926.83333333, "endpoint_id"=>4b46807ad3b7ec0448000012, "created_at"=>Fri Jan 08 00:46:50 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:46:50 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46807ad3b7ec0448000015}, {"job_id"=>4b46807ad3b7ec0448000013, "updated_at"=>Fri Jan 08 00:46:50 UTC 2010, "_id"=>4b46807ad3b7ec0448000015, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46807ad3b7ec0448000012, "duration"=>0.0, "created_at"=>Fri Jan 08 00:46:50 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807ad3b7ec0448000012}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46807ad3b7ec0448000013&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46807ad3b7ec0448000013}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807ad3b7ec0448000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:50 UTC 2010, "_id"=>4b46807ad3b7ec0448000016, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:50 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:46:50) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46807ad3b7ec0448000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46807ad3b7ec0448000017}, {}).limit(-1)
Completed in 7ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46807ad3b7ec0448000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807bd3b7ec0448000018}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "_id"=>4b46807bd3b7ec0448000018, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:51 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46807bd3b7ec0448000019}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807bd3b7ec0448000019, "duration"=>0.0, "endpoint_id"=>4b46807bd3b7ec0448000018, "created_at"=>Fri Jan 08 00:46:51 UTC 2010, "start_time"=>Fri Jan 08 00:46:51 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46807bd3b7ec044800001a}, {"name"=>"a job", "job_id"=>4b46807bd3b7ec0448000019, "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807bd3b7ec044800001a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46807bd3b7ec0448000018, "created_at"=>Fri Jan 08 00:46:51 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807bd3b7ec0448000018}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 16:46:51) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46807bd3b7ec0448000019, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46807bd3b7ec0448000019}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46807bd3b7ec0448000019}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807bd3b7ec0448000019, "duration"=>-4742926.85, "endpoint_id"=>4b46807bd3b7ec0448000018, "created_at"=>Fri Jan 08 00:46:51 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 00:46:51 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46807bd3b7ec044800001b}, {"job_id"=>4b46807bd3b7ec0448000019, "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "_id"=>4b46807bd3b7ec044800001b, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46807bd3b7ec0448000018, "duration"=>0.0, "created_at"=>Fri Jan 08 00:46:51 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807bd3b7ec0448000018}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 30ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46807bd3b7ec0448000019&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46807bd3b7ec0448000019}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807bd3b7ec044800001c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "_id"=>4b46807bd3b7ec044800001c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:51 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46807bd3b7ec044800001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46807bd3b7ec044800001c}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 16:46:51) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46807bd3b7ec044800001d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807bd3b7ec044800001d, "duration"=>0.0, "endpoint_id"=>4b46807bd3b7ec044800001c, "created_at"=>Fri Jan 08 00:46:51 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46807bd3b7ec044800001e}, {"job_id"=>4b46807bd3b7ec044800001d, "updated_at"=>Fri Jan 08 00:46:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807bd3b7ec044800001e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46807bd3b7ec044800001c, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 00:46:51 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807bd3b7ec044800001c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 25ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46807bd3b7ec044800001c}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46807bd3b7ec044800001c}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46807bd3b7ec044800001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46807bd3b7ec044800001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807cd3b7ec044800001f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "_id"=>4b46807cd3b7ec044800001f, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46807cd3b7ec0448000020}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46807cd3b7ec0448000020, "duration"=>0.0, "endpoint_id"=>4b468073d3b7ec0448000002, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46807cd3b7ec0448000021}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46807cd3b7ec0448000021, "duration"=>0.0, "endpoint_id"=>4b468073d3b7ec0448000002, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46807cd3b7ec0448000022}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46807cd3b7ec0448000022, "duration"=>0.0, "endpoint_id"=>4b468073d3b7ec0448000002, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 16:46:52) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 34ms (View: 13 | 200 OK [http://test.host/endpoints//jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807cd3b7ec0448000023}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "_id"=>4b46807cd3b7ec0448000023, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:46:52) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46807cd3b7ec0448000024}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "_id"=>4b46807cd3b7ec0448000024, "path"=>"d/e/f", "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46807cd3b7ec0448000025}, {"updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46807cd3b7ec0448000025, "_type"=>"EndpointEvent", "endpoint_id"=>4b46807cd3b7ec0448000024, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807cd3b7ec0448000024}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 22ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
Mother is checking for expired expectations
  MONGODB mother_test.expectations.find({:status=>:pending}, {})
  MONGODB db.endpoints.update({:_id=>4b46807cd3b7ec0448000026}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "_id"=>4b46807cd3b7ec0448000026, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 16:46:52) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46807cd3b7ec0448000027}, {"updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46807cd3b7ec0448000027, "_type"=>"EndpointEvent", "endpoint_id"=>4b46807cd3b7ec0448000026, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46807cd3b7ec0448000026}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 17ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46807cd3b7ec0448000028}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46807cd3b7ec0448000028, "_type"=>"EndpointEvent", "endpoint_id"=>4b468073d3b7ec0448000001, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46807cd3b7ec0448000029}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46807cd3b7ec0448000029, "_type"=>"EndpointEvent", "endpoint_id"=>4b468073d3b7ec0448000001, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46807cd3b7ec044800002a}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 00:46:52 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46807cd3b7ec044800002a, "_type"=>"EndpointEvent", "endpoint_id"=>4b468073d3b7ec0448000001, "created_at"=>Fri Jan 08 00:46:52 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 16:46:52) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 10ms (View: 3 | 200 OK [http://test.host/endpoints//endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807dd3b7ec044800002b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:53 UTC 2010, "_id"=>4b46807dd3b7ec044800002b, "path"=>"a/b/1", "created_at"=>Fri Jan 08 00:46:53 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807dd3b7ec044800002c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:53 UTC 2010, "_id"=>4b46807dd3b7ec044800002c, "path"=>"a/b/2", "created_at"=>Fri Jan 08 00:46:53 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807ed3b7ec044800002d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:54 UTC 2010, "_id"=>4b46807ed3b7ec044800002d, "path"=>"a/b/3", "created_at"=>Fri Jan 08 00:46:54 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 16:46:54) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 13ms (View: 3 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46807ed3b7ec044800002e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 00:46:54 UTC 2010, "_id"=>4b46807ed3b7ec044800002e, "path"=>"a/b/c", "created_at"=>Fri Jan 08 00:46:54 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 16:46:54) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46807ed3b7ec044800002f}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 00:46:54 UTC 2010, "_id"=>4b46807ed3b7ec044800002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 00:46:54 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46807ed3b7ec044800002f}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 00:46:54 UTC 2010, "_id"=>4b46807ed3b7ec044800002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 00:46:54 UTC 2010})
Completed in 24ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
RobustThread: waiting on "#<Thread:0x655ad24 run>"
RobustThread: "#<Thread:0x655ad24 run>" exited cleanly
RobustThread: exited cleanly
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46ba7cd3b7ec23c8000006}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46ba7cd3b7ec23c8000006, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46ba7cd3b7ec23c8000007}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46ba7cd3b7ec23c8000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46ba7cd3b7ec23c8000006, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46ba7cd3b7ec23c8000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46ba7cd3b7ec23c8000006}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46ba7cd3b7ec23c8000006}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba7ed3b7ec23c8000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:22 UTC 2010, "_id"=>4b46ba7ed3b7ec23c8000008, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:22 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:54:22) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba7fd3b7ec23c8000009}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:23 UTC 2010, "_id"=>4b46ba7fd3b7ec23c8000009, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:23 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:54:23) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba81d3b7ec23c800000a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:25 UTC 2010, "_id"=>4b46ba81d3b7ec23c800000a, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:25 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:54:25) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46ba81d3b7ec23c800000b, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46ba81d3b7ec23c800000b}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46ba81d3b7ec23c800000b&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba81d3b7ec23c800000c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:25 UTC 2010, "_id"=>4b46ba81d3b7ec23c800000c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:25 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46ba81d3b7ec23c800000d}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 04:54:25 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46ba81d3b7ec23c800000d, "duration"=>0.0, "endpoint_id"=>4b46ba81d3b7ec23c800000c, "created_at"=>Fri Jan 08 04:54:25 UTC 2010, "start_time"=>Fri Jan 08 04:54:25 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46ba81d3b7ec23c800000e}, {"name"=>"a job", "job_id"=>4b46ba81d3b7ec23c800000d, "updated_at"=>Fri Jan 08 04:54:25 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46ba81d3b7ec23c800000e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46ba81d3b7ec23c800000c, "created_at"=>Fri Jan 08 04:54:25 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46ba81d3b7ec23c800000c}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:54:26) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46ba81d3b7ec23c800000d, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46ba81d3b7ec23c800000d}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46ba81d3b7ec23c800000d}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 04:54:26 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46ba81d3b7ec23c800000d, "duration"=>-4743174.41666667, "endpoint_id"=>4b46ba81d3b7ec23c800000c, "created_at"=>Fri Jan 08 04:54:25 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:54:25 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba82d3b7ec23c800000f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:26 UTC 2010, "_id"=>4b46ba82d3b7ec23c800000f, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:26 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:54:26) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46ba82d3b7ec23c8000010, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46ba82d3b7ec23c8000010}, {}).limit(-1)
Completed in 7ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46ba82d3b7ec23c8000010&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba83d3b7ec23c8000011}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:27 UTC 2010, "_id"=>4b46ba83d3b7ec23c8000011, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:27 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46ba83d3b7ec23c8000012}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 04:54:27 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46ba83d3b7ec23c8000012, "duration"=>0.0, "endpoint_id"=>4b46ba83d3b7ec23c8000011, "created_at"=>Fri Jan 08 04:54:27 UTC 2010, "start_time"=>Fri Jan 08 04:54:27 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46ba83d3b7ec23c8000013}, {"name"=>"a job", "job_id"=>4b46ba83d3b7ec23c8000012, "updated_at"=>Fri Jan 08 04:54:27 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46ba83d3b7ec23c8000013, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46ba83d3b7ec23c8000011, "created_at"=>Fri Jan 08 04:54:27 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46ba83d3b7ec23c8000011}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:54:27) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46ba83d3b7ec23c8000012, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46ba83d3b7ec23c8000012}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46ba83d3b7ec23c8000012}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 04:54:27 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46ba83d3b7ec23c8000012, "duration"=>-4743174.45, "endpoint_id"=>4b46ba83d3b7ec23c8000011, "created_at"=>Fri Jan 08 04:54:27 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:54:27 UTC 2010})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba84d3b7ec23c8000014}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:28 UTC 2010, "_id"=>4b46ba84d3b7ec23c8000014, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:28 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46ba84d3b7ec23c8000014}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46ba84d3b7ec23c8000014}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 20:54:28) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba87d3b7ec23c8000015}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:31 UTC 2010, "_id"=>4b46ba87d3b7ec23c8000015, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:31 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46ba87d3b7ec23c8000016}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 04:54:31 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46ba87d3b7ec23c8000016, "duration"=>0.0, "endpoint_id"=>4b46ba76d3b7ec23c8000002, "created_at"=>Fri Jan 08 04:54:31 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46ba87d3b7ec23c8000017}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 04:54:31 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46ba87d3b7ec23c8000017, "duration"=>0.0, "endpoint_id"=>4b46ba76d3b7ec23c8000002, "created_at"=>Fri Jan 08 04:54:31 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46ba87d3b7ec23c8000018}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 04:54:31 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46ba87d3b7ec23c8000018, "duration"=>0.0, "endpoint_id"=>4b46ba76d3b7ec23c8000002, "created_at"=>Fri Jan 08 04:54:31 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 20:54:31) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 22ms (View: 14 | 200 OK [http://test.host/jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba8ad3b7ec23c8000019}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:34 UTC 2010, "_id"=>4b46ba8ad3b7ec23c8000019, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 20:54:34) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba8dd3b7ec23c800001a}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:37 UTC 2010, "_id"=>4b46ba8dd3b7ec23c800001a, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:37 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 20:54:37) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46ba8dd3b7ec23c800001b}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 04:54:37 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46ba8dd3b7ec23c800001b, "_type"=>"EndpointEvent", "endpoint_id"=>4b46ba76d3b7ec23c8000001, "created_at"=>Fri Jan 08 04:54:37 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46ba8dd3b7ec23c800001c}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 04:54:37 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46ba8dd3b7ec23c800001c, "_type"=>"EndpointEvent", "endpoint_id"=>4b46ba76d3b7ec23c8000001, "created_at"=>Fri Jan 08 04:54:37 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46ba8dd3b7ec23c800001d}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 04:54:37 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46ba8dd3b7ec23c800001d, "_type"=>"EndpointEvent", "endpoint_id"=>4b46ba76d3b7ec23c8000001, "created_at"=>Fri Jan 08 04:54:37 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 20:54:37) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 8ms (View: 3 | 200 OK [http://test.host/endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba8fd3b7ec23c800001e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:39 UTC 2010, "_id"=>4b46ba8fd3b7ec23c800001e, "path"=>"a/b/1", "created_at"=>Fri Jan 08 04:54:39 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba90d3b7ec23c800001f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:40 UTC 2010, "_id"=>4b46ba90d3b7ec23c800001f, "path"=>"a/b/2", "created_at"=>Fri Jan 08 04:54:40 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba91d3b7ec23c8000020}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:41 UTC 2010, "_id"=>4b46ba91d3b7ec23c8000020, "path"=>"a/b/3", "created_at"=>Fri Jan 08 04:54:41 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 20:54:41) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 10ms (View: 2 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46ba91d3b7ec23c8000021}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:54:41 UTC 2010, "_id"=>4b46ba91d3b7ec23c8000021, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:54:41 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 20:54:41) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb3cd3b7ec0828000006}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46bb3cd3b7ec0828000006, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46bb3cd3b7ec0828000007}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46bb3cd3b7ec0828000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb3cd3b7ec0828000006, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb3cd3b7ec0828000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46bb3cd3b7ec0828000006}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46bb3cd3b7ec0828000006}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb3dd3b7ec0828000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:33 UTC 2010, "_id"=>4b46bb3dd3b7ec0828000008, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:33 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:57:33) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bb3dd3b7ec0828000009}, {"status"=>:pending, "updated_at"=>Fri Jan 08 04:57:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb3dd3b7ec0828000009, "duration"=>0.0, "endpoint_id"=>4b46bb3dd3b7ec0828000008, "created_at"=>Fri Jan 08 04:57:33 UTC 2010, "start_time"=>Fri Jan 08 04:57:33 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb3dd3b7ec082800000a}, {"job_id"=>4b46bb3dd3b7ec0828000009, "updated_at"=>Fri Jan 08 04:57:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb3dd3b7ec082800000a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb3dd3b7ec0828000008, "created_at"=>Fri Jan 08 04:57:33 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb3dd3b7ec0828000008}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46bb3dd3b7ec0828000009}, {"status"=>:completed, "updated_at"=>Fri Jan 08 04:57:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb3dd3b7ec0828000009, "duration"=>-4743177.55, "endpoint_id"=>4b46bb3dd3b7ec0828000008, "created_at"=>Fri Jan 08 04:57:33 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:57:33 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb3dd3b7ec082800000b}, {"job_id"=>4b46bb3dd3b7ec0828000009, "updated_at"=>Fri Jan 08 04:57:33 UTC 2010, "_id"=>4b46bb3dd3b7ec082800000b, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46bb3dd3b7ec0828000008, "duration"=>0.0, "created_at"=>Fri Jan 08 04:57:33 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb3dd3b7ec0828000008}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 45ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb3ed3b7ec082800000c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:34 UTC 2010, "_id"=>4b46bb3ed3b7ec082800000c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:57:34) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bb3ed3b7ec082800000d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 04:57:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb3ed3b7ec082800000d, "duration"=>0.0, "endpoint_id"=>4b46bb3ed3b7ec082800000c, "created_at"=>Fri Jan 08 04:57:34 UTC 2010, "start_time"=>Fri Jan 08 04:57:34 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb3ed3b7ec082800000e}, {"job_id"=>4b46bb3ed3b7ec082800000d, "updated_at"=>Fri Jan 08 04:57:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb3ed3b7ec082800000e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb3ed3b7ec082800000c, "created_at"=>Fri Jan 08 04:57:34 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb3ed3b7ec082800000c}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46bb3ed3b7ec082800000d}, {"status"=>:failed, "updated_at"=>Fri Jan 08 04:57:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb3ed3b7ec082800000d, "duration"=>-4743177.56666667, "endpoint_id"=>4b46bb3ed3b7ec082800000c, "created_at"=>Fri Jan 08 04:57:34 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:57:34 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb3ed3b7ec082800000f}, {"job_id"=>4b46bb3ed3b7ec082800000d, "updated_at"=>Fri Jan 08 04:57:34 UTC 2010, "_id"=>4b46bb3ed3b7ec082800000f, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46bb3ed3b7ec082800000c, "duration"=>0.0, "created_at"=>Fri Jan 08 04:57:34 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb3ed3b7ec082800000c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 28ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb3ed3b7ec0828000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:34 UTC 2010, "_id"=>4b46bb3ed3b7ec0828000010, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:57:34) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb3ed3b7ec0828000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb3ed3b7ec0828000011}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46bb3ed3b7ec0828000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb40d3b7ec0828000012}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:36 UTC 2010, "_id"=>4b46bb40d3b7ec0828000012, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:36 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb40d3b7ec0828000013}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 04:57:36 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb40d3b7ec0828000013, "duration"=>0.0, "endpoint_id"=>4b46bb40d3b7ec0828000012, "created_at"=>Fri Jan 08 04:57:36 UTC 2010, "start_time"=>Fri Jan 08 04:57:36 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb40d3b7ec0828000014}, {"name"=>"a job", "job_id"=>4b46bb40d3b7ec0828000013, "updated_at"=>Fri Jan 08 04:57:36 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb40d3b7ec0828000014, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb40d3b7ec0828000012, "created_at"=>Fri Jan 08 04:57:36 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb40d3b7ec0828000012}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:57:36) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb40d3b7ec0828000013, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb40d3b7ec0828000013}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46bb40d3b7ec0828000013}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 04:57:36 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb40d3b7ec0828000013, "duration"=>-4743177.6, "endpoint_id"=>4b46bb40d3b7ec0828000012, "created_at"=>Fri Jan 08 04:57:36 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:57:36 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bb40d3b7ec0828000015}, {"job_id"=>4b46bb40d3b7ec0828000013, "updated_at"=>Fri Jan 08 04:57:36 UTC 2010, "_id"=>4b46bb40d3b7ec0828000015, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46bb40d3b7ec0828000012, "duration"=>0.0, "created_at"=>Fri Jan 08 04:57:36 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb40d3b7ec0828000012}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 29ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46bb40d3b7ec0828000013&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46bb40d3b7ec0828000013}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb40d3b7ec0828000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:36 UTC 2010, "_id"=>4b46bb40d3b7ec0828000016, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:36 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:57:36) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb40d3b7ec0828000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb40d3b7ec0828000017}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46bb40d3b7ec0828000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb41d3b7ec0828000018}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "_id"=>4b46bb41d3b7ec0828000018, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:37 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb41d3b7ec0828000019}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb41d3b7ec0828000019, "duration"=>0.0, "endpoint_id"=>4b46bb41d3b7ec0828000018, "created_at"=>Fri Jan 08 04:57:37 UTC 2010, "start_time"=>Fri Jan 08 04:57:37 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb41d3b7ec082800001a}, {"name"=>"a job", "job_id"=>4b46bb41d3b7ec0828000019, "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb41d3b7ec082800001a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb41d3b7ec0828000018, "created_at"=>Fri Jan 08 04:57:37 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb41d3b7ec0828000018}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:57:37) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb41d3b7ec0828000019, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb41d3b7ec0828000019}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46bb41d3b7ec0828000019}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb41d3b7ec0828000019, "duration"=>-4743177.61666667, "endpoint_id"=>4b46bb41d3b7ec0828000018, "created_at"=>Fri Jan 08 04:57:37 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:57:37 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bb41d3b7ec082800001b}, {"job_id"=>4b46bb41d3b7ec0828000019, "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "_id"=>4b46bb41d3b7ec082800001b, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46bb41d3b7ec0828000018, "duration"=>0.0, "created_at"=>Fri Jan 08 04:57:37 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb41d3b7ec0828000018}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 27ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46bb41d3b7ec0828000019&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46bb41d3b7ec0828000019}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb41d3b7ec082800001c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "_id"=>4b46bb41d3b7ec082800001c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:37 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46bb41d3b7ec082800001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46bb41d3b7ec082800001c}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 20:57:37) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bb41d3b7ec082800001d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb41d3b7ec082800001d, "duration"=>0.0, "endpoint_id"=>4b46bb41d3b7ec082800001c, "created_at"=>Fri Jan 08 04:57:37 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb41d3b7ec082800001e}, {"job_id"=>4b46bb41d3b7ec082800001d, "updated_at"=>Fri Jan 08 04:57:37 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb41d3b7ec082800001e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb41d3b7ec082800001c, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 04:57:37 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb41d3b7ec082800001c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 17ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46bb41d3b7ec082800001c}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46bb41d3b7ec082800001c}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46bb41d3b7ec082800001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46bb41d3b7ec082800001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb42d3b7ec082800001f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "_id"=>4b46bb42d3b7ec082800001f, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:38 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb42d3b7ec0828000020}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46bb42d3b7ec0828000020, "duration"=>0.0, "endpoint_id"=>4b46bb35d3b7ec0828000002, "created_at"=>Fri Jan 08 04:57:38 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb42d3b7ec0828000021}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46bb42d3b7ec0828000021, "duration"=>0.0, "endpoint_id"=>4b46bb35d3b7ec0828000002, "created_at"=>Fri Jan 08 04:57:38 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb42d3b7ec0828000022}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46bb42d3b7ec0828000022, "duration"=>0.0, "endpoint_id"=>4b46bb35d3b7ec0828000002, "created_at"=>Fri Jan 08 04:57:38 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 20:57:38) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 22ms (View: 15 | 200 OK [http://test.host/jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb42d3b7ec0828000023}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "_id"=>4b46bb42d3b7ec0828000023, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:38 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 20:57:38) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb42d3b7ec0828000024}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "_id"=>4b46bb42d3b7ec0828000024, "path"=>"d/e/f", "created_at"=>Fri Jan 08 04:57:38 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb42d3b7ec0828000025}, {"updated_at"=>Fri Jan 08 04:57:38 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46bb42d3b7ec0828000025, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb42d3b7ec0828000024, "created_at"=>Fri Jan 08 04:57:38 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb42d3b7ec0828000024}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb43d3b7ec0828000026}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:39 UTC 2010, "_id"=>4b46bb43d3b7ec0828000026, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:39 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 20:57:39) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bb43d3b7ec0828000027}, {"updated_at"=>Fri Jan 08 04:57:39 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb43d3b7ec0828000027, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb43d3b7ec0828000026, "created_at"=>Fri Jan 08 04:57:39 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb43d3b7ec0828000026}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 13ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46bb43d3b7ec0828000028}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 04:57:39 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46bb43d3b7ec0828000028, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb35d3b7ec0828000001, "created_at"=>Fri Jan 08 04:57:39 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb43d3b7ec0828000029}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 04:57:39 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46bb43d3b7ec0828000029, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb35d3b7ec0828000001, "created_at"=>Fri Jan 08 04:57:39 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb43d3b7ec082800002a}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 04:57:39 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46bb43d3b7ec082800002a, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb35d3b7ec0828000001, "created_at"=>Fri Jan 08 04:57:39 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 20:57:39) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 8ms (View: 2 | 200 OK [http://test.host/endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb43d3b7ec082800002b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:39 UTC 2010, "_id"=>4b46bb43d3b7ec082800002b, "path"=>"a/b/1", "created_at"=>Fri Jan 08 04:57:39 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb44d3b7ec082800002c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:40 UTC 2010, "_id"=>4b46bb44d3b7ec082800002c, "path"=>"a/b/2", "created_at"=>Fri Jan 08 04:57:40 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb44d3b7ec082800002d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:40 UTC 2010, "_id"=>4b46bb44d3b7ec082800002d, "path"=>"a/b/3", "created_at"=>Fri Jan 08 04:57:40 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 20:57:40) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 11ms (View: 3 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb44d3b7ec082800002e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:57:40 UTC 2010, "_id"=>4b46bb44d3b7ec082800002e, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:57:40 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 20:57:40) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb44d3b7ec082800002f}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 04:57:40 UTC 2010, "_id"=>4b46bb44d3b7ec082800002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 04:57:40 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb44d3b7ec082800002f}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 04:57:40 UTC 2010, "_id"=>4b46bb44d3b7ec082800002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 04:57:40 UTC 2010})
Completed in 17ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb76d3b7ec21fc000006}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46bb76d3b7ec21fc000006, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46bb76d3b7ec21fc000007}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46bb76d3b7ec21fc000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb76d3b7ec21fc000006, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb76d3b7ec21fc000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46bb76d3b7ec21fc000006}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46bb76d3b7ec21fc000006}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb78d3b7ec21fc000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "_id"=>4b46bb78d3b7ec21fc000008, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:58:32) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bb78d3b7ec21fc000009}, {"status"=>:pending, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb78d3b7ec21fc000009, "duration"=>0.0, "endpoint_id"=>4b46bb78d3b7ec21fc000008, "created_at"=>Fri Jan 08 04:58:32 UTC 2010, "start_time"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb78d3b7ec21fc00000a}, {"job_id"=>4b46bb78d3b7ec21fc000009, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb78d3b7ec21fc00000a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb78d3b7ec21fc000008, "created_at"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb78d3b7ec21fc000008}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46bb78d3b7ec21fc000009}, {"status"=>:completed, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb78d3b7ec21fc000009, "duration"=>-4743178.53333333, "endpoint_id"=>4b46bb78d3b7ec21fc000008, "created_at"=>Fri Jan 08 04:58:32 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb78d3b7ec21fc00000b}, {"job_id"=>4b46bb78d3b7ec21fc000009, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "_id"=>4b46bb78d3b7ec21fc00000b, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46bb78d3b7ec21fc000008, "duration"=>0.0, "created_at"=>Fri Jan 08 04:58:32 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb78d3b7ec21fc000008}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 43ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb78d3b7ec21fc00000c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "_id"=>4b46bb78d3b7ec21fc00000c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:58:32) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bb78d3b7ec21fc00000d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb78d3b7ec21fc00000d, "duration"=>0.0, "endpoint_id"=>4b46bb78d3b7ec21fc00000c, "created_at"=>Fri Jan 08 04:58:32 UTC 2010, "start_time"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb78d3b7ec21fc00000e}, {"job_id"=>4b46bb78d3b7ec21fc00000d, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb78d3b7ec21fc00000e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb78d3b7ec21fc00000c, "created_at"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb78d3b7ec21fc00000c}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46bb78d3b7ec21fc00000d}, {"status"=>:failed, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb78d3b7ec21fc00000d, "duration"=>-4743178.53333333, "endpoint_id"=>4b46bb78d3b7ec21fc00000c, "created_at"=>Fri Jan 08 04:58:32 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:58:32 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb78d3b7ec21fc00000f}, {"job_id"=>4b46bb78d3b7ec21fc00000d, "updated_at"=>Fri Jan 08 04:58:32 UTC 2010, "_id"=>4b46bb78d3b7ec21fc00000f, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46bb78d3b7ec21fc00000c, "duration"=>0.0, "created_at"=>Fri Jan 08 04:58:32 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb78d3b7ec21fc00000c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 31ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb79d3b7ec21fc000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:33 UTC 2010, "_id"=>4b46bb79d3b7ec21fc000010, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:33 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:58:33) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb79d3b7ec21fc000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb79d3b7ec21fc000011}, {}).limit(-1)
Completed in 2ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46bb79d3b7ec21fc000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb79d3b7ec21fc000012}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:33 UTC 2010, "_id"=>4b46bb79d3b7ec21fc000012, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:33 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb79d3b7ec21fc000013}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 04:58:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb79d3b7ec21fc000013, "duration"=>0.0, "endpoint_id"=>4b46bb79d3b7ec21fc000012, "created_at"=>Fri Jan 08 04:58:33 UTC 2010, "start_time"=>Fri Jan 08 04:58:33 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb79d3b7ec21fc000014}, {"name"=>"a job", "job_id"=>4b46bb79d3b7ec21fc000013, "updated_at"=>Fri Jan 08 04:58:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb79d3b7ec21fc000014, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb79d3b7ec21fc000012, "created_at"=>Fri Jan 08 04:58:33 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb79d3b7ec21fc000012}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 20:58:33) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb79d3b7ec21fc000013, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb79d3b7ec21fc000013}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46bb79d3b7ec21fc000013}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 04:58:33 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb79d3b7ec21fc000013, "duration"=>-4743178.55, "endpoint_id"=>4b46bb79d3b7ec21fc000012, "created_at"=>Fri Jan 08 04:58:33 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:58:33 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bb79d3b7ec21fc000015}, {"job_id"=>4b46bb79d3b7ec21fc000013, "updated_at"=>Fri Jan 08 04:58:33 UTC 2010, "_id"=>4b46bb79d3b7ec21fc000015, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46bb79d3b7ec21fc000012, "duration"=>0.0, "created_at"=>Fri Jan 08 04:58:33 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb79d3b7ec21fc000012}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 23ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46bb79d3b7ec21fc000013&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46bb79d3b7ec21fc000013}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7ad3b7ec21fc000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "_id"=>4b46bb7ad3b7ec21fc000016, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:58:34) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb7ad3b7ec21fc000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb7ad3b7ec21fc000017}, {}).limit(-1)
Completed in 3ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46bb7ad3b7ec21fc000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7ad3b7ec21fc000018}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "_id"=>4b46bb7ad3b7ec21fc000018, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb7ad3b7ec21fc000019}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb7ad3b7ec21fc000019, "duration"=>0.0, "endpoint_id"=>4b46bb7ad3b7ec21fc000018, "created_at"=>Fri Jan 08 04:58:34 UTC 2010, "start_time"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb7ad3b7ec21fc00001a}, {"name"=>"a job", "job_id"=>4b46bb7ad3b7ec21fc000019, "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb7ad3b7ec21fc00001a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb7ad3b7ec21fc000018, "created_at"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb7ad3b7ec21fc000018}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 20:58:34) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bb7ad3b7ec21fc000019, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bb7ad3b7ec21fc000019}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46bb7ad3b7ec21fc000019}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb7ad3b7ec21fc000019, "duration"=>-4743178.56666667, "endpoint_id"=>4b46bb7ad3b7ec21fc000018, "created_at"=>Fri Jan 08 04:58:34 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bb7ad3b7ec21fc00001b}, {"job_id"=>4b46bb7ad3b7ec21fc000019, "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "_id"=>4b46bb7ad3b7ec21fc00001b, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46bb7ad3b7ec21fc000018, "duration"=>0.0, "created_at"=>Fri Jan 08 04:58:34 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb7ad3b7ec21fc000018}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46bb7ad3b7ec21fc000019&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46bb7ad3b7ec21fc000019}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7ad3b7ec21fc00001c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "_id"=>4b46bb7ad3b7ec21fc00001c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46bb7ad3b7ec21fc00001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46bb7ad3b7ec21fc00001c}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 20:58:34) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bb7ad3b7ec21fc00001d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb7ad3b7ec21fc00001d, "duration"=>0.0, "endpoint_id"=>4b46bb7ad3b7ec21fc00001c, "created_at"=>Fri Jan 08 04:58:34 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb7ad3b7ec21fc00001e}, {"job_id"=>4b46bb7ad3b7ec21fc00001d, "updated_at"=>Fri Jan 08 04:58:34 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb7ad3b7ec21fc00001e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bb7ad3b7ec21fc00001c, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 04:58:34 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb7ad3b7ec21fc00001c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46bb7ad3b7ec21fc00001c}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46bb7ad3b7ec21fc00001c}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46bb7ad3b7ec21fc00001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46bb7ad3b7ec21fc00001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7bd3b7ec21fc00001f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "_id"=>4b46bb7bd3b7ec21fc00001f, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:35 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb7bd3b7ec21fc000020}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46bb7bd3b7ec21fc000020, "duration"=>0.0, "endpoint_id"=>4b46bb72d3b7ec21fc000002, "created_at"=>Fri Jan 08 04:58:35 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb7bd3b7ec21fc000021}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46bb7bd3b7ec21fc000021, "duration"=>0.0, "endpoint_id"=>4b46bb72d3b7ec21fc000002, "created_at"=>Fri Jan 08 04:58:35 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bb7bd3b7ec21fc000022}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46bb7bd3b7ec21fc000022, "duration"=>0.0, "endpoint_id"=>4b46bb72d3b7ec21fc000002, "created_at"=>Fri Jan 08 04:58:35 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 20:58:35) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 19ms (View: 13 | 200 OK [http://test.host/jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7bd3b7ec21fc000023}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "_id"=>4b46bb7bd3b7ec21fc000023, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:35 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 20:58:35) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb7bd3b7ec21fc000024}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "_id"=>4b46bb7bd3b7ec21fc000024, "path"=>"d/e/f", "created_at"=>Fri Jan 08 04:58:35 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb7bd3b7ec21fc000025}, {"updated_at"=>Fri Jan 08 04:58:35 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46bb7bd3b7ec21fc000025, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb7bd3b7ec21fc000024, "created_at"=>Fri Jan 08 04:58:35 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb7bd3b7ec21fc000024}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7cd3b7ec21fc000026}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:36 UTC 2010, "_id"=>4b46bb7cd3b7ec21fc000026, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:36 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 20:58:36) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bb7cd3b7ec21fc000027}, {"updated_at"=>Fri Jan 08 04:58:36 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bb7cd3b7ec21fc000027, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb7cd3b7ec21fc000026, "created_at"=>Fri Jan 08 04:58:36 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bb7cd3b7ec21fc000026}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 10ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46bb7cd3b7ec21fc000028}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 04:58:36 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46bb7cd3b7ec21fc000028, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb72d3b7ec21fc000001, "created_at"=>Fri Jan 08 04:58:36 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb7cd3b7ec21fc000029}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 04:58:36 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46bb7cd3b7ec21fc000029, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb72d3b7ec21fc000001, "created_at"=>Fri Jan 08 04:58:36 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bb7cd3b7ec21fc00002a}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 04:58:36 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46bb7cd3b7ec21fc00002a, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bb72d3b7ec21fc000001, "created_at"=>Fri Jan 08 04:58:36 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 20:58:36) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 10ms (View: 4 | 200 OK [http://test.host/endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7dd3b7ec21fc00002b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:37 UTC 2010, "_id"=>4b46bb7dd3b7ec21fc00002b, "path"=>"a/b/1", "created_at"=>Fri Jan 08 04:58:37 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7dd3b7ec21fc00002c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:37 UTC 2010, "_id"=>4b46bb7dd3b7ec21fc00002c, "path"=>"a/b/2", "created_at"=>Fri Jan 08 04:58:37 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7ed3b7ec21fc00002d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:38 UTC 2010, "_id"=>4b46bb7ed3b7ec21fc00002d, "path"=>"a/b/3", "created_at"=>Fri Jan 08 04:58:38 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 20:58:38) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 10ms (View: 2 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bb7ed3b7ec21fc00002e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 04:58:38 UTC 2010, "_id"=>4b46bb7ed3b7ec21fc00002e, "path"=>"a/b/c", "created_at"=>Fri Jan 08 04:58:38 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 20:58:38) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb7ed3b7ec21fc00002f}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 04:58:38 UTC 2010, "_id"=>4b46bb7ed3b7ec21fc00002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 04:58:38 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bb7ed3b7ec21fc00002f}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 04:58:38 UTC 2010, "_id"=>4b46bb7ed3b7ec21fc00002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 04:58:38 UTC 2010})
Completed in 15ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bec6d3b7ec1470000006}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46bec6d3b7ec1470000006, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46bec6d3b7ec1470000007}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46bec6d3b7ec1470000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bec6d3b7ec1470000006, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bec6d3b7ec1470000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46bec6d3b7ec1470000006}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46bec6d3b7ec1470000006}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bec8d3b7ec1470000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:40 UTC 2010, "_id"=>4b46bec8d3b7ec1470000008, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:40 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 21:12:40) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bec8d3b7ec1470000009}, {"status"=>:pending, "updated_at"=>Fri Jan 08 05:12:40 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bec8d3b7ec1470000009, "duration"=>0.0, "endpoint_id"=>4b46bec8d3b7ec1470000008, "created_at"=>Fri Jan 08 05:12:40 UTC 2010, "start_time"=>Fri Jan 08 05:12:40 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bec8d3b7ec147000000a}, {"job_id"=>4b46bec8d3b7ec1470000009, "updated_at"=>Fri Jan 08 05:12:40 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bec8d3b7ec147000000a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bec8d3b7ec1470000008, "created_at"=>Fri Jan 08 05:12:40 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bec8d3b7ec1470000008}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46bec8d3b7ec1470000009}, {"status"=>:completed, "updated_at"=>Fri Jan 08 05:12:40 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bec8d3b7ec1470000009, "duration"=>-4743192.66666667, "endpoint_id"=>4b46bec8d3b7ec1470000008, "created_at"=>Fri Jan 08 05:12:40 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:12:40 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bec8d3b7ec147000000b}, {"job_id"=>4b46bec8d3b7ec1470000009, "updated_at"=>Fri Jan 08 05:12:40 UTC 2010, "_id"=>4b46bec8d3b7ec147000000b, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46bec8d3b7ec1470000008, "duration"=>0.0, "created_at"=>Fri Jan 08 05:12:40 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bec8d3b7ec1470000008}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 31ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46becad3b7ec147000000c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:42 UTC 2010, "_id"=>4b46becad3b7ec147000000c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:42 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 21:12:42) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46becad3b7ec147000000d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 05:12:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46becad3b7ec147000000d, "duration"=>0.0, "endpoint_id"=>4b46becad3b7ec147000000c, "created_at"=>Fri Jan 08 05:12:42 UTC 2010, "start_time"=>Fri Jan 08 05:12:42 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46becad3b7ec147000000e}, {"job_id"=>4b46becad3b7ec147000000d, "updated_at"=>Fri Jan 08 05:12:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46becad3b7ec147000000e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46becad3b7ec147000000c, "created_at"=>Fri Jan 08 05:12:42 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46becad3b7ec147000000c}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46becad3b7ec147000000d}, {"status"=>:failed, "updated_at"=>Fri Jan 08 05:12:42 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46becad3b7ec147000000d, "duration"=>-4743192.7, "endpoint_id"=>4b46becad3b7ec147000000c, "created_at"=>Fri Jan 08 05:12:42 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:12:42 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46becad3b7ec147000000f}, {"job_id"=>4b46becad3b7ec147000000d, "updated_at"=>Fri Jan 08 05:12:42 UTC 2010, "_id"=>4b46becad3b7ec147000000f, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46becad3b7ec147000000c, "duration"=>0.0, "created_at"=>Fri Jan 08 05:12:42 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46becad3b7ec147000000c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 33ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46becbd3b7ec1470000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:43 UTC 2010, "_id"=>4b46becbd3b7ec1470000010, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:43 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 21:12:43) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46becbd3b7ec1470000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46becbd3b7ec1470000011}, {}).limit(-1)
Completed in 4ms (View: 0 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46becbd3b7ec1470000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46beced3b7ec1470000012}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:46 UTC 2010, "_id"=>4b46beced3b7ec1470000012, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:46 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46beced3b7ec1470000013}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 05:12:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46beced3b7ec1470000013, "duration"=>0.0, "endpoint_id"=>4b46beced3b7ec1470000012, "created_at"=>Fri Jan 08 05:12:46 UTC 2010, "start_time"=>Fri Jan 08 05:12:46 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46beced3b7ec1470000014}, {"name"=>"a job", "job_id"=>4b46beced3b7ec1470000013, "updated_at"=>Fri Jan 08 05:12:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46beced3b7ec1470000014, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46beced3b7ec1470000012, "created_at"=>Fri Jan 08 05:12:46 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46beced3b7ec1470000012}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 21:12:46) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46beced3b7ec1470000013, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46beced3b7ec1470000013}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46beced3b7ec1470000013}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 05:12:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46beced3b7ec1470000013, "duration"=>-4743192.76666667, "endpoint_id"=>4b46beced3b7ec1470000012, "created_at"=>Fri Jan 08 05:12:46 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:12:46 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46beced3b7ec1470000015}, {"job_id"=>4b46beced3b7ec1470000013, "updated_at"=>Fri Jan 08 05:12:46 UTC 2010, "_id"=>4b46beced3b7ec1470000015, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46beced3b7ec1470000012, "duration"=>0.0, "created_at"=>Fri Jan 08 05:12:46 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46beced3b7ec1470000012}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46beced3b7ec1470000013&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46beced3b7ec1470000013}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed1d3b7ec1470000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:49 UTC 2010, "_id"=>4b46bed1d3b7ec1470000016, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:49 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 21:12:49) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bed1d3b7ec1470000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bed1d3b7ec1470000017}, {}).limit(-1)
Completed in 4ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46bed1d3b7ec1470000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed2d3b7ec1470000018}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:50 UTC 2010, "_id"=>4b46bed2d3b7ec1470000018, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:50 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bed2d3b7ec1470000019}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 05:12:50 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bed2d3b7ec1470000019, "duration"=>0.0, "endpoint_id"=>4b46bed2d3b7ec1470000018, "created_at"=>Fri Jan 08 05:12:50 UTC 2010, "start_time"=>Fri Jan 08 05:12:50 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bed2d3b7ec147000001a}, {"name"=>"a job", "job_id"=>4b46bed2d3b7ec1470000019, "updated_at"=>Fri Jan 08 05:12:50 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bed2d3b7ec147000001a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bed2d3b7ec1470000018, "created_at"=>Fri Jan 08 05:12:50 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bed2d3b7ec1470000018}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 21:12:50) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46bed2d3b7ec1470000019, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46bed2d3b7ec1470000019}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46bed2d3b7ec1470000019}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 05:12:50 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bed2d3b7ec1470000019, "duration"=>-4743192.83333333, "endpoint_id"=>4b46bed2d3b7ec1470000018, "created_at"=>Fri Jan 08 05:12:50 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:12:50 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bed2d3b7ec147000001b}, {"job_id"=>4b46bed2d3b7ec1470000019, "updated_at"=>Fri Jan 08 05:12:50 UTC 2010, "_id"=>4b46bed2d3b7ec147000001b, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46bed2d3b7ec1470000018, "duration"=>0.0, "created_at"=>Fri Jan 08 05:12:50 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bed2d3b7ec1470000018}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 25ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46bed2d3b7ec1470000019&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46bed2d3b7ec1470000019}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed3d3b7ec147000001c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:51 UTC 2010, "_id"=>4b46bed3d3b7ec147000001c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:51 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46bed3d3b7ec147000001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46bed3d3b7ec147000001c}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 21:12:51) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46bed3d3b7ec147000001d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 05:12:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bed3d3b7ec147000001d, "duration"=>0.0, "endpoint_id"=>4b46bed3d3b7ec147000001c, "created_at"=>Fri Jan 08 05:12:51 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bed3d3b7ec147000001e}, {"job_id"=>4b46bed3d3b7ec147000001d, "updated_at"=>Fri Jan 08 05:12:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bed3d3b7ec147000001e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46bed3d3b7ec147000001c, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 05:12:51 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bed3d3b7ec147000001c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 20ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46bed3d3b7ec147000001c}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46bed3d3b7ec147000001c}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46bed3d3b7ec147000001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46bed3d3b7ec147000001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed6d3b7ec147000001f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:54 UTC 2010, "_id"=>4b46bed6d3b7ec147000001f, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:54 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bed6d3b7ec1470000020}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 05:12:54 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46bed6d3b7ec1470000020, "duration"=>0.0, "endpoint_id"=>4b46bebdd3b7ec1470000002, "created_at"=>Fri Jan 08 05:12:54 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bed6d3b7ec1470000021}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 05:12:54 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46bed6d3b7ec1470000021, "duration"=>0.0, "endpoint_id"=>4b46bebdd3b7ec1470000002, "created_at"=>Fri Jan 08 05:12:54 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46bed6d3b7ec1470000022}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 05:12:54 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46bed6d3b7ec1470000022, "duration"=>0.0, "endpoint_id"=>4b46bebdd3b7ec1470000002, "created_at"=>Fri Jan 08 05:12:54 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 21:12:54) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 17ms (View: 12 | 200 OK [http://test.host/jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed7d3b7ec1470000023}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:55 UTC 2010, "_id"=>4b46bed7d3b7ec1470000023, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:55 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 21:12:55) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bed7d3b7ec1470000024}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 05:12:55 UTC 2010, "_id"=>4b46bed7d3b7ec1470000024, "path"=>"d/e/f", "created_at"=>Fri Jan 08 05:12:55 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bed7d3b7ec1470000025}, {"updated_at"=>Fri Jan 08 05:12:55 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46bed7d3b7ec1470000025, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bed7d3b7ec1470000024, "created_at"=>Fri Jan 08 05:12:55 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bed7d3b7ec1470000024}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 17ms (View: 0 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed8d3b7ec1470000026}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:56 UTC 2010, "_id"=>4b46bed8d3b7ec1470000026, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:56 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 21:12:56) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46bed8d3b7ec1470000027}, {"updated_at"=>Fri Jan 08 05:12:56 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46bed8d3b7ec1470000027, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bed8d3b7ec1470000026, "created_at"=>Fri Jan 08 05:12:56 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46bed8d3b7ec1470000026}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 11ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46bed8d3b7ec1470000028}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 05:12:56 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46bed8d3b7ec1470000028, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bebdd3b7ec1470000001, "created_at"=>Fri Jan 08 05:12:56 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bed8d3b7ec1470000029}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 05:12:56 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46bed8d3b7ec1470000029, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bebdd3b7ec1470000001, "created_at"=>Fri Jan 08 05:12:56 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46bed8d3b7ec147000002a}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 05:12:56 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46bed8d3b7ec147000002a, "_type"=>"EndpointEvent", "endpoint_id"=>4b46bebdd3b7ec1470000001, "created_at"=>Fri Jan 08 05:12:56 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 21:12:56) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 8ms (View: 2 | 200 OK [http://test.host/endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bed9d3b7ec147000002b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:57 UTC 2010, "_id"=>4b46bed9d3b7ec147000002b, "path"=>"a/b/1", "created_at"=>Fri Jan 08 05:12:57 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bedad3b7ec147000002c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:58 UTC 2010, "_id"=>4b46bedad3b7ec147000002c, "path"=>"a/b/2", "created_at"=>Fri Jan 08 05:12:58 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bedad3b7ec147000002d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:58 UTC 2010, "_id"=>4b46bedad3b7ec147000002d, "path"=>"a/b/3", "created_at"=>Fri Jan 08 05:12:58 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 21:12:58) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 12ms (View: 2 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46bedbd3b7ec147000002e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:12:59 UTC 2010, "_id"=>4b46bedbd3b7ec147000002e, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:12:59 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 21:12:59) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bedbd3b7ec147000002f}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 05:12:59 UTC 2010, "_id"=>4b46bedbd3b7ec147000002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 05:12:59 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46bedbd3b7ec147000002f}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 05:12:59 UTC 2010, "_id"=>4b46bedbd3b7ec147000002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 05:12:59 UTC 2010})
Completed in 14ms (View: 1 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB admin.$cmd.find({:ismaster=>1}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
The town crier is receiving his orders...
The town crier has been debriefed and is ready for work.
The town crier has issued a proclamation: my_event
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_complete
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: job_failed
The town crier has issued a proclamation: expectation_unmet
nathan_stults@hsihealth.com has been subscribed to expectation_unmet events
  MONGODB mother_test.endpoints.find({:path=>"A Path"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46c1d6d3b7ec25a4000006}, {"status"=>:unknown, "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "_id"=>4b46c1d6d3b7ec25a4000006, "path"=>"A Path", "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB db.endpoint_events.update({:_id=>4b46c1d6d3b7ec25a4000007}, {"name"=>"a new job", "updated_at"=>Tue Dec 01 08:00:00 UTC 2009, "endpoint_path"=>"A Path", "_id"=>4b46c1d6d3b7ec25a4000007, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46c1d6d3b7ec25a4000006, "created_at"=>Tue Dec 01 08:00:00 UTC 2009})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1d6d3b7ec25a4000006}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.expectations.find({:endpoint_id=>4b46c1d6d3b7ec25a4000006}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46c1d6d3b7ec25a4000006}, {})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1d8d3b7ec25a4000008}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:44 UTC 2010, "_id"=>4b46c1d8d3b7ec25a4000008, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:44 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 21:25:44) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46c1d8d3b7ec25a4000009}, {"status"=>:pending, "updated_at"=>Fri Jan 08 05:25:44 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1d8d3b7ec25a4000009, "duration"=>0.0, "endpoint_id"=>4b46c1d8d3b7ec25a4000008, "created_at"=>Fri Jan 08 05:25:44 UTC 2010, "start_time"=>Fri Jan 08 05:25:44 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1d8d3b7ec25a400000a}, {"job_id"=>4b46c1d8d3b7ec25a4000009, "updated_at"=>Fri Jan 08 05:25:44 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1d8d3b7ec25a400000a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46c1d8d3b7ec25a4000008, "created_at"=>Fri Jan 08 05:25:44 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1d8d3b7ec25a4000008}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46c1d8d3b7ec25a4000009}, {"status"=>:completed, "updated_at"=>Fri Jan 08 05:25:44 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1d8d3b7ec25a4000009, "duration"=>-4743205.73333333, "endpoint_id"=>4b46c1d8d3b7ec25a4000008, "created_at"=>Fri Jan 08 05:25:44 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:25:44 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1d8d3b7ec25a400000b}, {"job_id"=>4b46c1d8d3b7ec25a4000009, "updated_at"=>Fri Jan 08 05:25:44 UTC 2010, "_id"=>4b46c1d8d3b7ec25a400000b, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46c1d8d3b7ec25a4000008, "duration"=>0.0, "created_at"=>Fri Jan 08 05:25:44 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1d8d3b7ec25a4000008}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 38ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1dad3b7ec25a400000c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:46 UTC 2010, "_id"=>4b46c1dad3b7ec25a400000c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:46 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 21:25:46) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46c1dad3b7ec25a400000d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 05:25:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1dad3b7ec25a400000d, "duration"=>0.0, "endpoint_id"=>4b46c1dad3b7ec25a400000c, "created_at"=>Fri Jan 08 05:25:46 UTC 2010, "start_time"=>Fri Jan 08 05:25:46 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1dad3b7ec25a400000e}, {"job_id"=>4b46c1dad3b7ec25a400000d, "updated_at"=>Fri Jan 08 05:25:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1dad3b7ec25a400000e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46c1dad3b7ec25a400000c, "created_at"=>Fri Jan 08 05:25:46 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1dad3b7ec25a400000c}, {})
The town crier has issued a proclamation: endpoint_event
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46c1dad3b7ec25a400000d}, {"status"=>:failed, "updated_at"=>Fri Jan 08 05:25:46 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1dad3b7ec25a400000d, "duration"=>-4743205.76666667, "endpoint_id"=>4b46c1dad3b7ec25a400000c, "created_at"=>Fri Jan 08 05:25:46 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:25:46 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1dad3b7ec25a400000f}, {"job_id"=>4b46c1dad3b7ec25a400000d, "updated_at"=>Fri Jan 08 05:25:46 UTC 2010, "_id"=>4b46c1dad3b7ec25a400000f, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46c1dad3b7ec25a400000c, "duration"=>0.0, "created_at"=>Fri Jan 08 05:25:46 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1dad3b7ec25a400000c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 33ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1dcd3b7ec25a4000010}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:48 UTC 2010, "_id"=>4b46c1dcd3b7ec25a4000010, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:48 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 21:25:48) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46c1dcd3b7ec25a4000011, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46c1dcd3b7ec25a4000011}, {}).limit(-1)
Completed in 3ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46c1dcd3b7ec25a4000011&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1dfd3b7ec25a4000012}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:51 UTC 2010, "_id"=>4b46c1dfd3b7ec25a4000012, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:51 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46c1dfd3b7ec25a4000013}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 05:25:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1dfd3b7ec25a4000013, "duration"=>0.0, "endpoint_id"=>4b46c1dfd3b7ec25a4000012, "created_at"=>Fri Jan 08 05:25:51 UTC 2010, "start_time"=>Fri Jan 08 05:25:51 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1dfd3b7ec25a4000014}, {"name"=>"a job", "job_id"=>4b46c1dfd3b7ec25a4000013, "updated_at"=>Fri Jan 08 05:25:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1dfd3b7ec25a4000014, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46c1dfd3b7ec25a4000012, "created_at"=>Fri Jan 08 05:25:51 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1dfd3b7ec25a4000012}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#completed (for 0.0.0.0 at 2010-01-07 21:25:51) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46c1dfd3b7ec25a4000013, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46c1dfd3b7ec25a4000013}, {}).limit(-1)
The town crier has issued a proclamation: job_complete
  MONGODB db.jobs.update({:_id=>4b46c1dfd3b7ec25a4000013}, {"status"=>:completed, "name"=>"a job", "updated_at"=>Fri Jan 08 05:25:51 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1dfd3b7ec25a4000013, "duration"=>-4743205.85, "endpoint_id"=>4b46c1dfd3b7ec25a4000012, "created_at"=>Fri Jan 08 05:25:51 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:25:51 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46c1dfd3b7ec25a4000015}, {"job_id"=>4b46c1dfd3b7ec25a4000013, "updated_at"=>Fri Jan 08 05:25:51 UTC 2010, "_id"=>4b46c1dfd3b7ec25a4000015, "endpoint_path"=>"a/b/c", "_type"=>"JobCompletedEvent", "endpoint_id"=>4b46c1dfd3b7ec25a4000012, "duration"=>0.0, "created_at"=>Fri Jan 08 05:25:51 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1dfd3b7ec25a4000012}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 19ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/completed?id=4b46c1dfd3b7ec25a4000013&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46c1dfd3b7ec25a4000013}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1e1d3b7ec25a4000016}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:53 UTC 2010, "_id"=>4b46c1e1d3b7ec25a4000016, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:53 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 21:25:53) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46c1e1d3b7ec25a4000017, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46c1e1d3b7ec25a4000017}, {}).limit(-1)
Completed in 6ms (View: 1 | 404 Not Found [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46c1e1d3b7ec25a4000017&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1e3d3b7ec25a4000018}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:55 UTC 2010, "_id"=>4b46c1e3d3b7ec25a4000018, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:55 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46c1e3d3b7ec25a4000019}, {"status"=>:pending, "name"=>"a job", "updated_at"=>Fri Jan 08 05:25:55 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1e3d3b7ec25a4000019, "duration"=>0.0, "endpoint_id"=>4b46c1e3d3b7ec25a4000018, "created_at"=>Fri Jan 08 05:25:55 UTC 2010, "start_time"=>Fri Jan 08 05:25:55 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1e3d3b7ec25a400001a}, {"name"=>"a job", "job_id"=>4b46c1e3d3b7ec25a4000019, "updated_at"=>Fri Jan 08 05:25:55 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1e3d3b7ec25a400001a, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46c1e3d3b7ec25a4000018, "created_at"=>Fri Jan 08 05:25:55 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1e3d3b7ec25a4000018}, {})
The town crier has issued a proclamation: endpoint_event
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#failed (for 0.0.0.0 at 2010-01-07 21:25:55) [PUT]
  Parameters: {"endpoint_path"=>"a/b/c", "id"=>4b46c1e3d3b7ec25a4000019, "job"=>{"end_time"=>Mon Jan 01 00:00:00 -0800 2001}}
  MONGODB mother_test.jobs.find({:_id=>4b46c1e3d3b7ec25a4000019}, {}).limit(-1)
The town crier has issued a proclamation: job_failed
  MONGODB db.jobs.update({:_id=>4b46c1e3d3b7ec25a4000019}, {"status"=>:failed, "name"=>"a job", "updated_at"=>Fri Jan 08 05:25:55 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1e3d3b7ec25a4000019, "duration"=>-4743205.91666667, "endpoint_id"=>4b46c1e3d3b7ec25a4000018, "created_at"=>Fri Jan 08 05:25:55 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001, "start_time"=>Fri Jan 08 05:25:55 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46c1e3d3b7ec25a400001b}, {"job_id"=>4b46c1e3d3b7ec25a4000019, "updated_at"=>Fri Jan 08 05:25:55 UTC 2010, "_id"=>4b46c1e3d3b7ec25a400001b, "endpoint_path"=>"a/b/c", "_type"=>"JobFailedEvent", "endpoint_id"=>4b46c1e3d3b7ec25a4000018, "duration"=>0.0, "created_at"=>Fri Jan 08 05:25:55 UTC 2010, "end_time"=>Mon Jan 01 08:00:00 UTC 2001})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1e3d3b7ec25a4000018}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 18ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/failed?id=4b46c1e3d3b7ec25a4000019&job%5Bend_time%5D=Mon+Jan+01+00%3A00%3A00+-0800+2001]
  MONGODB mother_test.jobs.find({:_id=>4b46c1e3d3b7ec25a4000019}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1e6d3b7ec25a400001c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:25:58 UTC 2010, "_id"=>4b46c1e6d3b7ec25a400001c, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:25:58 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46c1e6d3b7ec25a400001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46c1e6d3b7ec25a400001c}, "fields"=>nil}, {}).limit(-1)


Processing JobsController#started (for 0.0.0.0 at 2010-01-07 21:25:58) [POST]
  Parameters: {"endpoint_path"=>"a/b/c", "job"=>{"start_time"=>Fri Jan 01 00:00:00 -0800 2010}}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.jobs.update({:_id=>4b46c1e6d3b7ec25a400001d}, {"status"=>:pending, "updated_at"=>Fri Jan 08 05:25:58 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1e6d3b7ec25a400001d, "duration"=>0.0, "endpoint_id"=>4b46c1e6d3b7ec25a400001c, "created_at"=>Fri Jan 08 05:25:58 UTC 2010, "start_time"=>Fri Jan 01 08:00:00 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1e6d3b7ec25a400001e}, {"job_id"=>4b46c1e6d3b7ec25a400001d, "updated_at"=>Fri Jan 08 05:25:58 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1e6d3b7ec25a400001e, "_type"=>"JobStartedEvent", "endpoint_id"=>4b46c1e6d3b7ec25a400001c, "start_time"=>Fri Jan 01 08:00:00 UTC 2010, "created_at"=>Fri Jan 08 05:25:58 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1e6d3b7ec25a400001c}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 21ms (View: 1 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/jobs/started?job%5Bstart_time%5D=Fri+Jan+01+00%3A00%3A00+-0800+2010]
  MONGODB mother_test.jobs.find({:endpoint_id=>4b46c1e6d3b7ec25a400001c}, {})
  MONGODB mother_test.endpoint_events.find({:endpoint_id=>4b46c1e6d3b7ec25a400001c}, {})
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{:endpoint_id=>4b46c1e6d3b7ec25a400001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{:endpoint_id=>4b46c1e6d3b7ec25a400001c}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1e8d3b7ec25a400001f}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:00 UTC 2010, "_id"=>4b46c1e8d3b7ec25a400001f, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:26:00 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46c1e8d3b7ec25a4000020}, {"status"=>:idle, "name"=>"Event 1", "updated_at"=>Fri Jan 08 05:26:00 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46c1e8d3b7ec25a4000020, "duration"=>0.0, "endpoint_id"=>4b46c1d1d3b7ec25a4000002, "created_at"=>Fri Jan 08 05:26:00 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46c1e8d3b7ec25a4000021}, {"status"=>:idle, "name"=>"Event 2", "updated_at"=>Fri Jan 08 05:26:00 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46c1e8d3b7ec25a4000021, "duration"=>0.0, "endpoint_id"=>4b46c1d1d3b7ec25a4000002, "created_at"=>Fri Jan 08 05:26:00 UTC 2010})
  MONGODB db.jobs.update({:_id=>4b46c1e8d3b7ec25a4000022}, {"status"=>:idle, "name"=>"Event 3", "updated_at"=>Fri Jan 08 05:26:00 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46c1e8d3b7ec25a4000022, "duration"=>0.0, "endpoint_id"=>4b46c1d1d3b7ec25a4000002, "created_at"=>Fri Jan 08 05:26:00 UTC 2010})


Processing JobsController#index to atom (for 0.0.0.0 at 2010-01-07 21:26:00) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"jobs", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.jobs.find({}, {}).skip(2).limit(2)
Rendering jobs/index
Completed in 19ms (View: 13 | 200 OK [http://test.host/jobs.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1e9d3b7ec25a4000023}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:01 UTC 2010, "_id"=>4b46c1e9d3b7ec25a4000023, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:26:01 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 21:26:01) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"d/e/f"}
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"d/e/f"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46c1e9d3b7ec25a4000024}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 05:26:01 UTC 2010, "_id"=>4b46c1e9d3b7ec25a4000024, "path"=>"d/e/f", "created_at"=>Fri Jan 08 05:26:01 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1e9d3b7ec25a4000025}, {"updated_at"=>Fri Jan 08 05:26:01 UTC 2010, "endpoint_path"=>"d/e/f", "_id"=>4b46c1e9d3b7ec25a4000025, "_type"=>"EndpointEvent", "endpoint_id"=>4b46c1e9d3b7ec25a4000024, "created_at"=>Fri Jan 08 05:26:01 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1e9d3b7ec25a4000024}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 17ms (View: 1 | 200 OK [http://test.host/endpoints/d%2Fe%2Ff/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1ead3b7ec25a4000026}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:02 UTC 2010, "_id"=>4b46c1ead3b7ec25a4000026, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:26:02 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointEventsController#create (for 0.0.0.0 at 2010-01-07 21:26:02) [POST]
  Parameters: {"name"=>"A new event", "endpoint_path"=>"a/b/c"}
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
  MONGODB db.endpoint_events.update({:_id=>4b46c1ead3b7ec25a4000027}, {"updated_at"=>Fri Jan 08 05:26:02 UTC 2010, "endpoint_path"=>"a/b/c", "_id"=>4b46c1ead3b7ec25a4000027, "_type"=>"EndpointEvent", "endpoint_id"=>4b46c1ead3b7ec25a4000026, "created_at"=>Fri Jan 08 05:26:02 UTC 2010})
  MONGODB mother_test.expectations.find({:status=>:pending, :endpoint_id=>4b46c1ead3b7ec25a4000026}, {})
The town crier has issued a proclamation: endpoint_event
Completed in 12ms (View: 0 | 200 OK [http://test.host/endpoints/a%2Fb%2Fc/endpoint_events?name=A+new+event]
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.endpoint_events.update({:_id=>4b46c1ead3b7ec25a4000028}, {"name"=>"Event 1", "updated_at"=>Fri Jan 08 05:26:02 UTC 2010, "endpoint_path"=>"a/b/1", "_id"=>4b46c1ead3b7ec25a4000028, "_type"=>"EndpointEvent", "endpoint_id"=>4b46c1d1d3b7ec25a4000001, "created_at"=>Fri Jan 08 05:26:02 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1ead3b7ec25a4000029}, {"name"=>"Event 2", "updated_at"=>Fri Jan 08 05:26:02 UTC 2010, "endpoint_path"=>"a/b/2", "_id"=>4b46c1ead3b7ec25a4000029, "_type"=>"EndpointEvent", "endpoint_id"=>4b46c1d1d3b7ec25a4000001, "created_at"=>Fri Jan 08 05:26:02 UTC 2010})
  MONGODB db.endpoint_events.update({:_id=>4b46c1ead3b7ec25a400002a}, {"name"=>"Event 3", "updated_at"=>Fri Jan 08 05:26:02 UTC 2010, "endpoint_path"=>"a/b/3", "_id"=>4b46c1ead3b7ec25a400002a, "_type"=>"EndpointEvent", "endpoint_id"=>4b46c1d1d3b7ec25a4000001, "created_at"=>Fri Jan 08 05:26:02 UTC 2010})


Processing EndpointEventsController#index to atom (for 0.0.0.0 at 2010-01-07 21:26:02) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoint_events", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoint_events.find({}, {}).skip(2).limit(2)
Rendering endpoint_events/index
Completed in 9ms (View: 3 | 200 OK [http://test.host/endpoint_events.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/1"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1ebd3b7ec25a400002b}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:03 UTC 2010, "_id"=>4b46c1ebd3b7ec25a400002b, "path"=>"a/b/1", "created_at"=>Fri Jan 08 05:26:03 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/2"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1ebd3b7ec25a400002c}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:03 UTC 2010, "_id"=>4b46c1ebd3b7ec25a400002c, "path"=>"a/b/2", "created_at"=>Fri Jan 08 05:26:03 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"a/b/3"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1ebd3b7ec25a400002d}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:03 UTC 2010, "_id"=>4b46c1ebd3b7ec25a400002d, "path"=>"a/b/3", "created_at"=>Fri Jan 08 05:26:03 UTC 2010})


Processing EndpointsController#index to atom (for 0.0.0.0 at 2010-01-07 21:26:03) [GET]
  Parameters: {"per_page"=>"2", "page"=>"2"}
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({}, {}).skip(2).limit(2)
Rendering endpoints/index
Completed in 11ms (View: 2 | 200 OK [http://test.host/endpoints.atom?page=2&per_page=2]
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB mother_test.endpoints.find({:path=>"a/b/c"}, {}).limit(-1)
The town crier has issued a proclamation: endpoint_status_changed
nathan_stults@hsihealth.com has been subscribed to endpoint_status_changed events
  MONGODB db.endpoints.update({:_id=>4b46c1ecd3b7ec25a400002e}, {"status"=>:online, "name"=>"My Endpoint - C", "updated_at"=>Fri Jan 08 05:26:04 UTC 2010, "_id"=>4b46c1ecd3b7ec25a400002e, "path"=>"a/b/c", "created_at"=>Fri Jan 08 05:26:04 UTC 2010})
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)


Processing EndpointsController#update (for 0.0.0.0 at 2010-01-07 21:26:04) [PUT]
  Parameters: {"id"=>"c/d/e", "endpoint"=>{"name"=>"an endpoint"}}
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46c1ecd3b7ec25a400002f}, {"status"=>:unknown, "updated_at"=>Fri Jan 08 05:26:04 UTC 2010, "_id"=>4b46c1ecd3b7ec25a400002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 05:26:04 UTC 2010})
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB db.endpoints.update({:_id=>4b46c1ecd3b7ec25a400002f}, {"status"=>:unknown, "name"=>"an endpoint", "updated_at"=>Fri Jan 08 05:26:04 UTC 2010, "_id"=>4b46c1ecd3b7ec25a400002f, "path"=>"c/d/e", "created_at"=>Fri Jan 08 05:26:04 UTC 2010})
Completed in 15ms (View: 0 | 200 OK [http://test.host/endpoints/c%2Fd%2Fe?endpoint%5Bname%5D=an+endpoint]
  MONGODB mother_test.endpoints.find({:path=>"c/d/e"}, {}).limit(-1)
  MONGODB mother_test.$cmd.find({"count"=>"endpoints", "query"=>{}, "fields"=>nil}, {}).limit(-1)
  MONGODB mother_test.system.namespaces.find({}, {})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
  MONGODB db.mother_test.remove({})
